var rE=Object.defineProperty;var iE=(e,t,n)=>t in e?rE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gh=(e,t,n)=>iE(e,typeof t!="symbol"?t+"":t,n);function aE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r1={exports:{}},_d={},i1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),oE=Symbol.for("react.portal"),lE=Symbol.for("react.fragment"),cE=Symbol.for("react.strict_mode"),uE=Symbol.for("react.profiler"),dE=Symbol.for("react.provider"),fE=Symbol.for("react.context"),hE=Symbol.for("react.forward_ref"),mE=Symbol.for("react.suspense"),pE=Symbol.for("react.memo"),gE=Symbol.for("react.lazy"),lx=Symbol.iterator;function vE(e){return e===null||typeof e!="object"?null:(e=lx&&e[lx]||e["@@iterator"],typeof e=="function"?e:null)}var a1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s1=Object.assign,o1={};function Is(e,t,n){this.props=e,this.context=t,this.refs=o1,this.updater=n||a1}Is.prototype.isReactComponent={};Is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l1(){}l1.prototype=Is.prototype;function lg(e,t,n){this.props=e,this.context=t,this.refs=o1,this.updater=n||a1}var cg=lg.prototype=new l1;cg.constructor=lg;s1(cg,Is.prototype);cg.isPureReactComponent=!0;var cx=Array.isArray,c1=Object.prototype.hasOwnProperty,ug={current:null},u1={key:!0,ref:!0,__self:!0,__source:!0};function d1(e,t,n){var r,i={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)c1.call(t,r)&&!u1.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:wl,type:e,key:a,ref:l,props:i,_owner:ug.current}}function yE(e,t){return{$$typeof:wl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dg(e){return typeof e=="object"&&e!==null&&e.$$typeof===wl}function xE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ux=/\/+/g;function vh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xE(""+e.key):t.toString(36)}function Hc(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case wl:case oE:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+vh(l,0):r,cx(i)?(n="",e!=null&&(n=e.replace(ux,"$&/")+"/"),Hc(i,t,n,"",function(f){return f})):i!=null&&(dg(i)&&(i=yE(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(ux,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",cx(e))for(var u=0;u<e.length;u++){a=e[u];var d=r+vh(a,u);l+=Hc(a,t,n,d,i)}else if(d=vE(e),typeof d=="function")for(e=d.call(e),u=0;!(a=e.next()).done;)a=a.value,d=r+vh(a,u++),l+=Hc(a,t,n,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function uc(e,t,n){if(e==null)return e;var r=[],i=0;return Hc(e,r,"","",function(a){return t.call(n,a,i++)}),r}function _E(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},Zc={transition:null},bE={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Zc,ReactCurrentOwner:ug};function f1(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:uc,forEach:function(e,t,n){uc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uc(e,function(){t++}),t},toArray:function(e){return uc(e,function(t){return t})||[]},only:function(e){if(!dg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Is;_e.Fragment=lE;_e.Profiler=uE;_e.PureComponent=lg;_e.StrictMode=cE;_e.Suspense=mE;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bE;_e.act=f1;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=s1({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=ug.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)c1.call(t,d)&&!u1.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:wl,type:e.type,key:i,ref:a,props:r,_owner:l}};_e.createContext=function(e){return e={$$typeof:fE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dE,_context:e},e.Consumer=e};_e.createElement=d1;_e.createFactory=function(e){var t=d1.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:hE,render:e}};_e.isValidElement=dg;_e.lazy=function(e){return{$$typeof:gE,_payload:{_status:-1,_result:e},_init:_E}};_e.memo=function(e,t){return{$$typeof:pE,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Zc.transition;Zc.transition={};try{e()}finally{Zc.transition=t}};_e.unstable_act=f1;_e.useCallback=function(e,t){return Ht.current.useCallback(e,t)};_e.useContext=function(e){return Ht.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Ht.current.useEffect(e,t)};_e.useId=function(){return Ht.current.useId()};_e.useImperativeHandle=function(e,t,n){return Ht.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Ht.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Ht.current.useReducer(e,t,n)};_e.useRef=function(e){return Ht.current.useRef(e)};_e.useState=function(e){return Ht.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Ht.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Ht.current.useTransition()};_e.version="18.3.1";i1.exports=_e;var x=i1.exports;const iu=wr(x),wE=aE({__proto__:null,default:iu},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE=x,NE=Symbol.for("react.element"),PE=Symbol.for("react.fragment"),SE=Object.prototype.hasOwnProperty,kE=jE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CE={key:!0,ref:!0,__self:!0,__source:!0};function h1(e,t,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)SE.call(t,r)&&!CE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:NE,type:e,key:a,ref:l,props:i,_owner:kE.current}}_d.Fragment=PE;_d.jsx=h1;_d.jsxs=h1;r1.exports=_d;var o=r1.exports,m1={exports:{}},_n={},p1={exports:{}},g1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,q){var Y=R.length;R.push(q);e:for(;0<Y;){var le=Y-1>>>1,te=R[le];if(0<i(te,q))R[le]=q,R[Y]=te,Y=le;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],Y=R.pop();if(Y!==q){R[0]=Y;e:for(var le=0,te=R.length,Z=te>>>1;le<Z;){var ne=2*(le+1)-1,ee=R[ne],ae=ne+1,Te=R[ae];if(0>i(ee,Y))ae<te&&0>i(Te,ee)?(R[le]=Te,R[ae]=Y,le=ae):(R[le]=ee,R[ne]=Y,le=ne);else if(ae<te&&0>i(Te,Y))R[le]=Te,R[ae]=Y,le=ae;else break e}}return q}function i(R,q){var Y=R.sortIndex-q.sortIndex;return Y!==0?Y:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,p=null,g=3,y=!1,j=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=R)r(f),q.sortIndex=q.expirationTime,t(d,q);else break;q=n(f)}}function k(R){if(w=!1,b(R),!j)if(n(d)!==null)j=!0,W(T);else{var q=n(f);q!==null&&G(k,q.startTime-R)}}function T(R,q){j=!1,w&&(w=!1,_(I),I=-1),y=!0;var Y=g;try{for(b(q),p=n(d);p!==null&&(!(p.expirationTime>q)||R&&!M());){var le=p.callback;if(typeof le=="function"){p.callback=null,g=p.priorityLevel;var te=le(p.expirationTime<=q);q=e.unstable_now(),typeof te=="function"?p.callback=te:p===n(d)&&r(d),b(q)}else r(d);p=n(d)}if(p!==null)var Z=!0;else{var ne=n(f);ne!==null&&G(k,ne.startTime-q),Z=!1}return Z}finally{p=null,g=Y,y=!1}}var A=!1,O=null,I=-1,B=5,z=-1;function M(){return!(e.unstable_now()-z<B)}function $(){if(O!==null){var R=e.unstable_now();z=R;var q=!0;try{q=O(!0,R)}finally{q?D():(A=!1,O=null)}}else A=!1}var D;if(typeof N=="function")D=function(){N($)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,U=C.port2;C.port1.onmessage=$,D=function(){U.postMessage(null)}}else D=function(){S($,0)};function W(R){O=R,A||(A=!0,D())}function G(R,q){I=S(function(){R(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,W(T))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var Y=g;g=q;try{return R()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=g;g=R;try{return q()}finally{g=Y}},e.unstable_scheduleCallback=function(R,q,Y){var le=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,R={id:h++,callback:q,priorityLevel:R,startTime:Y,expirationTime:te,sortIndex:-1},Y>le?(R.sortIndex=Y,t(f,R),n(d)===null&&R===n(f)&&(w?(_(I),I=-1):w=!0,G(k,Y-le))):(R.sortIndex=te,t(d,R),j||y||(j=!0,W(T))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var q=g;return function(){var Y=g;g=q;try{return R.apply(this,arguments)}finally{g=Y}}}})(g1);p1.exports=g1;var OE=p1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=x,pn=OE;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v1=new Set,Ko={};function ja(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(Ko[e]=t,e=0;e<t.length;e++)v1.add(t[e])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_m=Object.prototype.hasOwnProperty,TE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dx={},fx={};function AE(e){return _m.call(fx,e)?!0:_m.call(dx,e)?!1:TE.test(e)?fx[e]=!0:(dx[e]=!0,!1)}function ME(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LE(e,t,n,r){if(t===null||typeof t>"u"||ME(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zt(e,t,n,r,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function hg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fg,hg);Pt[t]=new Zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fg,hg);Pt[t]=new Zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fg,hg);Pt[t]=new Zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Zt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function mg(e,t,n,r){var i=Pt.hasOwnProperty(t)?Pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LE(t,n,i,r)&&(n=null),r||i===null?AE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qr=EE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),_1=Symbol.for("react.offscreen"),hx=Symbol.iterator;function uo(e){return e===null||typeof e!="object"?null:(e=hx&&e[hx]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,yh;function Oo(e){if(yh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yh=t&&t[1]||""}return`
`+yh+e}var xh=!1;function _h(e,t){if(!e||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var d=`
`+i[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oo(e):""}function DE(e){switch(e.tag){case 5:return Oo(e.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return e=_h(e.type,!1),e;case 11:return e=_h(e.type.render,!1),e;case 1:return e=_h(e.type,!0),e;default:return""}}function Nm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Za:return"Fragment";case Ha:return"Portal";case bm:return"Profiler";case pg:return"StrictMode";case wm:return"Suspense";case jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x1:return(e.displayName||"Context")+".Consumer";case y1:return(e._context.displayName||"Context")+".Provider";case gg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vg:return t=e.displayName||null,t!==null?t:Nm(e.type)||"Memo";case ai:t=e._payload,e=e._init;try{return Nm(e(t))}catch{}}return null}function IE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(t);case 8:return t===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RE(e){var t=b1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){e._valueTracker||(e._valueTracker=RE(e))}function w1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=b1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pm(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j1(e,t){t=t.checked,t!=null&&mg(e,"checked",t,!1)}function Sm(e,t){j1(e,t);var n=Pi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?km(e,t.type,n):t.hasOwnProperty("defaultValue")&&km(e,t.type,Pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function px(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function km(e,t,n){(t!=="number"||au(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Eo=Array.isArray;function rs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Cm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Eo(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pi(n)}}function N1(e,t){var n=Pi(t.value),r=Pi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hc,S1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hc=hc||document.createElement("div"),hc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zE=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(e){zE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Do[t]=Do[e]})});function k1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Do.hasOwnProperty(e)&&Do[e]?(""+t).trim():t+"px"}function C1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $E=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(e,t){if(t){if($E[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Tm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=null;function yg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mm=null,is=null,as=null;function yx(e){if(e=Pl(e)){if(typeof Mm!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Pd(t),Mm(e.stateNode,e.type,t))}}function O1(e){is?as?as.push(e):as=[e]:is=e}function E1(){if(is){var e=is,t=as;if(as=is=null,yx(e),t)for(e=0;e<t.length;e++)yx(t[e])}}function T1(e,t){return e(t)}function A1(){}var bh=!1;function M1(e,t,n){if(bh)return e(t,n);bh=!0;try{return T1(e,t,n)}finally{bh=!1,(is!==null||as!==null)&&(A1(),E1())}}function Go(e,t){var n=e.stateNode;if(n===null)return null;var r=Pd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Lm=!1;if(Br)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Lm=!1}function BE(e,t,n,r,i,a,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(h){this.onError(h)}}var Io=!1,su=null,ou=!1,Dm=null,FE={onError:function(e){Io=!0,su=e}};function UE(e,t,n,r,i,a,l,u,d){Io=!1,su=null,BE.apply(FE,arguments)}function HE(e,t,n,r,i,a,l,u,d){if(UE.apply(this,arguments),Io){if(Io){var f=su;Io=!1,su=null}else throw Error(J(198));ou||(ou=!0,Dm=f)}}function Na(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function L1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xx(e){if(Na(e)!==e)throw Error(J(188))}function ZE(e){var t=e.alternate;if(!t){if(t=Na(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return xx(i),e;if(a===r)return xx(i),t;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=a;break}if(u===r){l=!0,r=i,n=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===n){l=!0,n=a,r=i;break}if(u===r){l=!0,r=a,n=i;break}u=u.sibling}if(!l)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function D1(e){return e=ZE(e),e!==null?I1(e):null}function I1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=I1(e);if(t!==null)return t;e=e.sibling}return null}var R1=pn.unstable_scheduleCallback,_x=pn.unstable_cancelCallback,WE=pn.unstable_shouldYield,VE=pn.unstable_requestPaint,Xe=pn.unstable_now,KE=pn.unstable_getCurrentPriorityLevel,xg=pn.unstable_ImmediatePriority,z1=pn.unstable_UserBlockingPriority,lu=pn.unstable_NormalPriority,qE=pn.unstable_LowPriority,$1=pn.unstable_IdlePriority,bd=null,vr=null;function GE(e){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(bd,e,void 0,(e.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:QE,YE=Math.log,XE=Math.LN2;function QE(e){return e>>>=0,e===0?32:31-(YE(e)/XE|0)|0}var mc=64,pc=4194304;function To(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=To(u):(a&=l,a!==0&&(r=To(a)))}else l=n&~i,l!==0?r=To(l):a!==0&&(r=To(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rr(t),i=1<<n,r|=e[n],t&=~i;return r}function JE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-rr(a),u=1<<l,d=i[l];d===-1?(!(u&n)||u&r)&&(i[l]=JE(u,t)):d<=t&&(e.expiredLanes|=u),a&=~u}}function Im(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B1(){var e=mc;return mc<<=1,!(mc&4194240)&&(mc=64),e}function wh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rr(t),e[t]=n}function tT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function _g(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function F1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var U1,bg,H1,Z1,W1,Rm=!1,gc=[],gi=null,vi=null,yi=null,Yo=new Map,Xo=new Map,ci=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function ho(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Pl(t),t!==null&&bg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rT(e,t,n,r,i){switch(t){case"focusin":return gi=ho(gi,e,t,n,r,i),!0;case"dragenter":return vi=ho(vi,e,t,n,r,i),!0;case"mouseover":return yi=ho(yi,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Yo.set(a,ho(Yo.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Xo.set(a,ho(Xo.get(a)||null,e,t,n,r,i)),!0}return!1}function V1(e){var t=Xi(e.target);if(t!==null){var n=Na(t);if(n!==null){if(t=n.tag,t===13){if(t=L1(n),t!==null){e.blockedOn=t,W1(e.priority,function(){H1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Am=r,n.target.dispatchEvent(r),Am=null}else return t=Pl(n),t!==null&&bg(t),e.blockedOn=n,!1;t.shift()}return!0}function wx(e,t,n){Wc(e)&&n.delete(t)}function iT(){Rm=!1,gi!==null&&Wc(gi)&&(gi=null),vi!==null&&Wc(vi)&&(vi=null),yi!==null&&Wc(yi)&&(yi=null),Yo.forEach(wx),Xo.forEach(wx)}function mo(e,t){e.blockedOn===t&&(e.blockedOn=null,Rm||(Rm=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,iT)))}function Qo(e){function t(i){return mo(i,e)}if(0<gc.length){mo(gc[0],e);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gi!==null&&mo(gi,e),vi!==null&&mo(vi,e),yi!==null&&mo(yi,e),Yo.forEach(t),Xo.forEach(t),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)V1(n),n.blockedOn===null&&ci.shift()}var ss=qr.ReactCurrentBatchConfig,uu=!0;function aT(e,t,n,r){var i=Se,a=ss.transition;ss.transition=null;try{Se=1,wg(e,t,n,r)}finally{Se=i,ss.transition=a}}function sT(e,t,n,r){var i=Se,a=ss.transition;ss.transition=null;try{Se=4,wg(e,t,n,r)}finally{Se=i,ss.transition=a}}function wg(e,t,n,r){if(uu){var i=zm(e,t,n,r);if(i===null)Ah(e,t,r,du,n),bx(e,r);else if(rT(i,e,t,n,r))r.stopPropagation();else if(bx(e,r),t&4&&-1<nT.indexOf(e)){for(;i!==null;){var a=Pl(i);if(a!==null&&U1(a),a=zm(e,t,n,r),a===null&&Ah(e,t,r,du,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ah(e,t,r,null,n)}}var du=null;function zm(e,t,n,r){if(du=null,e=yg(r),e=Xi(e),e!==null)if(t=Na(e),t===null)e=null;else if(n=t.tag,n===13){if(e=L1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return du=e,null}function K1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KE()){case xg:return 1;case z1:return 4;case lu:case qE:return 16;case $1:return 536870912;default:return 16}default:return 16}}var fi=null,jg=null,Vc=null;function q1(){if(Vc)return Vc;var e,t=jg,n=t.length,r,i="value"in fi?fi.value:fi.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[a-r];r++);return Vc=i.slice(e,1<r?1-r:void 0)}function Kc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vc(){return!0}function jx(){return!1}function bn(e){function t(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vc:jx,this.isPropagationStopped=jx,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ng=bn(Rs),Nl=Ke({},Rs,{view:0,detail:0}),oT=bn(Nl),jh,Nh,po,wd=Ke({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(jh=e.screenX-po.screenX,Nh=e.screenY-po.screenY):Nh=jh=0,po=e),jh)},movementY:function(e){return"movementY"in e?e.movementY:Nh}}),Nx=bn(wd),lT=Ke({},wd,{dataTransfer:0}),cT=bn(lT),uT=Ke({},Nl,{relatedTarget:0}),Ph=bn(uT),dT=Ke({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=bn(dT),hT=Ke({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mT=bn(hT),pT=Ke({},Rs,{data:0}),Px=bn(pT),gT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yT[e])?!!t[e]:!1}function Pg(){return xT}var _T=Ke({},Nl,{key:function(e){if(e.key){var t=gT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?Kc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bT=bn(_T),wT=Ke({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=bn(wT),jT=Ke({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),NT=bn(jT),PT=Ke({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=bn(PT),kT=Ke({},wd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=bn(kT),OT=[9,13,27,32],Sg=Br&&"CompositionEvent"in window,Ro=null;Br&&"documentMode"in document&&(Ro=document.documentMode);var ET=Br&&"TextEvent"in window&&!Ro,G1=Br&&(!Sg||Ro&&8<Ro&&11>=Ro),kx=" ",Cx=!1;function Y1(e,t){switch(e){case"keyup":return OT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function TT(e,t){switch(e){case"compositionend":return X1(t);case"keypress":return t.which!==32?null:(Cx=!0,kx);case"textInput":return e=t.data,e===kx&&Cx?null:e;default:return null}}function AT(e,t){if(Wa)return e==="compositionend"||!Sg&&Y1(e,t)?(e=q1(),Vc=jg=fi=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G1&&t.locale!=="ko"?null:t.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MT[e.type]:t==="textarea"}function Q1(e,t,n,r){O1(r),t=fu(t,"onChange"),0<t.length&&(n=new Ng("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zo=null,Jo=null;function LT(e){cj(e,0)}function jd(e){var t=qa(e);if(w1(t))return e}function DT(e,t){if(e==="change")return t}var J1=!1;if(Br){var Sh;if(Br){var kh="oninput"in document;if(!kh){var Ex=document.createElement("div");Ex.setAttribute("oninput","return;"),kh=typeof Ex.oninput=="function"}Sh=kh}else Sh=!1;J1=Sh&&(!document.documentMode||9<document.documentMode)}function Tx(){zo&&(zo.detachEvent("onpropertychange",ej),Jo=zo=null)}function ej(e){if(e.propertyName==="value"&&jd(Jo)){var t=[];Q1(t,Jo,e,yg(e)),M1(LT,t)}}function IT(e,t,n){e==="focusin"?(Tx(),zo=t,Jo=n,zo.attachEvent("onpropertychange",ej)):e==="focusout"&&Tx()}function RT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jd(Jo)}function zT(e,t){if(e==="click")return jd(t)}function $T(e,t){if(e==="input"||e==="change")return jd(t)}function BT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:BT;function el(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_m.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function Ax(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mx(e,t){var n=Ax(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ax(n)}}function tj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nj(){for(var e=window,t=au();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=au(e.document)}return t}function kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FT(e){var t=nj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tj(n.ownerDocument.documentElement,n)){if(r!==null&&kg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Mx(n,a);var l=Mx(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UT=Br&&"documentMode"in document&&11>=document.documentMode,Va=null,$m=null,$o=null,Bm=!1;function Lx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||Va==null||Va!==au(r)||(r=Va,"selectionStart"in r&&kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&el($o,r)||($o=r,r=fu($m,"onSelect"),0<r.length&&(t=new Ng("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Va)))}function yc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ka={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Ch={},rj={};Br&&(rj=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Nd(e){if(Ch[e])return Ch[e];if(!Ka[e])return e;var t=Ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rj)return Ch[e]=t[n];return e}var ij=Nd("animationend"),aj=Nd("animationiteration"),sj=Nd("animationstart"),oj=Nd("transitionend"),lj=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){lj.set(e,t),ja(t,[e])}for(var Oh=0;Oh<Dx.length;Oh++){var Eh=Dx[Oh],HT=Eh.toLowerCase(),ZT=Eh[0].toUpperCase()+Eh.slice(1);Ei(HT,"on"+ZT)}Ei(ij,"onAnimationEnd");Ei(aj,"onAnimationIteration");Ei(sj,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(oj,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function Ix(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HE(r,t,void 0,e),e.currentTarget=null}function cj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==a&&i.isPropagationStopped())break e;Ix(i,u,f),a=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==a&&i.isPropagationStopped())break e;Ix(i,u,f),a=d}}}if(ou)throw e=Dm,ou=!1,Dm=null,e}function Ie(e,t){var n=t[Wm];n===void 0&&(n=t[Wm]=new Set);var r=e+"__bubble";n.has(r)||(uj(t,e,2,!1),n.add(r))}function Th(e,t,n){var r=0;t&&(r|=4),uj(n,e,r,t)}var xc="_reactListening"+Math.random().toString(36).slice(2);function tl(e){if(!e[xc]){e[xc]=!0,v1.forEach(function(n){n!=="selectionchange"&&(WT.has(n)||Th(n,!1,e),Th(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xc]||(t[xc]=!0,Th("selectionchange",!1,t))}}function uj(e,t,n,r){switch(K1(t)){case 1:var i=aT;break;case 4:i=sT;break;default:i=wg}n=i.bind(null,t,n,e),i=void 0,!Lm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ah(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Xi(u),l===null)return;if(d=l.tag,d===5||d===6){r=a=l;continue e}u=u.parentNode}}r=r.return}M1(function(){var f=a,h=yg(n),p=[];e:{var g=lj.get(e);if(g!==void 0){var y=Ng,j=e;switch(e){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":y=bT;break;case"focusin":j="focus",y=Ph;break;case"focusout":j="blur",y=Ph;break;case"beforeblur":case"afterblur":y=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=cT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=NT;break;case ij:case aj:case sj:y=fT;break;case oj:y=ST;break;case"scroll":y=oT;break;case"wheel":y=CT;break;case"copy":case"cut":case"paste":y=mT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sx}var w=(t&4)!==0,S=!w&&e==="scroll",_=w?g!==null?g+"Capture":null:g;w=[];for(var N=f,b;N!==null;){b=N;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,_!==null&&(k=Go(N,_),k!=null&&w.push(nl(N,k,b)))),S)break;N=N.return}0<w.length&&(g=new y(g,j,null,n,h),p.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Am&&(j=n.relatedTarget||n.fromElement)&&(Xi(j)||j[Fr]))break e;if((y||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=f,j=j?Xi(j):null,j!==null&&(S=Na(j),j!==S||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=f),y!==j)){if(w=Nx,k="onMouseLeave",_="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(w=Sx,k="onPointerLeave",_="onPointerEnter",N="pointer"),S=y==null?g:qa(y),b=j==null?g:qa(j),g=new w(k,N+"leave",y,n,h),g.target=S,g.relatedTarget=b,k=null,Xi(h)===f&&(w=new w(_,N+"enter",j,n,h),w.target=b,w.relatedTarget=S,k=w),S=k,y&&j)t:{for(w=y,_=j,N=0,b=w;b;b=$a(b))N++;for(b=0,k=_;k;k=$a(k))b++;for(;0<N-b;)w=$a(w),N--;for(;0<b-N;)_=$a(_),b--;for(;N--;){if(w===_||_!==null&&w===_.alternate)break t;w=$a(w),_=$a(_)}w=null}else w=null;y!==null&&Rx(p,g,y,w,!1),j!==null&&S!==null&&Rx(p,S,j,w,!0)}}e:{if(g=f?qa(f):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var T=DT;else if(Ox(g))if(J1)T=$T;else{T=RT;var A=IT}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(T=zT);if(T&&(T=T(e,f))){Q1(p,T,n,h);break e}A&&A(e,g,f),e==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&km(g,"number",g.value)}switch(A=f?qa(f):window,e){case"focusin":(Ox(A)||A.contentEditable==="true")&&(Va=A,$m=f,$o=null);break;case"focusout":$o=$m=Va=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,Lx(p,n,h);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":Lx(p,n,h)}var O;if(Sg)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Wa?Y1(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(G1&&n.locale!=="ko"&&(Wa||I!=="onCompositionStart"?I==="onCompositionEnd"&&Wa&&(O=q1()):(fi=h,jg="value"in fi?fi.value:fi.textContent,Wa=!0)),A=fu(f,I),0<A.length&&(I=new Px(I,e,null,n,h),p.push({event:I,listeners:A}),O?I.data=O:(O=X1(n),O!==null&&(I.data=O)))),(O=ET?TT(e,n):AT(e,n))&&(f=fu(f,"onBeforeInput"),0<f.length&&(h=new Px("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:f}),h.data=O))}cj(p,t)})}function nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Go(e,n),a!=null&&r.unshift(nl(e,a,i)),a=Go(e,t),a!=null&&r.push(nl(e,a,i))),e=e.return}return r}function $a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rx(e,t,n,r,i){for(var a=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,i?(d=Go(n,a),d!=null&&l.unshift(nl(n,d,u))):i||(d=Go(n,a),d!=null&&l.push(nl(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var VT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function zx(e){return(typeof e=="string"?e:""+e).replace(VT,`
`).replace(KT,"")}function _c(e,t,n){if(t=zx(t),zx(e)!==t&&n)throw Error(J(425))}function hu(){}var Fm=null,Um=null;function Hm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(e){return $x.resolve(null).then(e).catch(YT)}:Zm;function YT(e){setTimeout(function(){throw e})}function Mh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qo(t)}function xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),mr="__reactFiber$"+zs,rl="__reactProps$"+zs,Fr="__reactContainer$"+zs,Wm="__reactEvents$"+zs,XT="__reactListeners$"+zs,QT="__reactHandles$"+zs;function Xi(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fr]||n[mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bx(e);e!==null;){if(n=e[mr])return n;e=Bx(e)}return t}e=n,n=e.parentNode}return null}function Pl(e){return e=e[mr]||e[Fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Pd(e){return e[rl]||null}var Vm=[],Ga=-1;function Ti(e){return{current:e}}function ze(e){0>Ga||(e.current=Vm[Ga],Vm[Ga]=null,Ga--)}function Le(e,t){Ga++,Vm[Ga]=e.current,e.current=t}var Si={},Lt=Ti(Si),Qt=Ti(!1),ha=Si;function ps(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function mu(){ze(Qt),ze(Lt)}function Fx(e,t,n){if(Lt.current!==Si)throw Error(J(168));Le(Lt,t),Le(Qt,n)}function dj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(J(108,IE(e)||"Unknown",i));return Ke({},n,r)}function pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,ha=Lt.current,Le(Lt,e),Le(Qt,Qt.current),!0}function Ux(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=dj(e,t,ha),r.__reactInternalMemoizedMergedChildContext=e,ze(Qt),ze(Lt),Le(Lt,e)):ze(Qt),Le(Qt,n)}var Cr=null,Sd=!1,Lh=!1;function fj(e){Cr===null?Cr=[e]:Cr.push(e)}function JT(e){Sd=!0,fj(e)}function Ai(){if(!Lh&&Cr!==null){Lh=!0;var e=0,t=Se;try{var n=Cr;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cr=null,Sd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(e+1)),R1(xg,Ai),i}finally{Se=t,Lh=!1}}return null}var Ya=[],Xa=0,gu=null,vu=0,En=[],Tn=0,ma=null,Tr=1,Ar="";function Wi(e,t){Ya[Xa++]=vu,Ya[Xa++]=gu,gu=e,vu=t}function hj(e,t,n){En[Tn++]=Tr,En[Tn++]=Ar,En[Tn++]=ma,ma=e;var r=Tr;e=Ar;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var a=32-rr(t)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Tr=1<<32-rr(t)+i|n<<i|r,Ar=a+e}else Tr=1<<a|n<<i|r,Ar=e}function Cg(e){e.return!==null&&(Wi(e,1),hj(e,1,0))}function Og(e){for(;e===gu;)gu=Ya[--Xa],Ya[Xa]=null,vu=Ya[--Xa],Ya[Xa]=null;for(;e===ma;)ma=En[--Tn],En[Tn]=null,Ar=En[--Tn],En[Tn]=null,Tr=En[--Tn],En[Tn]=null}var hn=null,dn=null,Be=!1,Qn=null;function mj(e,t){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hn=e,dn=xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hn=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ma!==null?{id:Tr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hn=e,dn=null,!0):!1;default:return!1}}function Km(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qm(e){if(Be){var t=dn;if(t){var n=t;if(!Hx(e,t)){if(Km(e))throw Error(J(418));t=xi(n.nextSibling);var r=hn;t&&Hx(e,t)?mj(r,n):(e.flags=e.flags&-4097|2,Be=!1,hn=e)}}else{if(Km(e))throw Error(J(418));e.flags=e.flags&-4097|2,Be=!1,hn=e}}}function Zx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function bc(e){if(e!==hn)return!1;if(!Be)return Zx(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hm(e.type,e.memoizedProps)),t&&(t=dn)){if(Km(e))throw pj(),Error(J(418));for(;t;)mj(e,t),t=xi(t.nextSibling)}if(Zx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dn=xi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=hn?xi(e.stateNode.nextSibling):null;return!0}function pj(){for(var e=dn;e;)e=xi(e.nextSibling)}function gs(){dn=hn=null,Be=!1}function Eg(e){Qn===null?Qn=[e]:Qn.push(e)}var eA=qr.ReactCurrentBatchConfig;function go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function wc(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wx(e){var t=e._init;return t(e._payload)}function gj(e){function t(_,N){if(e){var b=_.deletions;b===null?(_.deletions=[N],_.flags|=16):b.push(N)}}function n(_,N){if(!e)return null;for(;N!==null;)t(_,N),N=N.sibling;return null}function r(_,N){for(_=new Map;N!==null;)N.key!==null?_.set(N.key,N):_.set(N.index,N),N=N.sibling;return _}function i(_,N){return _=ji(_,N),_.index=0,_.sibling=null,_}function a(_,N,b){return _.index=b,e?(b=_.alternate,b!==null?(b=b.index,b<N?(_.flags|=2,N):b):(_.flags|=2,N)):(_.flags|=1048576,N)}function l(_){return e&&_.alternate===null&&(_.flags|=2),_}function u(_,N,b,k){return N===null||N.tag!==6?(N=Fh(b,_.mode,k),N.return=_,N):(N=i(N,b),N.return=_,N)}function d(_,N,b,k){var T=b.type;return T===Za?h(_,N,b.props.children,k,b.key):N!==null&&(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ai&&Wx(T)===N.type)?(k=i(N,b.props),k.ref=go(_,N,b),k.return=_,k):(k=eu(b.type,b.key,b.props,null,_.mode,k),k.ref=go(_,N,b),k.return=_,k)}function f(_,N,b,k){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=Uh(b,_.mode,k),N.return=_,N):(N=i(N,b.children||[]),N.return=_,N)}function h(_,N,b,k,T){return N===null||N.tag!==7?(N=sa(b,_.mode,k,T),N.return=_,N):(N=i(N,b),N.return=_,N)}function p(_,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Fh(""+N,_.mode,b),N.return=_,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case dc:return b=eu(N.type,N.key,N.props,null,_.mode,b),b.ref=go(_,null,N),b.return=_,b;case Ha:return N=Uh(N,_.mode,b),N.return=_,N;case ai:var k=N._init;return p(_,k(N._payload),b)}if(Eo(N)||uo(N))return N=sa(N,_.mode,b,null),N.return=_,N;wc(_,N)}return null}function g(_,N,b,k){var T=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:u(_,N,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dc:return b.key===T?d(_,N,b,k):null;case Ha:return b.key===T?f(_,N,b,k):null;case ai:return T=b._init,g(_,N,T(b._payload),k)}if(Eo(b)||uo(b))return T!==null?null:h(_,N,b,k,null);wc(_,b)}return null}function y(_,N,b,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(b)||null,u(N,_,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dc:return _=_.get(k.key===null?b:k.key)||null,d(N,_,k,T);case Ha:return _=_.get(k.key===null?b:k.key)||null,f(N,_,k,T);case ai:var A=k._init;return y(_,N,b,A(k._payload),T)}if(Eo(k)||uo(k))return _=_.get(b)||null,h(N,_,k,T,null);wc(N,k)}return null}function j(_,N,b,k){for(var T=null,A=null,O=N,I=N=0,B=null;O!==null&&I<b.length;I++){O.index>I?(B=O,O=null):B=O.sibling;var z=g(_,O,b[I],k);if(z===null){O===null&&(O=B);break}e&&O&&z.alternate===null&&t(_,O),N=a(z,N,I),A===null?T=z:A.sibling=z,A=z,O=B}if(I===b.length)return n(_,O),Be&&Wi(_,I),T;if(O===null){for(;I<b.length;I++)O=p(_,b[I],k),O!==null&&(N=a(O,N,I),A===null?T=O:A.sibling=O,A=O);return Be&&Wi(_,I),T}for(O=r(_,O);I<b.length;I++)B=y(O,_,I,b[I],k),B!==null&&(e&&B.alternate!==null&&O.delete(B.key===null?I:B.key),N=a(B,N,I),A===null?T=B:A.sibling=B,A=B);return e&&O.forEach(function(M){return t(_,M)}),Be&&Wi(_,I),T}function w(_,N,b,k){var T=uo(b);if(typeof T!="function")throw Error(J(150));if(b=T.call(b),b==null)throw Error(J(151));for(var A=T=null,O=N,I=N=0,B=null,z=b.next();O!==null&&!z.done;I++,z=b.next()){O.index>I?(B=O,O=null):B=O.sibling;var M=g(_,O,z.value,k);if(M===null){O===null&&(O=B);break}e&&O&&M.alternate===null&&t(_,O),N=a(M,N,I),A===null?T=M:A.sibling=M,A=M,O=B}if(z.done)return n(_,O),Be&&Wi(_,I),T;if(O===null){for(;!z.done;I++,z=b.next())z=p(_,z.value,k),z!==null&&(N=a(z,N,I),A===null?T=z:A.sibling=z,A=z);return Be&&Wi(_,I),T}for(O=r(_,O);!z.done;I++,z=b.next())z=y(O,_,I,z.value,k),z!==null&&(e&&z.alternate!==null&&O.delete(z.key===null?I:z.key),N=a(z,N,I),A===null?T=z:A.sibling=z,A=z);return e&&O.forEach(function($){return t(_,$)}),Be&&Wi(_,I),T}function S(_,N,b,k){if(typeof b=="object"&&b!==null&&b.type===Za&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dc:e:{for(var T=b.key,A=N;A!==null;){if(A.key===T){if(T=b.type,T===Za){if(A.tag===7){n(_,A.sibling),N=i(A,b.props.children),N.return=_,_=N;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ai&&Wx(T)===A.type){n(_,A.sibling),N=i(A,b.props),N.ref=go(_,A,b),N.return=_,_=N;break e}n(_,A);break}else t(_,A);A=A.sibling}b.type===Za?(N=sa(b.props.children,_.mode,k,b.key),N.return=_,_=N):(k=eu(b.type,b.key,b.props,null,_.mode,k),k.ref=go(_,N,b),k.return=_,_=k)}return l(_);case Ha:e:{for(A=b.key;N!==null;){if(N.key===A)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){n(_,N.sibling),N=i(N,b.children||[]),N.return=_,_=N;break e}else{n(_,N);break}else t(_,N);N=N.sibling}N=Uh(b,_.mode,k),N.return=_,_=N}return l(_);case ai:return A=b._init,S(_,N,A(b._payload),k)}if(Eo(b))return j(_,N,b,k);if(uo(b))return w(_,N,b,k);wc(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,N!==null&&N.tag===6?(n(_,N.sibling),N=i(N,b),N.return=_,_=N):(n(_,N),N=Fh(b,_.mode,k),N.return=_,_=N),l(_)):n(_,N)}return S}var vs=gj(!0),vj=gj(!1),yu=Ti(null),xu=null,Qa=null,Tg=null;function Ag(){Tg=Qa=xu=null}function Mg(e){var t=yu.current;ze(yu),e._currentValue=t}function Gm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function os(e,t){xu=e,Tg=Qa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(Tg!==e)if(e={context:e,memoizedValue:t,next:null},Qa===null){if(xu===null)throw Error(J(308));Qa=e,xu.dependencies={lanes:0,firstContext:e}}else Qa=Qa.next=e;return t}var Qi=null;function Lg(e){Qi===null?Qi=[e]:Qi.push(e)}function yj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ur(e,r)}function Ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var si=!1;function Dg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ur(e,n)}return i=r.interleaved,i===null?(t.next=t,Lg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ur(e,n)}function qc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}function Vx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _u(e,t,n,r){var i=e.updateQueue;si=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?a=f:l.next=f,l=d;var h=e.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==l&&(u===null?h.firstBaseUpdate=f:u.next=f,h.lastBaseUpdate=d))}if(a!==null){var p=i.baseState;l=0,h=f=d=null,u=a;do{var g=u.lane,y=u.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,w=u;switch(g=t,y=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){p=j.call(y,p,g);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,g=typeof j=="function"?j.call(y,p,g):j,g==null)break e;p=Ke({},p,g);break e;case 2:si=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else y={eventTime:y,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(f=h=y,d=p):h=h.next=y,l|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(d=p),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ga|=l,e.lanes=l,e.memoizedState=p}}function Kx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Sl={},yr=Ti(Sl),il=Ti(Sl),al=Ti(Sl);function Ji(e){if(e===Sl)throw Error(J(174));return e}function Ig(e,t){switch(Le(al,t),Le(il,e),Le(yr,Sl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Om(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Om(t,e)}ze(yr),Le(yr,t)}function ys(){ze(yr),ze(il),ze(al)}function _j(e){Ji(al.current);var t=Ji(yr.current),n=Om(t,e.type);t!==n&&(Le(il,e),Le(yr,n))}function Rg(e){il.current===e&&(ze(yr),ze(il))}var Ze=Ti(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dh=[];function zg(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Gc=qr.ReactCurrentDispatcher,Ih=qr.ReactCurrentBatchConfig,pa=0,Ve=null,it=null,ht=null,wu=!1,Bo=!1,sl=0,tA=0;function Ot(){throw Error(J(321))}function $g(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Bg(e,t,n,r,i,a){if(pa=a,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gc.current=e===null||e.memoizedState===null?aA:sA,e=n(r,i),Bo){a=0;do{if(Bo=!1,sl=0,25<=a)throw Error(J(301));a+=1,ht=it=null,t.updateQueue=null,Gc.current=oA,e=n(r,i)}while(Bo)}if(Gc.current=ju,t=it!==null&&it.next!==null,pa=0,ht=it=Ve=null,wu=!1,t)throw Error(J(300));return e}function Fg(){var e=sl!==0;return sl=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ve.memoizedState=ht=e:ht=ht.next=e,ht}function zn(){if(it===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ht===null?Ve.memoizedState:ht.next;if(t!==null)ht=t,it=e;else{if(e===null)throw Error(J(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?Ve.memoizedState=ht=e:ht=ht.next=e}return ht}function ol(e,t){return typeof t=="function"?t(e):t}function Rh(e){var t=zn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var u=l=null,d=null,f=a;do{var h=f.lane;if((pa&h)===h)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var p={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=p,l=r):d=d.next=p,Ve.lanes|=h,ga|=h}f=f.next}while(f!==null&&f!==a);d===null?l=r:d.next=u,ar(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ve.lanes|=a,ga|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zh(e){var t=zn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);ar(a,t.memoizedState)||(Gt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function bj(){}function wj(e,t){var n=Ve,r=zn(),i=t(),a=!ar(r.memoizedState,i);if(a&&(r.memoizedState=i,Gt=!0),r=r.queue,Ug(Pj.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ll(9,Nj.bind(null,n,r,i,t),void 0,null),mt===null)throw Error(J(349));pa&30||jj(n,t,i)}return i}function jj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nj(e,t,n,r){t.value=n,t.getSnapshot=r,Sj(t)&&kj(e)}function Pj(e,t,n){return n(function(){Sj(t)&&kj(e)})}function Sj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function kj(e){var t=Ur(e,1);t!==null&&ir(t,e,1,-1)}function qx(e){var t=hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:e},t.queue=e,e=e.dispatch=iA.bind(null,Ve,e),[t.memoizedState,e]}function ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cj(){return zn().memoizedState}function Yc(e,t,n,r){var i=hr();Ve.flags|=e,i.memoizedState=ll(1|t,n,void 0,r===void 0?null:r)}function kd(e,t,n,r){var i=zn();r=r===void 0?null:r;var a=void 0;if(it!==null){var l=it.memoizedState;if(a=l.destroy,r!==null&&$g(r,l.deps)){i.memoizedState=ll(t,n,a,r);return}}Ve.flags|=e,i.memoizedState=ll(1|t,n,a,r)}function Gx(e,t){return Yc(8390656,8,e,t)}function Ug(e,t){return kd(2048,8,e,t)}function Oj(e,t){return kd(4,2,e,t)}function Ej(e,t){return kd(4,4,e,t)}function Tj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Aj(e,t,n){return n=n!=null?n.concat([e]):null,kd(4,4,Tj.bind(null,t,e),n)}function Hg(){}function Mj(e,t){var n=zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$g(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lj(e,t){var n=zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$g(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dj(e,t,n){return pa&21?(ar(n,t)||(n=B1(),Ve.lanes|=n,ga|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function nA(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Ih.transition;Ih.transition={};try{e(!1),t()}finally{Se=n,Ih.transition=r}}function Ij(){return zn().memoizedState}function rA(e,t,n){var r=wi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rj(e))zj(t,n);else if(n=yj(e,t,n,r),n!==null){var i=Ft();ir(n,e,r,i),$j(n,t,r)}}function iA(e,t,n){var r=wi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rj(e))zj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,l)){var d=t.interleaved;d===null?(i.next=i,Lg(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=yj(e,t,i,r),n!==null&&(i=Ft(),ir(n,e,r,i),$j(n,t,r))}}function Rj(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function zj(e,t){Bo=wu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $j(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}var ju={readContext:Rn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},aA={readContext:Rn,useCallback:function(e,t){return hr().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:Gx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yc(4194308,4,Tj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yc(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rA.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=hr();return e={current:e},t.memoizedState=e},useState:qx,useDebugValue:Hg,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=qx(!1),t=e[0];return e=nA.bind(null,e[1]),hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,i=hr();if(Be){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),mt===null)throw Error(J(349));pa&30||jj(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Gx(Pj.bind(null,r,a,e),[e]),r.flags|=2048,ll(9,Nj.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=hr(),t=mt.identifierPrefix;if(Be){var n=Ar,r=Tr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sA={readContext:Rn,useCallback:Mj,useContext:Rn,useEffect:Ug,useImperativeHandle:Aj,useInsertionEffect:Oj,useLayoutEffect:Ej,useMemo:Lj,useReducer:Rh,useRef:Cj,useState:function(){return Rh(ol)},useDebugValue:Hg,useDeferredValue:function(e){var t=zn();return Dj(t,it.memoizedState,e)},useTransition:function(){var e=Rh(ol)[0],t=zn().memoizedState;return[e,t]},useMutableSource:bj,useSyncExternalStore:wj,useId:Ij,unstable_isNewReconciler:!1},oA={readContext:Rn,useCallback:Mj,useContext:Rn,useEffect:Ug,useImperativeHandle:Aj,useInsertionEffect:Oj,useLayoutEffect:Ej,useMemo:Lj,useReducer:zh,useRef:Cj,useState:function(){return zh(ol)},useDebugValue:Hg,useDeferredValue:function(e){var t=zn();return it===null?t.memoizedState=e:Dj(t,it.memoizedState,e)},useTransition:function(){var e=zh(ol)[0],t=zn().memoizedState;return[e,t]},useMutableSource:bj,useSyncExternalStore:wj,useId:Ij,unstable_isNewReconciler:!1};function Yn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ym(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cd={isMounted:function(e){return(e=e._reactInternals)?Na(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ft(),i=wi(e),a=Rr(r,i);a.payload=t,n!=null&&(a.callback=n),t=_i(e,a,i),t!==null&&(ir(t,e,i,r),qc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ft(),i=wi(e),a=Rr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=_i(e,a,i),t!==null&&(ir(t,e,i,r),qc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),r=wi(e),i=Rr(n,r);i.tag=2,t!=null&&(i.callback=t),t=_i(e,i,r),t!==null&&(ir(t,e,r,n),qc(t,e,r))}};function Yx(e,t,n,r,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!el(n,r)||!el(i,a):!0}function Bj(e,t,n){var r=!1,i=Si,a=t.contextType;return typeof a=="object"&&a!==null?a=Rn(a):(i=Jt(t)?ha:Lt.current,r=t.contextTypes,a=(r=r!=null)?ps(e,i):Si),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cd.enqueueReplaceState(t,t.state,null)}function Xm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Dg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Rn(a):(a=Jt(t)?ha:Lt.current,i.context=ps(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ym(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cd.enqueueReplaceState(i,i.state,null),_u(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t){try{var n="",r=t;do n+=DE(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function $h(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function Fj(e,t,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,lp=r),Qm(e,t)},n}function Uj(e,t,n){n=Rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Qm(e,t),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Qx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wA.bind(null,e,t,n),t.then(e,e))}function Jx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function e_(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rr(-1,1),t.tag=2,_i(n,t,1))),n.lanes|=1),e)}var cA=qr.ReactCurrentOwner,Gt=!1;function Rt(e,t,n,r){t.child=e===null?vj(t,null,n,r):vs(t,e.child,n,r)}function t_(e,t,n,r,i){n=n.render;var a=t.ref;return os(t,i),r=Bg(e,t,n,r,a,i),n=Fg(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hr(e,t,i)):(Be&&n&&Cg(t),t.flags|=1,Rt(e,t,r,i),t.child)}function n_(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Xg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Hj(e,t,a,r,i)):(e=eu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(l,r)&&e.ref===t.ref)return Hr(e,t,i)}return t.flags|=1,e=ji(a,r),e.ref=t.ref,e.return=t,t.child=e}function Hj(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(el(a,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Hr(e,t,i)}return Jm(e,t,n,r,i)}function Zj(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(es,sn),sn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(es,sn),sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Le(es,sn),sn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Le(es,sn),sn|=r;return Rt(e,t,i,n),t.child}function Wj(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jm(e,t,n,r,i){var a=Jt(n)?ha:Lt.current;return a=ps(t,a),os(t,i),n=Bg(e,t,n,r,a,i),r=Fg(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hr(e,t,i)):(Be&&r&&Cg(t),t.flags|=1,Rt(e,t,n,i),t.child)}function r_(e,t,n,r,i){if(Jt(n)){var a=!0;pu(t)}else a=!1;if(os(t,i),t.stateNode===null)Xc(e,t),Bj(t,n,r),Xm(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Rn(f):(f=Jt(n)?ha:Lt.current,f=ps(t,f));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==f)&&Xx(t,l,r,f),si=!1;var g=t.memoizedState;l.state=g,_u(t,r,l,i),d=t.memoizedState,u!==r||g!==d||Qt.current||si?(typeof h=="function"&&(Ym(t,n,h,r),d=t.memoizedState),(u=si||Yx(t,n,u,r,g,d,f))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,xj(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Yn(t.type,u),l.props=f,p=t.pendingProps,g=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Rn(d):(d=Jt(n)?ha:Lt.current,d=ps(t,d));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||g!==d)&&Xx(t,l,r,d),si=!1,g=t.memoizedState,l.state=g,_u(t,r,l,i);var j=t.memoizedState;u!==p||g!==j||Qt.current||si?(typeof y=="function"&&(Ym(t,n,y,r),j=t.memoizedState),(f=si||Yx(t,n,f,r,g,j,d)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,j,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,j,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),l.props=r,l.state=j,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ep(e,t,n,r,a,i)}function ep(e,t,n,r,i,a){Wj(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Ux(t,n,!1),Hr(e,t,a);r=t.stateNode,cA.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=vs(t,e.child,null,a),t.child=vs(t,null,u,a)):Rt(e,t,u,a),t.memoizedState=r.state,i&&Ux(t,n,!0),t.child}function Vj(e){var t=e.stateNode;t.pendingContext?Fx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fx(e,t.context,!1),Ig(e,t.containerInfo)}function i_(e,t,n,r,i){return gs(),Eg(i),t.flags|=256,Rt(e,t,n,r),t.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kj(e,t,n){var r=t.pendingProps,i=Ze.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(Ze,i&1),e===null)return qm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Td(l,r,0,null),e=sa(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=np(n),t.memoizedState=tp,e):Zg(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return uA(e,t,l,r,u,i,n);if(a){a=r.fallback,l=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=ji(i,d),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=ji(u,a):(a=sa(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?np(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=tp,r}return a=e.child,e=a.sibling,r=ji(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zg(e,t){return t=Td({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jc(e,t,n,r){return r!==null&&Eg(r),vs(t,e.child,null,n),e=Zg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uA(e,t,n,r,i,a,l){if(n)return t.flags&256?(t.flags&=-257,r=$h(Error(J(422))),jc(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Td({mode:"visible",children:r.children},i,0,null),a=sa(a,i,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&vs(t,e.child,null,l),t.child.memoizedState=np(l),t.memoizedState=tp,a);if(!(t.mode&1))return jc(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,a=Error(J(419)),r=$h(a,r,void 0),jc(e,t,l,r)}if(u=(l&e.childLanes)!==0,Gt||u){if(r=mt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ur(e,i),ir(r,e,i,-1))}return Yg(),r=$h(Error(J(421))),jc(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jA.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,dn=xi(i.nextSibling),hn=t,Be=!0,Qn=null,e!==null&&(En[Tn++]=Tr,En[Tn++]=Ar,En[Tn++]=ma,Tr=e.id,Ar=e.overflow,ma=t),t=Zg(t,r.children),t.flags|=4096,t)}function a_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gm(e.return,t,n)}function Bh(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qj(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Rt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a_(e,n,t);else if(e.tag===19)a_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bh(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bh(t,!0,n,null,a);break;case"together":Bh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dA(e,t,n){switch(t.tag){case 3:Vj(t),gs();break;case 5:_j(t);break;case 1:Jt(t.type)&&pu(t);break;case 4:Ig(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Le(yu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?Kj(e,t,n):(Le(Ze,Ze.current&1),e=Hr(e,t,n),e!==null?e.sibling:null);Le(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qj(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Zj(e,t,n)}return Hr(e,t,n)}var Gj,rp,Yj,Xj;Gj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};Yj=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ji(yr.current);var a=null;switch(n){case"input":i=Pm(e,i),r=Pm(e,r),a=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),a=[];break;case"textarea":i=Cm(e,i),r=Cm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hu)}Em(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ko.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in r){var d=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(a||(a=[]),a.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Ie("scroll",e),a||u===d||(a=[])):(a=a||[]).push(f,d))}n&&(a=a||[]).push("style",n);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};Xj=function(e,t,n,r){n!==r&&(t.flags|=4)};function vo(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fA(e,t,n){var r=t.pendingProps;switch(Og(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Jt(t.type)&&mu(),Et(t),null;case 3:return r=t.stateNode,ys(),ze(Qt),ze(Lt),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qn!==null&&(dp(Qn),Qn=null))),rp(e,t),Et(t),null;case 5:Rg(t);var i=Ji(al.current);if(n=t.type,e!==null&&t.stateNode!=null)Yj(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return Et(t),null}if(e=Ji(yr.current),bc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mr]=t,r[rl]=a,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Ao.length;i++)Ie(Ao[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":mx(r,a),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ie("invalid",r);break;case"textarea":gx(r,a),Ie("invalid",r)}Em(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?r.textContent!==u&&(a.suppressHydrationWarning!==!0&&_c(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&_c(r.textContent,u,e),i=["children",""+u]):Ko.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Ie("scroll",r)}switch(n){case"input":fc(r),px(r,a,!0);break;case"textarea":fc(r),vx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=hu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[mr]=t,e[rl]=r,Gj(e,t,!1,!1),t.stateNode=e;e:{switch(l=Tm(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),i=r;break;case"iframe":case"object":case"embed":Ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ao.length;i++)Ie(Ao[i],e);i=r;break;case"source":Ie("error",e),i=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=r;break;case"details":Ie("toggle",e),i=r;break;case"input":mx(e,r),i=Pm(e,r),Ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":gx(e,r),i=Cm(e,r),Ie("invalid",e);break;default:i=r}Em(n,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?C1(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&S1(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&qo(e,d):typeof d=="number"&&qo(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ko.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Ie("scroll",e):d!=null&&mg(e,a,d,l))}switch(n){case"input":fc(e),px(e,r,!1);break;case"textarea":fc(e),vx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?rs(e,!!r.multiple,a,!1):r.defaultValue!=null&&rs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Xj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=Ji(al.current),Ji(yr.current),bc(t)){if(r=t.stateNode,n=t.memoizedProps,r[mr]=t,(a=r.nodeValue!==n)&&(e=hn,e!==null))switch(e.tag){case 3:_c(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_c(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=t,t.stateNode=r}return Et(t),null;case 13:if(ze(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&dn!==null&&t.mode&1&&!(t.flags&128))pj(),gs(),t.flags|=98560,a=!1;else if(a=bc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[mr]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),a=!1}else Qn!==null&&(dp(Qn),Qn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?st===0&&(st=3):Yg())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return ys(),rp(e,t),e===null&&tl(t.stateNode.containerInfo),Et(t),null;case 10:return Mg(t.type._context),Et(t),null;case 17:return Jt(t.type)&&mu(),Et(t),null;case 19:if(ze(Ze),a=t.memoizedState,a===null)return Et(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)vo(a,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=bu(e),l!==null){for(t.flags|=128,vo(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&Xe()>_s&&(t.flags|=128,r=!0,vo(a,!1),t.lanes=4194304)}else{if(!r)if(e=bu(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Be)return Et(t),null}else 2*Xe()-a.renderingStartTime>_s&&n!==1073741824&&(t.flags|=128,r=!0,vo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Ze.current,Le(Ze,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return Gg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?sn&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function hA(e,t){switch(Og(t),t.tag){case 1:return Jt(t.type)&&mu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),ze(Qt),ze(Lt),zg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rg(t),null;case 13:if(ze(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ze),null;case 4:return ys(),null;case 10:return Mg(t.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var Nc=!1,At=!1,mA=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ja(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function ip(e,t,n){try{n()}catch(r){qe(e,t,r)}}var s_=!1;function pA(e,t){if(Fm=uu,e=nj(),kg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,h=0,p=e,g=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(u=l+i),p!==a||r!==0&&p.nodeType!==3||(d=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break t;if(g===n&&++f===i&&(u=l),g===a&&++h===r&&(d=l),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Um={focusedElem:e,selectionRange:n},uu=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,S=j.memoizedState,_=t.stateNode,N=_.getSnapshotBeforeUpdate(t.elementType===t.type?w:Yn(t.type,w),S);_.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){qe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return j=s_,s_=!1,j}function Fo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ip(t,n,a)}i=i.next}while(i!==r)}}function Od(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ap(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qj(e){var t=e.alternate;t!==null&&(e.alternate=null,Qj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[rl],delete t[Wm],delete t[XT],delete t[QT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jj(e){return e.tag===5||e.tag===3||e.tag===4}function o_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hu));else if(r!==4&&(e=e.child,e!==null))for(sp(e,t,n),e=e.sibling;e!==null;)sp(e,t,n),e=e.sibling}function op(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(op(e,t,n),e=e.sibling;e!==null;)op(e,t,n),e=e.sibling}var bt=null,Xn=!1;function ii(e,t,n){for(n=n.child;n!==null;)e2(e,t,n),n=n.sibling}function e2(e,t,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(bd,n)}catch{}switch(n.tag){case 5:At||Ja(n,t);case 6:var r=bt,i=Xn;bt=null,ii(e,t,n),bt=r,Xn=i,bt!==null&&(Xn?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Xn?(e=bt,n=n.stateNode,e.nodeType===8?Mh(e.parentNode,n):e.nodeType===1&&Mh(e,n),Qo(e)):Mh(bt,n.stateNode));break;case 4:r=bt,i=Xn,bt=n.stateNode.containerInfo,Xn=!0,ii(e,t,n),bt=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&ip(n,t,l),i=i.next}while(i!==r)}ii(e,t,n);break;case 1:if(!At&&(Ja(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){qe(n,t,u)}ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,ii(e,t,n),At=r):ii(e,t,n);break;default:ii(e,t,n)}}function l_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mA),t.forEach(function(r){var i=NA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:bt=u.stateNode,Xn=!1;break e;case 3:bt=u.stateNode.containerInfo,Xn=!0;break e;case 4:bt=u.stateNode.containerInfo,Xn=!0;break e}u=u.return}if(bt===null)throw Error(J(160));e2(a,l,i),bt=null,Xn=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){qe(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t2(t,e),t=t.sibling}function t2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),fr(e),r&4){try{Fo(3,e,e.return),Od(3,e)}catch(w){qe(e,e.return,w)}try{Fo(5,e,e.return)}catch(w){qe(e,e.return,w)}}break;case 1:Gn(t,e),fr(e),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(Gn(t,e),fr(e),r&512&&n!==null&&Ja(n,n.return),e.flags&32){var i=e.stateNode;try{qo(i,"")}catch(w){qe(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&j1(i,a),Tm(u,l);var f=Tm(u,a);for(l=0;l<d.length;l+=2){var h=d[l],p=d[l+1];h==="style"?C1(i,p):h==="dangerouslySetInnerHTML"?S1(i,p):h==="children"?qo(i,p):mg(i,h,p,f)}switch(u){case"input":Sm(i,a);break;case"textarea":N1(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?rs(i,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?rs(i,!!a.multiple,a.defaultValue,!0):rs(i,!!a.multiple,a.multiple?[]:"",!1))}i[rl]=a}catch(w){qe(e,e.return,w)}}break;case 6:if(Gn(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(J(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){qe(e,e.return,w)}}break;case 3:if(Gn(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(w){qe(e,e.return,w)}break;case 4:Gn(t,e),fr(e);break;case 13:Gn(t,e),fr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Kg=Xe())),r&4&&l_(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(At=(f=At)||h,Gn(t,e),At=f):Gn(t,e),fr(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!h&&e.mode&1)for(se=e,h=e.child;h!==null;){for(p=se=h;se!==null;){switch(g=se,y=g.child,g.tag){case 0:case 11:case 14:case 15:Fo(4,g,g.return);break;case 1:Ja(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){qe(r,n,w)}}break;case 5:Ja(g,g.return);break;case 22:if(g.memoizedState!==null){u_(p);continue}}y!==null?(y.return=g,se=y):u_(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=k1("display",l))}catch(w){qe(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(w){qe(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Gn(t,e),fr(e),r&4&&l_(e);break;case 21:break;default:Gn(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jj(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qo(i,""),r.flags&=-33);var a=o_(e);op(e,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=o_(e);sp(e,u,l);break;default:throw Error(J(161))}}catch(d){qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gA(e,t,n){se=e,n2(e)}function n2(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Nc;if(!l){var u=i.alternate,d=u!==null&&u.memoizedState!==null||At;u=Nc;var f=At;if(Nc=l,(At=d)&&!f)for(se=i;se!==null;)l=se,d=l.child,l.tag===22&&l.memoizedState!==null?d_(i):d!==null?(d.return=l,se=d):d_(i);for(;a!==null;)se=a,n2(a),a=a.sibling;se=i,Nc=u,At=f}c_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):c_(e)}}function c_(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||Od(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Kx(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kx(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Qo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}At||t.flags&512&&ap(t)}catch(g){qe(t,t.return,g)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function u_(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function d_(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Od(4,t)}catch(d){qe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){qe(t,i,d)}}var a=t.return;try{ap(t)}catch(d){qe(t,a,d)}break;case 5:var l=t.return;try{ap(t)}catch(d){qe(t,l,d)}}}catch(d){qe(t,t.return,d)}if(t===e){se=null;break}var u=t.sibling;if(u!==null){u.return=t.return,se=u;break}se=t.return}}var vA=Math.ceil,Nu=qr.ReactCurrentDispatcher,Wg=qr.ReactCurrentOwner,In=qr.ReactCurrentBatchConfig,we=0,mt=null,et=null,Nt=0,sn=0,es=Ti(0),st=0,cl=null,ga=0,Ed=0,Vg=0,Uo=null,Kt=null,Kg=0,_s=1/0,kr=null,Pu=!1,lp=null,bi=null,Pc=!1,hi=null,Su=0,Ho=0,cp=null,Qc=-1,Jc=0;function Ft(){return we&6?Xe():Qc!==-1?Qc:Qc=Xe()}function wi(e){return e.mode&1?we&2&&Nt!==0?Nt&-Nt:eA.transition!==null?(Jc===0&&(Jc=B1()),Jc):(e=Se,e!==0||(e=window.event,e=e===void 0?16:K1(e.type)),e):1}function ir(e,t,n,r){if(50<Ho)throw Ho=0,cp=null,Error(J(185));jl(e,n,r),(!(we&2)||e!==mt)&&(e===mt&&(!(we&2)&&(Ed|=n),st===4&&ui(e,Nt)),en(e,r),n===1&&we===0&&!(t.mode&1)&&(_s=Xe()+500,Sd&&Ai()))}function en(e,t){var n=e.callbackNode;eT(e,t);var r=cu(e,e===mt?Nt:0);if(r===0)n!==null&&_x(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_x(n),t===1)e.tag===0?JT(f_.bind(null,e)):fj(f_.bind(null,e)),GT(function(){!(we&6)&&Ai()}),n=null;else{switch(F1(r)){case 1:n=xg;break;case 4:n=z1;break;case 16:n=lu;break;case 536870912:n=$1;break;default:n=lu}n=u2(n,r2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function r2(e,t){if(Qc=-1,Jc=0,we&6)throw Error(J(327));var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var r=cu(e,e===mt?Nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ku(e,r);else{t=r;var i=we;we|=2;var a=a2();(mt!==e||Nt!==t)&&(kr=null,_s=Xe()+500,aa(e,t));do try{_A();break}catch(u){i2(e,u)}while(!0);Ag(),Nu.current=a,we=i,et!==null?t=0:(mt=null,Nt=0,t=st)}if(t!==0){if(t===2&&(i=Im(e),i!==0&&(r=i,t=up(e,i))),t===1)throw n=cl,aa(e,0),ui(e,r),en(e,Xe()),n;if(t===6)ui(e,r);else{if(i=e.current.alternate,!(r&30)&&!yA(i)&&(t=ku(e,r),t===2&&(a=Im(e),a!==0&&(r=a,t=up(e,a))),t===1))throw n=cl,aa(e,0),ui(e,r),en(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:Vi(e,Kt,kr);break;case 3:if(ui(e,r),(r&130023424)===r&&(t=Kg+500-Xe(),10<t)){if(cu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zm(Vi.bind(null,e,Kt,kr),t);break}Vi(e,Kt,kr);break;case 4:if(ui(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-rr(r);a=1<<l,l=t[l],l>i&&(i=l),r&=~a}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vA(r/1960))-r,10<r){e.timeoutHandle=Zm(Vi.bind(null,e,Kt,kr),r);break}Vi(e,Kt,kr);break;case 5:Vi(e,Kt,kr);break;default:throw Error(J(329))}}}return en(e,Xe()),e.callbackNode===n?r2.bind(null,e):null}function up(e,t){var n=Uo;return e.current.memoizedState.isDehydrated&&(aa(e,t).flags|=256),e=ku(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&dp(t)),e}function dp(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function yA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ui(e,t){for(t&=~Vg,t&=~Ed,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rr(t),r=1<<n;e[n]=-1,t&=~r}}function f_(e){if(we&6)throw Error(J(327));ls();var t=cu(e,0);if(!(t&1))return en(e,Xe()),null;var n=ku(e,t);if(e.tag!==0&&n===2){var r=Im(e);r!==0&&(t=r,n=up(e,r))}if(n===1)throw n=cl,aa(e,0),ui(e,t),en(e,Xe()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vi(e,Kt,kr),en(e,Xe()),null}function qg(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(_s=Xe()+500,Sd&&Ai())}}function va(e){hi!==null&&hi.tag===0&&!(we&6)&&ls();var t=we;we|=1;var n=In.transition,r=Se;try{if(In.transition=null,Se=1,e)return e()}finally{Se=r,In.transition=n,we=t,!(we&6)&&Ai()}}function Gg(){sn=es.current,ze(es)}function aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qT(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mu();break;case 3:ys(),ze(Qt),ze(Lt),zg();break;case 5:Rg(r);break;case 4:ys();break;case 13:ze(Ze);break;case 19:ze(Ze);break;case 10:Mg(r.type._context);break;case 22:case 23:Gg()}n=n.return}if(mt=e,et=e=ji(e.current,null),Nt=sn=t,st=0,cl=null,Vg=Ed=ga=0,Kt=Uo=null,Qi!==null){for(t=0;t<Qi.length;t++)if(n=Qi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}Qi=null}return e}function i2(e,t){do{var n=et;try{if(Ag(),Gc.current=ju,wu){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wu=!1}if(pa=0,ht=it=Ve=null,Bo=!1,sl=0,Wg.current=null,n===null||n.return===null){st=1,cl=t,et=null;break}e:{var a=e,l=n.return,u=n,d=t;if(t=Nt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,h=u,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Jx(l);if(y!==null){y.flags&=-257,e_(y,l,u,a,t),y.mode&1&&Qx(a,f,t),t=y,d=f;var j=t.updateQueue;if(j===null){var w=new Set;w.add(d),t.updateQueue=w}else j.add(d);break e}else{if(!(t&1)){Qx(a,f,t),Yg();break e}d=Error(J(426))}}else if(Be&&u.mode&1){var S=Jx(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),e_(S,l,u,a,t),Eg(xs(d,u));break e}}a=d=xs(d,u),st!==4&&(st=2),Uo===null?Uo=[a]:Uo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=Fj(a,d,t);Vx(a,_);break e;case 1:u=d;var N=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof N.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(bi===null||!bi.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Uj(a,u,t);Vx(a,k);break e}}a=a.return}while(a!==null)}o2(n)}catch(T){t=T,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function a2(){var e=Nu.current;return Nu.current=ju,e===null?ju:e}function Yg(){(st===0||st===3||st===2)&&(st=4),mt===null||!(ga&268435455)&&!(Ed&268435455)||ui(mt,Nt)}function ku(e,t){var n=we;we|=2;var r=a2();(mt!==e||Nt!==t)&&(kr=null,aa(e,t));do try{xA();break}catch(i){i2(e,i)}while(!0);if(Ag(),we=n,Nu.current=r,et!==null)throw Error(J(261));return mt=null,Nt=0,st}function xA(){for(;et!==null;)s2(et)}function _A(){for(;et!==null&&!WE();)s2(et)}function s2(e){var t=c2(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?o2(e):et=t,Wg.current=null}function o2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hA(n,t),n!==null){n.flags&=32767,et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,et=null;return}}else if(n=fA(n,t,sn),n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);st===0&&(st=5)}function Vi(e,t,n){var r=Se,i=In.transition;try{In.transition=null,Se=1,bA(e,t,n,r)}finally{In.transition=i,Se=r}return null}function bA(e,t,n,r){do ls();while(hi!==null);if(we&6)throw Error(J(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(tT(e,a),e===mt&&(et=mt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pc||(Pc=!0,u2(lu,function(){return ls(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=In.transition,In.transition=null;var l=Se;Se=1;var u=we;we|=4,Wg.current=null,pA(e,n),t2(n,e),FT(Um),uu=!!Fm,Um=Fm=null,e.current=n,gA(n),VE(),we=u,Se=l,In.transition=a}else e.current=n;if(Pc&&(Pc=!1,hi=e,Su=i),a=e.pendingLanes,a===0&&(bi=null),GE(n.stateNode),en(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pu)throw Pu=!1,e=lp,lp=null,e;return Su&1&&e.tag!==0&&ls(),a=e.pendingLanes,a&1?e===cp?Ho++:(Ho=0,cp=e):Ho=0,Ai(),null}function ls(){if(hi!==null){var e=F1(Su),t=In.transition,n=Se;try{if(In.transition=null,Se=16>e?16:e,hi===null)var r=!1;else{if(e=hi,hi=null,Su=0,we&6)throw Error(J(331));var i=we;for(we|=4,se=e.current;se!==null;){var a=se,l=a.child;if(se.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(se=f;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:Fo(8,h,a)}var p=h.child;if(p!==null)p.return=h,se=p;else for(;se!==null;){h=se;var g=h.sibling,y=h.return;if(Qj(h),h===f){se=null;break}if(g!==null){g.return=y,se=g;break}se=y}}}var j=a.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}se=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,se=l;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fo(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,se=_;break e}se=a.return}}var N=e.current;for(se=N;se!==null;){l=se;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,se=b;else e:for(l=N;se!==null;){if(u=se,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Od(9,u)}}catch(T){qe(u,u.return,T)}if(u===l){se=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,se=k;break e}se=u.return}}if(we=i,Ai(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(bd,e)}catch{}r=!0}return r}finally{Se=n,In.transition=t}}return!1}function h_(e,t,n){t=xs(n,t),t=Fj(e,t,1),e=_i(e,t,1),t=Ft(),e!==null&&(jl(e,1,t),en(e,t))}function qe(e,t,n){if(e.tag===3)h_(e,e,n);else for(;t!==null;){if(t.tag===3){h_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){e=xs(n,e),e=Uj(t,e,1),t=_i(t,e,1),e=Ft(),t!==null&&(jl(t,1,e),en(t,e));break}}t=t.return}}function wA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(Nt&n)===n&&(st===4||st===3&&(Nt&130023424)===Nt&&500>Xe()-Kg?aa(e,0):Vg|=n),en(e,t)}function l2(e,t){t===0&&(e.mode&1?(t=pc,pc<<=1,!(pc&130023424)&&(pc=4194304)):t=1);var n=Ft();e=Ur(e,t),e!==null&&(jl(e,t,n),en(e,n))}function jA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l2(e,n)}function NA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),l2(e,n)}var c2;c2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,dA(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Be&&t.flags&1048576&&hj(t,vu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xc(e,t),e=t.pendingProps;var i=ps(t,Lt.current);os(t,n),i=Bg(null,t,r,e,i,n);var a=Fg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(r)?(a=!0,pu(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dg(t),i.updater=Cd,t.stateNode=i,i._reactInternals=t,Xm(t,r,e,n),t=ep(null,t,r,!0,a,n)):(t.tag=0,Be&&a&&Cg(t),Rt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=SA(r),e=Yn(r,e),i){case 0:t=Jm(null,t,r,e,n);break e;case 1:t=r_(null,t,r,e,n);break e;case 11:t=t_(null,t,r,e,n);break e;case 14:t=n_(null,t,r,Yn(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),Jm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),r_(e,t,r,i,n);case 3:e:{if(Vj(t),e===null)throw Error(J(387));r=t.pendingProps,a=t.memoizedState,i=a.element,xj(e,t),_u(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=xs(Error(J(423)),t),t=i_(e,t,r,n,i);break e}else if(r!==i){i=xs(Error(J(424)),t),t=i_(e,t,r,n,i);break e}else for(dn=xi(t.stateNode.containerInfo.firstChild),hn=t,Be=!0,Qn=null,n=vj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===i){t=Hr(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return _j(t),e===null&&qm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Hm(r,i)?l=null:a!==null&&Hm(r,a)&&(t.flags|=32),Wj(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&qm(t),null;case 13:return Kj(e,t,n);case 4:return Ig(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vs(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),t_(e,t,r,i,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Le(yu,r._currentValue),r._currentValue=l,a!==null)if(ar(a.value,l)){if(a.children===i.children&&!Qt.current){t=Hr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=Rr(-1,n&-n),d.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?d.next=d:(d.next=h.next,h.next=d),f.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Gm(a.return,n,t),u.lanes|=n;break}d=d.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(J(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Gm(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Rt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,os(t,n),i=Rn(i),r=r(i),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,i=Yn(r,t.pendingProps),i=Yn(r.type,i),n_(e,t,r,i,n);case 15:return Hj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),Xc(e,t),t.tag=1,Jt(r)?(e=!0,pu(t)):e=!1,os(t,n),Bj(t,r,i),Xm(t,r,i,n),ep(null,t,r,!0,e,n);case 19:return qj(e,t,n);case 22:return Zj(e,t,n)}throw Error(J(156,t.tag))};function u2(e,t){return R1(e,t)}function PA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,n,r){return new PA(e,t,n,r)}function Xg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SA(e){if(typeof e=="function")return Xg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gg)return 11;if(e===vg)return 14}return 2}function ji(e,t){var n=e.alternate;return n===null?(n=Ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eu(e,t,n,r,i,a){var l=2;if(r=e,typeof e=="function")Xg(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Za:return sa(n.children,i,a,t);case pg:l=8,i|=8;break;case bm:return e=Ln(12,n,t,i|2),e.elementType=bm,e.lanes=a,e;case wm:return e=Ln(13,n,t,i),e.elementType=wm,e.lanes=a,e;case jm:return e=Ln(19,n,t,i),e.elementType=jm,e.lanes=a,e;case _1:return Td(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y1:l=10;break e;case x1:l=9;break e;case gg:l=11;break e;case vg:l=14;break e;case ai:l=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Ln(l,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function sa(e,t,n,r){return e=Ln(7,e,r,t),e.lanes=n,e}function Td(e,t,n,r){return e=Ln(22,e,r,t),e.elementType=_1,e.lanes=n,e.stateNode={isHidden:!1},e}function Fh(e,t,n){return e=Ln(6,e,null,t),e.lanes=n,e}function Uh(e,t,n){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qg(e,t,n,r,i,a,l,u,d){return e=new kA(e,t,n,u,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ln(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(a),e}function CA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function d2(e){if(!e)return Si;e=e._reactInternals;e:{if(Na(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(Jt(n))return dj(e,n,t)}return t}function f2(e,t,n,r,i,a,l,u,d){return e=Qg(n,r,!0,e,i,a,l,u,d),e.context=d2(null),n=e.current,r=Ft(),i=wi(n),a=Rr(r,i),a.callback=t??null,_i(n,a,i),e.current.lanes=i,jl(e,i,r),en(e,r),e}function Ad(e,t,n,r){var i=t.current,a=Ft(),l=wi(i);return n=d2(n),t.context===null?t.context=n:t.pendingContext=n,t=Rr(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_i(i,t,l),e!==null&&(ir(e,i,l,a),qc(e,i,l)),l}function Cu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function m_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jg(e,t){m_(e,t),(e=e.alternate)&&m_(e,t)}function OA(){return null}var h2=typeof reportError=="function"?reportError:function(e){console.error(e)};function ev(e){this._internalRoot=e}Md.prototype.render=ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Ad(e,t,null,null)};Md.prototype.unmount=ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){Ad(null,e,null,null)}),t[Fr]=null}};function Md(e){this._internalRoot=e}Md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ci.length&&t!==0&&t<ci[n].priority;n++);ci.splice(n,0,e),n===0&&V1(e)}};function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function p_(){}function EA(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var f=Cu(l);a.call(f)}}var l=f2(t,r,e,0,null,!1,!1,"",p_);return e._reactRootContainer=l,e[Fr]=l.current,tl(e.nodeType===8?e.parentNode:e),va(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Cu(d);u.call(f)}}var d=Qg(e,0,!1,null,null,!1,!1,"",p_);return e._reactRootContainer=d,e[Fr]=d.current,tl(e.nodeType===8?e.parentNode:e),va(function(){Ad(t,d,n,r)}),d}function Dd(e,t,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var d=Cu(l);u.call(d)}}Ad(t,l,e,i)}else l=EA(n,t,e,i,r);return Cu(l)}U1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=To(t.pendingLanes);n!==0&&(_g(t,n|1),en(t,Xe()),!(we&6)&&(_s=Xe()+500,Ai()))}break;case 13:va(function(){var r=Ur(e,1);if(r!==null){var i=Ft();ir(r,e,1,i)}}),Jg(e,1)}};bg=function(e){if(e.tag===13){var t=Ur(e,134217728);if(t!==null){var n=Ft();ir(t,e,134217728,n)}Jg(e,134217728)}};H1=function(e){if(e.tag===13){var t=wi(e),n=Ur(e,t);if(n!==null){var r=Ft();ir(n,e,t,r)}Jg(e,t)}};Z1=function(){return Se};W1=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Mm=function(e,t,n){switch(t){case"input":if(Sm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pd(r);if(!i)throw Error(J(90));w1(r),Sm(r,i)}}}break;case"textarea":N1(e,n);break;case"select":t=n.value,t!=null&&rs(e,!!n.multiple,t,!1)}};T1=qg;A1=va;var TA={usingClientEntryPoint:!1,Events:[Pl,qa,Pd,O1,E1,qg]},yo={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AA={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=D1(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||OA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{bd=Sc.inject(AA),vr=Sc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TA;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(t))throw Error(J(200));return CA(e,t,null,n)};_n.createRoot=function(e,t){if(!tv(e))throw Error(J(299));var n=!1,r="",i=h2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qg(e,1,!1,null,null,n,!1,r,i),e[Fr]=t.current,tl(e.nodeType===8?e.parentNode:e),new ev(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=D1(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return va(e)};_n.hydrate=function(e,t,n){if(!Ld(t))throw Error(J(200));return Dd(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!tv(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=h2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=f2(t,null,e,1,n??null,i,!1,a,l),e[Fr]=t.current,tl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Md(t)};_n.render=function(e,t,n){if(!Ld(t))throw Error(J(200));return Dd(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!Ld(e))throw Error(J(40));return e._reactRootContainer?(va(function(){Dd(null,null,e,!1,function(){e._reactRootContainer=null,e[Fr]=null})}),!0):!1};_n.unstable_batchedUpdates=qg;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ld(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Dd(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function m2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m2)}catch(e){console.error(e)}}m2(),m1.exports=_n;var Id=m1.exports,p2,g_=Id;p2=g_.createRoot,g_.hydrateRoot;const Hh=new Date().toISOString().slice(0,10),Zh=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().slice(0,10)};function gn(){return crypto.randomUUID()}function xe(){return new Date().toISOString()}const fp=[{id:"550e8400-e29b-41d4-a716-446655440001",email:"dr.smith@hospital.com",password:"password321",full_name:"Dr. Sarah Smith",role:"doctor",created_at:"2024-01-15T08:00:00Z"},{id:"550e8400-e29b-41d4-a716-446655440002",email:"john.doe@email.com",password:"password321",full_name:"John Doe",role:"patient",created_at:"2024-01-16T09:30:00Z"},{id:"550e8400-e29b-41d4-a716-446655440003",email:"volunteer@hospital.com",password:"password321",full_name:"Maria Garcia",role:"volunteer",created_at:"2024-01-17T10:15:00Z"},{id:"550e8400-e29b-41d4-a716-446655440004",email:"jane.wilson@email.com",password:"password321",full_name:"Jane Wilson",role:"patient",created_at:"2024-01-18T11:00:00Z"},{id:"550e8400-e29b-41d4-a716-446655440005",email:"dr.johnson@hospital.com",password:"password321",full_name:"Dr. Michael Johnson",role:"doctor",created_at:"2024-01-19T07:45:00Z"}],hp=[{id:"area-default-salaya",name:"Mahidol University Salaya",color:"#F97316",geometry:{type:"Polygon",coordinates:[[[13.807,100.3198],[13.8068,100.3278],[13.8002,100.3318],[13.7915,100.3306],[13.787,100.323],[13.79,100.316],[13.797,100.3135]]]},created_by:"550e8400-e29b-41d4-a716-446655440001",created_at:"2024-01-20T08:00:00Z",updated_at:"2024-01-20T08:00:00Z"}],MA=[{id:"patient-3",user_id:"user-6",name:"Robert Chen",doe:"2024-01-10",gender:"male",address:"789 Pine Street, Springfield, IL 62703",caregivers_contact:"Linda Chen - (555) 456-7890",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-24",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-009876",lat:13.804,lng:100.326,phone_number:"+66 80 777 8899",patient_categories:{critical:!0,elderly:!0,pregnant:!1},personal_health_history:"History of heart disease, stroke in 2019, diabetes since 2015",doctor_diagnosed:"Congestive Heart Failure, Type 2 Diabetes, Hypertension",medications_history:"Metoprolol 50mg daily, Lisinopril 20mg daily, Insulin glargine",food_allergies:"Dairy products",medication_allergies:"Sulfa drugs",height:"168 cm",weight:"85 kg",bmi:"30.1",temperature:"99.2F",pulse:"88 bpm",blood_pressure:"145/92 mmHg",diabetes:"Type 2 - HbA1c: 8.1%",mental_health_status:"Mild depression, receiving counseling",other_symptoms:"Shortness of breath, swelling in legs",pregnancy_details:"N/A",smoker:!0,doctors_note:"Critical patient requiring close monitoring. Heart failure symptoms worsening.",created_by:"user-1",created_at:"2024-01-15T11:20:00Z",updated_at:"2024-01-26T14:30:00Z"},{id:"patient-11",user_id:"user-14",name:"Olivia Brown",doe:"2025-08-15",gender:"female",address:"22 Meadow Ln, Springfield, IL 62701",caregivers_contact:"Mark Brown - (555) 777-8899",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2025-09-25",today_date:"2025-09-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-202509-01",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2025-09-20",personal_health_history:"Uncomplicated pregnancy and delivery",doctor_diagnosed:"Postpartum recovery",medications_history:"Prenatal vitamins",food_allergies:"None known",medication_allergies:"None known",height:"165 cm",weight:"68 kg",bmi:"25.0",temperature:"98.6F",pulse:"76 bpm",blood_pressure:"118/76 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"Mild fatigue",pregnancy_details:"Delivered a healthy baby",smoker:!1,doctors_note:"Routine postpartum follow-up in 6 weeks",created_by:"user-5",created_at:"2025-09-21T10:00:00Z",updated_at:"2025-09-26T09:00:00Z"},{id:"patient-12",user_id:"user-15",name:"Ava Nguyen",doe:"2025-08-28",gender:"female",address:"90 Hillcrest Rd, Springfield, IL 62702",caregivers_contact:"Tom Nguyen - (555) 222-3344",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2025-09-24",today_date:"2025-09-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-202509-02",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2025-08-30",personal_health_history:"Gestational diabetes, controlled",doctor_diagnosed:"Postpartum monitoring",medications_history:"Insulin during pregnancy",food_allergies:"None",medication_allergies:"None",height:"162 cm",weight:"67 kg",bmi:"25.5",temperature:"98.4F",pulse:"74 bpm",blood_pressure:"120/78 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"None",pregnancy_details:"Delivered a healthy baby",smoker:!1,doctors_note:"Blood sugar normalized postpartum",created_by:"user-5",created_at:"2025-09-01T11:00:00Z",updated_at:"2025-09-26T08:30:00Z"},{id:"patient-9",user_id:"user-12",name:"Sofia Martinez",doe:"2024-01-18",gender:"female",address:"12 River Park, Springfield, IL 62701",caregivers_contact:"Daniel Martinez - (555) 111-2233",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-889900",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2024-01-20",personal_health_history:"Healthy pregnancy, normal delivery",doctor_diagnosed:"Postpartum recovery",medications_history:"Prenatal vitamins, iron supplements",food_allergies:"None known",medication_allergies:"None known",height:"164 cm",weight:"66 kg",bmi:"24.5",temperature:"98.6F",pulse:"76 bpm",blood_pressure:"120/78 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"Mild fatigue",pregnancy_details:"Delivered a healthy baby boy",smoker:!1,doctors_note:"Recovering well postpartum. Routine follow-up in 6 weeks.",created_by:"user-5",created_at:"2024-01-20T12:30:00Z",updated_at:"2024-01-26T09:30:00Z"},{id:"patient-10",user_id:"user-13",name:"Hannah Lee",doe:"2023-12-28",gender:"female",address:"98 Lake View, Springfield, IL 62702",caregivers_contact:"Eric Lee - (555) 333-4455",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-991122",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2023-12-30",personal_health_history:"Gestational hypertension in late pregnancy",doctor_diagnosed:"Postpartum monitoring",medications_history:"Labetalol during pregnancy",food_allergies:"None known",medication_allergies:"None known",height:"168 cm",weight:"70 kg",bmi:"24.8",temperature:"98.4F",pulse:"74 bpm",blood_pressure:"124/80 mmHg",diabetes:"None",mental_health_status:"Some anxiety, improving",other_symptoms:"Occasional headaches",pregnancy_details:"Delivered a healthy baby girl",smoker:!1,doctors_note:"BP stable postpartum. Continue monitoring.",created_by:"user-5",created_at:"2024-01-01T11:20:00Z",updated_at:"2024-01-26T10:10:00Z"},{id:"patient-4",user_id:"user-7",name:"Emily Rodriguez",doe:"2024-01-12",gender:"female",address:"321 Oak Drive, Springfield, IL 62704",caregivers_contact:"Carlos Rodriguez - (555) 234-5678",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-112233",lat:13.786,lng:100.317,phone_number:"+66 80 222 3344",patient_categories:{critical:!1,elderly:!1,pregnant:!0},pregnancy_status:"pregnant",due_date:"2024-04-02",personal_health_history:"Second pregnancy, first child born healthy in 2020",doctor_diagnosed:"Pregnancy - 32 weeks, Mild Anemia",medications_history:"Prenatal vitamins, Iron supplements",food_allergies:"None known",medication_allergies:"None known",height:"162 cm",weight:"72 kg",bmi:"27.4",temperature:"98.2F",pulse:"82 bpm",blood_pressure:"125/78 mmHg",diabetes:"None",mental_health_status:"Good, excited about pregnancy",other_symptoms:"Mild fatigue, occasional heartburn",pregnancy_details:"32 weeks gestation, estimated due date: April 2, 2024. Baby developing normally, mild anemia being treated.",smoker:!1,doctors_note:"Pregnancy progressing well. Monitor iron levels and continue supplements.",created_by:"user-5",created_at:"2024-01-16T09:45:00Z",updated_at:"2024-01-26T10:15:00Z"},{id:"patient-5",user_id:"user-8",name:"Michael Thompson",doe:"2024-01-08",gender:"male",address:"654 Maple Avenue, Springfield, IL 62705",caregivers_contact:"Sarah Thompson - (555) 345-6789",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-445566",patient_categories:{critical:!1,elderly:!1,pregnant:!1},personal_health_history:"Generally healthy, occasional sports injuries",doctor_diagnosed:"Acute Bronchitis, Seasonal Allergies",medications_history:"Albuterol inhaler as needed, Claritin during allergy season",food_allergies:"None known",medication_allergies:"None known",height:"180 cm",weight:"75 kg",bmi:"23.1",temperature:"98.8F",pulse:"68 bpm",blood_pressure:"118/72 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"Persistent cough, mild congestion",pregnancy_details:"N/A",smoker:!1,doctors_note:"Recovering from bronchitis. Should improve with current treatment.",created_by:"user-1",created_at:"2024-01-12T13:30:00Z",updated_at:"2024-01-26T16:20:00Z"},{id:"patient-6",user_id:"user-9",name:"Margaret Foster",doe:"2024-01-05",gender:"female",address:"987 Cedar Lane, Springfield, IL 62706",caregivers_contact:"David Foster - (555) 567-8901",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-778899",patient_categories:{critical:!1,elderly:!0,pregnant:!1},personal_health_history:"Osteoporosis, mild cognitive decline, history of falls",doctor_diagnosed:"Osteoporosis, Mild Dementia, Hypertension",medications_history:"Alendronate weekly, Amlodipine 5mg daily, Donepezil 10mg daily",food_allergies:"None known",medication_allergies:"Aspirin",height:"155 cm",weight:"58 kg",bmi:"24.1",temperature:"98.4F",pulse:"76 bpm",blood_pressure:"138/82 mmHg",diabetes:"None",mental_health_status:"Mild anxiety, some confusion",other_symptoms:"Occasional dizziness, memory issues",pregnancy_details:"N/A",smoker:!1,doctors_note:"Stable condition. Family support is excellent. Continue current medications.",created_by:"user-5",created_at:"2024-01-10T08:15:00Z",updated_at:"2024-01-26T11:45:00Z"},{id:"patient-7",user_id:"user-10",name:"James Patterson",doe:"2024-01-14",gender:"male",address:"147 Birch Street, Springfield, IL 62707",caregivers_contact:"Helen Patterson - (555) 678-9012",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-334455",patient_categories:{critical:!0,elderly:!0,pregnant:!1},personal_health_history:"COPD, former heavy smoker, multiple hospitalizations",doctor_diagnosed:"Chronic Obstructive Pulmonary Disease (COPD), Chronic Kidney Disease",medications_history:"Tiotropium inhaler daily, Prednisone 10mg daily, Furosemide 40mg daily",food_allergies:"None known",medication_allergies:"Penicillin, Codeine",height:"175 cm",weight:"62 kg",bmi:"20.2",temperature:"99.4F",pulse:"92 bpm",blood_pressure:"152/88 mmHg",diabetes:"None",mental_health_status:"Moderate depression due to chronic illness",other_symptoms:"Severe shortness of breath, chronic fatigue, frequent coughing",pregnancy_details:"N/A",smoker:!1,doctors_note:"Critical patient with advanced COPD. Requires frequent monitoring and possible hospitalization.",created_by:"user-1",created_at:"2024-01-18T15:20:00Z",updated_at:"2024-01-26T17:10:00Z"},{id:"patient-8",user_id:"user-11",name:"Lisa Wang",doe:"2024-01-20",gender:"female",address:"258 Elm Court, Springfield, IL 62708",caregivers_contact:"Kevin Wang - (555) 789-0123",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-556677",patient_categories:{critical:!1,elderly:!1,pregnant:!0},pregnancy_status:"pregnant",due_date:"2024-05-20",personal_health_history:"First pregnancy, generally healthy",doctor_diagnosed:"Pregnancy - 24 weeks, Gestational Hypertension",medications_history:"Prenatal vitamins, Labetalol 200mg twice daily",food_allergies:"Shellfish",medication_allergies:"None known",height:"158 cm",weight:"65 kg",bmi:"26.0",temperature:"98.6F",pulse:"85 bpm",blood_pressure:"142/85 mmHg",diabetes:"None",mental_health_status:"Some anxiety about pregnancy complications",other_symptoms:"Mild headaches, swelling in hands and feet",pregnancy_details:"24 weeks gestation, estimated due date: May 20, 2024. Developing gestational hypertension, requires close monitoring.",smoker:!1,doctors_note:"Monitor blood pressure closely. May need to consider early delivery if hypertension worsens.",created_by:"user-5",created_at:"2024-01-22T12:30:00Z",updated_at:"2024-01-26T13:45:00Z"}],LA=[{id:"patient-1",user_id:"user-2",name:"John Doe",doe:"2024-01-15",gender:"male",address:"123 Main Street, Springfield, IL 62701",caregivers_contact:"Mary Doe - (555) 123-4567",assigned_doctor:"Dr. Sarah Smith - (111) 123-4567",last_record_date:"2024-01-20",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia - (111) 123-4567",medical_record_number:"MRN-001234",lat:13.7992,lng:100.3195,phone_number:"+66 80 111 2233",patient_categories:{critical:!1,elderly:!1,pregnant:!1},personal_health_history:"Family history of cardiovascular disease. Previous surgery for appendectomy in 2010.",doctor_diagnosed:"Hypertension, Type 2 Diabetes Mellitus",medications_history:"Lisinopril 10mg daily since 2020, Metformin 500mg twice daily since 2021",food_allergies:"Shellfish, Nuts",medication_allergies:"Penicillin",height:"175 cm",weight:"80 kg",bmi:"26.1",temperature:"98.6F",pulse:"72 bpm",blood_pressure:"130/85 mmHg",diabetes:"Type 2 - HbA1c: 7.2%",mental_health_status:"Stable, no current concerns",other_symptoms:"Occasional headaches, mild fatigue",pregnancy_details:"N/A",smoker:!1,doctors_note:"Patient shows good compliance with medication. Blood pressure slightly elevated, recommend lifestyle modifications and regular monitoring.",created_by:"user-1",created_at:"2024-01-20T14:30:00Z",updated_at:"2024-01-25T16:45:00Z"},{id:"patient-2",user_id:"user-4",name:"Jane Wilson",doe:"2024-01-18",gender:"female",address:"456 Oak Avenue, Springfield, IL 62702",caregivers_contact:"Robert Wilson - (555) 987-6543",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-005678",lat:13.7901,lng:100.3282,phone_number:"+66 80 444 5566",patient_categories:{critical:!1,elderly:!1,pregnant:!0},pregnancy_status:"pregnant",due_date:"2024-03-15",personal_health_history:"No significant past medical history. First pregnancy.",doctor_diagnosed:"Gestational Diabetes, Pregnancy - 28 weeks",medications_history:"Prenatal vitamins, Insulin as needed for glucose control",food_allergies:"None known",medication_allergies:"None known",height:"165 cm",weight:"68 kg",bmi:"25.0",temperature:"98.4F",pulse:"78 bpm",blood_pressure:"118/75 mmHg",diabetes:"Gestational - Fasting glucose: 95 mg/dL",mental_health_status:"Mild anxiety related to pregnancy, receiving counseling",other_symptoms:"Morning sickness (resolved), mild back pain",pregnancy_details:"28 weeks gestation, estimated due date: March 15, 2024. Regular prenatal checkups, baby developing normally.",smoker:!1,doctors_note:"Pregnancy progressing well. Gestational diabetes well controlled with diet and occasional insulin. Continue regular monitoring.",created_by:"user-3",created_at:"2024-01-21T10:15:00Z",updated_at:"2024-01-26T09:20:00Z"},{name:"Zach",doe:"2025-09-25",gender:"male",address:"Bangkok",caregivers_contact:"111",assigned_doctor:"Strange",last_record_date:"2025-09-25",today_date:"2025-09-25",assigned_vhv_name:"Ironman",medical_record_number:"12345",patient_categories:{critical:!1,elderly:!0,pregnant:!1},personal_health_history:"Good Healthy",doctor_diagnosed:"Lack of sleep",medications_history:"Sleeping pills",food_allergies:"prawns",medication_allergies:"none",height:"170cm",weight:"70kg",bmi:"22.9",temperature:"98.6",pulse:"72",blood_pressure:"120/80",diabetes:"Type2",mental_health_status:"Sound Mind",other_symptoms:"Dream walking",pregnancy_details:"",smoker:!1,doctors_note:"Good To Go",created_by:"user-1",user_id:"user-1",id:"id-uqy6ynvpa",created_at:"2025-09-24T18:14:30.861Z",updated_at:"2025-09-24T18:16:35.460Z"},...MA],DA=[{id:"task-1",title:"Follow-up Blood Pressure Check",description:"Schedule and conduct follow-up blood pressure monitoring for patient John Doe. Check medication compliance and adjust dosage if necessary.",priority:"high",status:"pending",assigned_to:"user-3",assigned_by:"user-1",patient_id:"patient-1",due_date:"2024-01-28",created_at:"2024-01-25T10:30:00Z",updated_at:"2024-01-25T10:30:00Z"},{id:"task-v1",title:"Home Visit - John Doe",description:"Check blood pressure, confirm medications, record vitals.",priority:"high",status:"pending",assigned_to:"user-3",assigned_by:"user-1",patient_id:"patient-1",due_date:Hh,created_at:xe(),updated_at:xe()},{id:"task-v2",title:"Follow-up Call - Jane Wilson",description:"Call to review glucose logs and confirm prenatal visit.",priority:"medium",status:"pending",assigned_to:"user-3",assigned_by:"user-5",patient_id:"patient-2",due_date:Hh,created_at:xe(),updated_at:xe()},{id:"task-v3",title:"Supply Check - Outreach Kits",description:"Verify stock of glucose strips and BP cuffs for field work.",priority:"low",status:"pending",assigned_to:"user-3",assigned_by:"user-1",due_date:Hh,created_at:xe(),updated_at:xe()},{id:"task-2",title:"Prenatal Care Coordination",description:"Coordinate prenatal care appointments and ensure all necessary tests are scheduled for Jane Wilson. Monitor gestational diabetes management.",priority:"urgent",status:"in_progress",assigned_to:"user-3",assigned_by:"user-5",patient_id:"patient-2",due_date:"2024-01-27",created_at:"2024-01-24T14:15:00Z",updated_at:"2024-01-26T09:45:00Z"},{id:"task-3",title:"Medication Inventory Check",description:"Review and update medication inventory. Ensure adequate stock of diabetes medications and blood pressure medications.",priority:"medium",status:"completed",assigned_to:"user-3",assigned_by:"user-1",due_date:"2024-01-26",created_at:"2024-01-23T08:00:00Z",updated_at:"2024-01-26T16:30:00Z",completed_at:"2024-01-26T16:30:00Z"},{id:"task-4",title:"Patient Education Session",description:"Conduct diabetes management education session for newly diagnosed patients. Prepare educational materials and schedule group session.",priority:"medium",status:"pending",assigned_to:"user-1",assigned_by:"user-5",due_date:"2024-01-30",created_at:"2024-01-25T11:00:00Z",updated_at:"2024-01-25T11:00:00Z"},{id:"appt-jd-1",title:"Clinic Visit - BP Review",description:"Follow-up on blood pressure and medication adherence.",priority:"medium",status:"pending",assigned_to:"user-1",assigned_by:"user-1",patient_id:"patient-1",due_date:Zh(3),created_at:xe(),updated_at:xe()},{id:"appt-jd-2",title:"Lab Results Discussion",description:"Discuss recent lab results and adjust care plan as needed.",priority:"low",status:"pending",assigned_to:"user-1",assigned_by:"user-1",patient_id:"patient-1",due_date:Zh(10),created_at:xe(),updated_at:xe()},{id:"appt-jd-overdue",title:"Missed Appointment - Check-in",description:"Reschedule missed appointment and check symptoms.",priority:"high",status:"pending",assigned_to:"user-1",assigned_by:"user-1",patient_id:"patient-1",due_date:Zh(-2),created_at:xe(),updated_at:xe()}],IA=[{id:"msg-1",sender_id:"user-1",recipient_id:"user-2",subject:"Follow-up Appointment",content:"Hi John, I wanted to follow up on your recent blood pressure readings. Please schedule an appointment for next week.",image_url:void 0,image_name:void 0,is_read:!1,created_at:"2024-01-25T09:30:00Z"},{id:"msg-2",sender_id:"user-2",recipient_id:"user-1",subject:"Re: Follow-up Appointment",content:"Thank you Dr. Smith. I will call the office today to schedule the appointment.",image_url:void 0,image_name:void 0,is_read:!0,created_at:"2024-01-25T14:15:00Z"},{id:"msg-3",sender_id:"user-3",recipient_id:"user-4",subject:"Medication Reminder",content:"Hi Jane, this is a friendly reminder to take your evening insulin. Let me know if you have any questions!",image_url:void 0,image_name:void 0,is_read:!1,created_at:"2024-01-26T19:00:00Z"},{id:"msg-4",sender_id:"user-5",recipient_id:"user-2",subject:"Lab Results Available",content:"Your recent lab results are now available. Overall looking good, but we should discuss a few items at your next visit.",image_url:void 0,image_name:void 0,is_read:!1,created_at:"2024-01-26T11:30:00Z"}],RA=[{id:"ann-1",title:"New Health Guidelines",content:"Please note the updated health and safety guidelines for patient care. All staff should review the new protocols for infection control and patient interaction.",priority:"high",created_by:"user-1",created_at:"2024-01-25T08:00:00Z",updated_at:"2024-01-25T08:00:00Z"},{id:"ann-2",title:"Medication Inventory Update",content:"The medication inventory has been updated. Please check the new stock levels and report any shortages immediately.",priority:"medium",created_by:"user-5",created_at:"2024-01-24T14:30:00Z",updated_at:"2024-01-24T14:30:00Z"},{id:"ann-3",title:"Emergency Contact Information",content:"Updated emergency contact information has been distributed. Please ensure all patients have current emergency contacts on file.",priority:"urgent",created_by:"user-1",created_at:"2024-01-26T10:15:00Z",updated_at:"2024-01-26T10:15:00Z"}],zA=[{id:"record-1",patient_id:"patient-1",recorded_by:"user-2",record_date:"2024-01-26",temperature:"98.6F",pulse:"75 bpm",blood_pressure:"128/82 mmHg",weight:"79.5 kg",blood_sugar:"110 mg/dL",pain_level:3,fatigue_level:4,mood:"good",appetite:"good",sleep_quality:"fair",symptoms_description:"Mild headache in the morning, feeling better now",medications_taken:"Lisinopril 10mg, Metformin 500mg",activities:"Light walking for 30 minutes",notes:"Feeling overall better than yesterday",created_at:"2024-01-26T08:30:00Z",updated_at:"2024-01-26T08:30:00Z"},{id:"record-2",patient_id:"patient-2",recorded_by:"user-4",record_date:"2024-01-26",temperature:"98.4F",pulse:"80 bpm",blood_pressure:"115/70 mmHg",weight:"68.2 kg",blood_sugar:"92 mg/dL",pain_level:2,fatigue_level:3,mood:"excellent",appetite:"excellent",sleep_quality:"good",symptoms_description:"Baby is very active today, no morning sickness",medications_taken:"Prenatal vitamins",activities:"Prenatal yoga, light housework",notes:"Feeling great, baby movements are strong",created_at:"2024-01-26T09:15:00Z",updated_at:"2024-01-26T09:15:00Z"},{id:"record-3",patient_id:"patient-1",recorded_by:"user-2",record_date:"2024-01-25",temperature:"99.1F",pulse:"78 bpm",blood_pressure:"132/85 mmHg",weight:"80 kg",blood_sugar:"125 mg/dL",pain_level:5,fatigue_level:6,mood:"fair",appetite:"poor",sleep_quality:"poor",symptoms_description:"Persistent headache, feeling tired",medications_taken:"Lisinopril 10mg, Metformin 500mg, Tylenol for headache",activities:"Mostly resting",notes:"Not feeling well today, headache is bothering me",created_at:"2024-01-25T19:00:00Z",updated_at:"2024-01-25T19:00:00Z"}],g2=[{id:"loc-v-1",type:"volunteer",name:"Maria Garcia (Volunteer)",lat:13.8005,lng:100.3231,address:"Near Salaya Market",user_id:"user-3"},{id:"loc-v-2",type:"volunteer",name:"Volunteer Team A",lat:13.7892,lng:100.3148,address:"Phutthamonthon Sai 4",phone:"+66 2 123 4567"},{id:"loc-v-3",type:"volunteer",name:"Volunteer Team B",lat:13.784,lng:100.3295,address:"Salaya Station",phone:"+66 2 765 4321"},{id:"loc-c-1",type:"center",name:"Community Health Center - Salaya",lat:13.7963,lng:100.3127,address:"Salaya Rd",phone:"+66 2 555 0101"},{id:"loc-c-2",type:"center",name:"Phutthamonthon Health Center",lat:13.8048,lng:100.3342,address:"Phutthamonthon",phone:"+66 2 555 0202"},{id:"loc-h-1",type:"hospital",name:"Nakhon Pathom Hospital (Annex)",lat:13.7769,lng:100.3186,address:"Near Salaya",phone:"+66 2 555 0303"}],v2=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),$A=()=>{var t;const e="medical_portal_session";try{const n=localStorage.getItem(e);if(n){const r=JSON.parse(n);if((t=r==null?void 0:r.user)!=null&&t.id&&!v2(r.user.id))return console.warn("Detected invalid user ID format in session. Clearing..."),localStorage.removeItem(e),!0}}catch(n){console.error("Error validating session:",n)}return!1},ea="medical_portal_session",y2="dummyUsers",BA=e=>{try{localStorage.setItem(y2,JSON.stringify(e))}catch(t){console.error("Error saving users to localStorage:",t)}},x2=()=>{try{const e=localStorage.getItem(y2);return e?JSON.parse(e):[...fp]}catch(e){return console.error("Error loading users from localStorage:",e),[...fp]}};let fn=x2();const nv=()=>{fn=x2()},FA=async(e,t,n,r)=>{if(fn.find(u=>u.email===e))return{data:null,error:{message:"User already exists with this email"}};const a={id:gn(),email:e,password:t,full_name:n,role:r,created_at:xe()};fn.push(a),BA(fn);const l={user:a,token:gn(),expires_at:new Date(Date.now()+24*60*60*1e3).toISOString()};return localStorage.setItem(ea,JSON.stringify(l)),{data:{user:a,session:l},error:null}},UA=async(e,t)=>{nv();const n=fn.find(i=>i.email===e&&i.password===t);if(!n)return{data:null,error:{message:"Invalid email or password"}};const r={user:n,token:gn(),expires_at:new Date(Date.now()+24*60*60*1e3).toISOString()};return localStorage.setItem(ea,JSON.stringify(r)),{data:{user:n,session:r},error:null}},HA=async()=>(localStorage.removeItem(ea),{error:null}),ZA=()=>{const e=localStorage.getItem(ea);if(!e)return null;try{const t=JSON.parse(e);return new Date(t.expires_at)<new Date?(localStorage.removeItem(ea),null):v2(t.user.id)?t:(console.warn("Invalid user ID format detected. Clearing session. Please log in again."),localStorage.removeItem(ea),null)}catch{return localStorage.removeItem(ea),null}},oa=e=>(nv(),fn.find(t=>t.id===e)),rv=async(e,t)=>{const n=fn.findIndex(r=>r.id===e);if(n===-1)return{error:{message:"User not found"}};fn[n].password=t||"";try{localStorage.setItem("dummyUsers",JSON.stringify(fn))}catch{}return{error:null}},WA=async(e,t)=>{nv();const n=fn.findIndex(i=>i.id===e);if(n===-1)return{error:{message:"User not found"}};if(fn.find((i,a)=>a!==n&&i.email.toLowerCase()===t.toLowerCase()))return{error:{message:"Email already in use"}};fn[n].email=t;try{localStorage.setItem("dummyUsers",JSON.stringify(fn))}catch{}return{error:null}},_2=x.createContext(void 0),$e=()=>{const e=x.useContext(_2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},VA=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),[a,l]=x.useState(!0);x.useEffect(()=>{const p=ZA();p&&(i(p),n(p.user)),l(!1)},[]);const h={user:t,session:r,loading:a,signUp:async(p,g,y,j)=>{const{data:w,error:S}=await FA(p,g,y,j);return w&&!S&&(i(w.session),n(w.user)),{data:w,error:S}},signIn:async(p,g)=>{const{data:y,error:j}=await UA(p,g);return y&&!j&&(i(y.session),n(y.user)),{data:y,error:j}},signOut:async()=>{const{error:p}=await HA();return p||(i(null),n(null)),{error:p}}};return o.jsx(_2.Provider,{value:h,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:d,...f},h)=>x.createElement("svg",{ref:h,...KA,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${qA(e)}`,u].join(" "),...f},[...t.map(([p,g])=>x.createElement(p,g)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ge("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ge("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ge("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ge("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ge("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ge("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ot=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t)),console.log(` Data saved to LOCALSTORAGE with key: ${e}`,t.length||Object.keys(t).length),console.log(" This data is stored in your BROWSER, not in actual files")}catch(n){console.error("Error saving to localStorage:",n)}},Mi=(e,t)=>{try{const n=localStorage.getItem(e),r=n?JSON.parse(n):t;return console.log(` Data loaded from LOCALSTORAGE with key: ${e}`,r.length||Object.keys(r).length),console.log(" This data comes from your BROWSER storage, not actual files"),r}catch(n){return console.error("Error loading from localStorage:",n),t}};let qt=Mi("dummyPatientProfiles",[...LA]),la=Mi("dummyMessages",[...IA]),We=Mi("dummyUsers",[...fp]),An=Mi("dummyTasks",[...DA]),Jn=Mi("dummyAnnouncements",[...RA]),er=Mi("dummyDailyRecords",[...zA]),sM=Mi("dummyLocations",[...g2]),cn=Mi("dummyVolunteers",[]);const oM=e=>{if(!e)return 0;const t=(e.match(/(\d+)/)||[])[1];return t?parseInt(t,10):0},lM=e=>`MRN-${String(e).padStart(6,"0")}`,P2=async()=>{await new Promise(t=>setTimeout(t,50));const e=qt.reduce((t,n)=>Math.max(t,oM(n.medical_record_number)),0);return lM(e+1)},cM=e=>{if(!e)return 0;const t=(e.match(/(\d+)/)||[])[1];return t?parseInt(t,10):0},S2=e=>`VHV-${String(e).padStart(6,"0")}`,k2=async()=>{await new Promise(t=>setTimeout(t,20));const e=cn.reduce((t,n)=>Math.max(t,cM(n.volunteer_code)),0);return S2(e+1)},tn=async()=>(await new Promise(e=>setTimeout(e,500)),{data:qt.map(e=>({...e,created_by_user:We.find(t=>t.id===e.created_by)})),error:null}),uM=async e=>{await new Promise(n=>setTimeout(n,200));const t=qt.find(n=>(n.medical_record_number||"").toLowerCase()===(e||"").toLowerCase());return t?{data:t,error:null}:{data:null,error:{message:"No patient with that ID"}}},Cl=async e=>{await new Promise(n=>setTimeout(n,300));const t=qt.find(n=>n.user_id===e);return t?{data:{...t,created_by_user:We.find(n=>n.id===t.created_by)},error:null}:{data:null,error:{code:"PGRST116",message:"No profile found"}}},dM=async e=>{await new Promise(r=>setTimeout(r,400));let t=e.medical_record_number;t||(t=await P2());const n={...e,medical_record_number:t,id:gn(),created_at:xe(),updated_at:xe()};return qt.push(n),ot("dummyPatientProfiles",qt),{data:n,error:null}},Mu=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=qt.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Profile not found"}}:(qt[n]={...qt[n],...t,updated_at:xe()},ot("dummyPatientProfiles",qt),{data:qt[n],error:null})},Pa=async()=>{if(await new Promise(t=>setTimeout(t,200)),(cn||[]).length===0){const t=(We||[]).filter(n=>n.role==="volunteer").map((n,r)=>{const i=(g2||[]).find(d=>d.user_id===n.id),a=(hp||[])[0],l=a?(()=>{const d=a.geometry.coordinates[0]||[],f=d.reduce((p,g)=>p+((g==null?void 0:g[0])||0),0)/(d.length||1),h=d.reduce((p,g)=>p+((g==null?void 0:g[1])||0),0)/(d.length||1);return{lat:f,lng:h}})():void 0,u={id:gn(),user_id:n.id,volunteer_code:S2(r+1),name:n.full_name,email:n.email,phone:void 0,address:i==null?void 0:i.address,lat:i==null?void 0:i.lat,lng:i==null?void 0:i.lng,created_at:xe(),updated_at:xe()};return(n.email||"").toLowerCase()==="volunteer@hospital.com"&&a&&(u.area_id=a.id,u.area_name=a.name,(!u.lat||!u.lng)&&(u.lat=l==null?void 0:l.lat,u.lng=l==null?void 0:l.lng)),u});t.length>0&&(cn=t,ot("dummyVolunteers",cn))}return{data:cn.map(t=>({...t,user:We.find(n=>n.id===t.user_id)})),error:null}},fM=async e=>{await new Promise(n=>setTimeout(n,150));const t=cn.find(n=>(n.volunteer_code||"").toLowerCase()===e.toLowerCase());return{data:t||null,error:t?null:{message:"Not found"}}},hM=async e=>{await new Promise(r=>setTimeout(r,200));const t=e.volunteer_code||await k2(),n={...e,volunteer_code:t,id:gn(),created_at:xe(),updated_at:xe()};return cn.push(n),ot("dummyVolunteers",cn),{data:n,error:null}},C2=async(e,t)=>{await new Promise(r=>setTimeout(r,200));const n=cn.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Volunteer not found"}}:(cn[n]={...cn[n],...t,updated_at:xe()},ot("dummyVolunteers",cn),{data:cn[n],error:null})},mM=async e=>(await new Promise(n=>setTimeout(n,400)),{data:la.filter(n=>n.sender_id===e||n.recipient_id===e).map(n=>({...n,sender:We.find(r=>r.id===n.sender_id),recipient:We.find(r=>r.id===n.recipient_id)})).sort((n,r)=>new Date(r.created_at).getTime()-new Date(n.created_at).getTime()),error:null}),zd=async e=>{await new Promise(n=>setTimeout(n,300));const t={...e,id:gn(),created_at:xe()};return la.push(t),ot("dummyMessages",la),console.log(" Message saved to BROWSER LOCALSTORAGE:",t),console.log(" Total messages in BROWSER storage:",la.length),console.log("  NOTE: Data is NOT saved to actual files, only in browser localStorage"),{data:t,error:null}},pM=async(e,t)=>{await new Promise(r=>setTimeout(r,200));const n=la.findIndex(r=>r.id===e&&r.recipient_id===t);return n!==-1&&(la[n].is_read=!0,ot("dummyMessages",la)),{error:null}},Gr=async e=>(await new Promise(n=>setTimeout(n,300)),{data:e?We.filter(n=>n.id!==e):We,error:null}),x_=async(e,t)=>{if(await new Promise(i=>setTimeout(i,150)),!e)return{data:null,error:{message:"Email is required"}};const n=We.find(i=>i.email.toLowerCase()===e.toLowerCase());if(n)return{data:n,error:null};const r={id:gn(),email:e,password:"",full_name:t||e.split("@")[0],role:"patient",created_at:xe()};return We.push(r),ot("dummyUsers",We),{data:r,error:null}},gM=async(e,t)=>{if(await new Promise(i=>setTimeout(i,150)),!e)return{data:null,error:{message:"Email is required"}};const n=We.find(i=>i.email.toLowerCase()===e.toLowerCase());if(n)return{data:n,error:null};const r={id:gn(),email:e,password:"",full_name:t||e.split("@")[0],role:"volunteer",created_at:xe()};return We.push(r),ot("dummyUsers",We),{data:r,error:null}},vM=async(e,t)=>{await new Promise(r=>setTimeout(r,150));const n=We.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"User not found"}}:(We[n]={...We[n],...t},ot("dummyUsers",We),{data:We[n],error:null})},yM=async()=>(await new Promise(e=>setTimeout(e,200)),{data:sM,error:null}),Lr=async e=>{await new Promise(n=>setTimeout(n,400));let t=An.map(n=>({...n,assigned_to_user:We.find(r=>r.id===n.assigned_to),assigned_by_user:We.find(r=>r.id===n.assigned_by),patient:n.patient_id?qt.find(r=>r.id===n.patient_id):void 0}));return e&&(t=t.filter(n=>n.assigned_to===e||n.assigned_by===e)),{data:t.sort((n,r)=>new Date(r.created_at).getTime()-new Date(n.created_at).getTime()),error:null}},$d=async e=>{await new Promise(n=>setTimeout(n,400));const t={...e,id:gn(),created_at:xe(),updated_at:xe()};return An.push(t),ot("dummyTasks",An),{data:t,error:null}},pr=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=An.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Task not found"}}:(t.status==="completed"&&An[n].status!=="completed"&&(t.completed_at=xe()),An[n]={...An[n],...t,updated_at:xe()},ot("dummyTasks",An),{data:An[n],error:null})},O2=async e=>{await new Promise(n=>setTimeout(n,300));const t=An.findIndex(n=>n.id===e);return t===-1?{data:null,error:{message:"Task not found"}}:(An.splice(t,1),ot("dummyTasks",An),{data:null,error:null})},xM=async()=>(await new Promise(t=>setTimeout(t,300)),{data:Jn.map(t=>({...t,created_by_user:We.find(n=>n.id===t.created_by)})).sort((t,n)=>new Date(n.created_at).getTime()-new Date(t.created_at).getTime()),error:null}),_M=async e=>{await new Promise(n=>setTimeout(n,400));const t={...e,id:gn(),created_at:xe(),updated_at:xe()};return Jn.push(t),ot("dummyAnnouncements",Jn),{data:t,error:null}},bM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=Jn.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Announcement not found"}}:(Jn[n]={...Jn[n],...t,updated_at:xe()},ot("dummyAnnouncements",Jn),{data:Jn[n],error:null})},wM=async e=>{await new Promise(n=>setTimeout(n,300));const t=Jn.findIndex(n=>n.id===e);return t===-1?{data:null,error:{message:"Announcement not found"}}:(Jn.splice(t,1),ot("dummyAnnouncements",Jn),{data:null,error:null})},jM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));let n=er.map(r=>({...r,patient:qt.find(i=>i.id===r.patient_id),recorded_by_user:We.find(i=>i.id===r.recorded_by)}));if(t){const r=qt.find(i=>i.user_id===t);r&&(n=n.filter(i=>i.patient_id===r.id))}return{data:n.sort((r,i)=>new Date(i.record_date).getTime()-new Date(r.record_date).getTime()),error:null}},NM=async e=>{await new Promise(n=>setTimeout(n,400));const t={...e,id:gn(),created_at:xe(),updated_at:xe()};return er.push(t),ot("dummyDailyRecords",er),{data:t,error:null}},PM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=er.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Daily record not found"}}:(er[n]={...er[n],...t,updated_at:xe()},ot("dummyDailyRecords",er),{data:er[n],error:null})},SM=async e=>{await new Promise(n=>setTimeout(n,300));const t=er.findIndex(n=>n.id===e);return t===-1?{data:null,error:{message:"Daily record not found"}}:(er.splice(t,1),ot("dummyDailyRecords",er),{data:null,error:null})},kM=()=>{const{signIn:e}=$e(),[t,n]=x.useState("identify"),[r,i]=x.useState(""),[a,l]=x.useState(""),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,g]=x.useState(""),[y,j]=x.useState(""),[w,S]=x.useState(!1),[_,N]=x.useState(""),b=async A=>{A.preventDefault(),N(""),S(!0);try{let O="",I=null;const B=r.trim();if(!B)throw new Error("Please enter patient ID or email");if(B.includes("@")){const{data:$}=await Gr(),D=($||[]).find(C=>C.role==="patient"&&C.email.toLowerCase()===B.toLowerCase());if(!D)throw new Error("No patient account with this email");I=D.id,O=D.email}else{const{data:$}=await uM(B);if(!$)throw new Error("Patient ID not found");if($.user_id){const D=oa($.user_id);D&&D.role==="patient"&&(I=D.id,O=D.email)}if(!I)throw new Error("This patient has no account yet. Ask your care team to add an email for login.")}d(I),l(O);const z=I?oa(I):void 0,M=!!(z&&z.password&&z.password.length>0);h(M),n(M?"password":"set-password")}catch(O){N(O.message||"Unable to identify patient")}finally{S(!1)}},k=async A=>{if(A.preventDefault(),N(""),p.length<6)return N("Password must be at least 6 characters");if(p!==y)return N("Passwords do not match");if(!u)return N("Missing user account");S(!0);try{const{error:O}=await rv(u,p);if(O)throw new Error(O.message);const I=await e(a,p);I!=null&&I.error&&N(I.error.message)}catch(O){N(O.message||"Unable to set password")}finally{S(!1)}},T=async A=>{A.preventDefault(),N(""),S(!0);try{const{error:O}=await e(a,p);O&&N(O.message)}catch{N("Login failed")}finally{S(!1)}};return o.jsxs("div",{className:"w-full",children:[t==="identify"&&o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(N2,{className:"w-8 h-8 inline text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Patient Access"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your Patient ID (MRN) or Email"})]}),o.jsx("input",{type:"text",value:r,onChange:A=>i(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"MRN-001234 or you@example.com"}),_&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:_}),o.jsxs("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[w?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(ul,{className:"w-5 h-5"}),"Continue"]})]}),t==="password"&&o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{type:"password",value:p,onChange:A=>g(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),_&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:_}),o.jsxs("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[w?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(ul,{className:"w-5 h-5"}),"Sign In"]})]}),t==="set-password"&&o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Eu,{className:"w-8 h-8 inline text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Create Your Password"}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["for ",a]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsx("input",{type:"password",value:p,onChange:A=>g(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:y,onChange:A=>j(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),_&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:_}),o.jsxs("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[w?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(Eu,{className:"w-5 h-5"}),"Save & Sign In"]})]})]})},CM=()=>{const{signIn:e}=$e(),[t,n]=x.useState("identify"),[r,i]=x.useState(""),[a,l]=x.useState(""),[u,d]=x.useState(null),[f,h]=x.useState(""),[p,g]=x.useState(""),[y,j]=x.useState(!1),[w,S]=x.useState(""),_=async k=>{k.preventDefault(),S(""),j(!0);try{let T=null,A="";const O=r.trim();if(!O)throw new Error("Enter Volunteer ID or Email");if(O.includes("@")){const{data:z}=await Gr(),M=(z||[]).find($=>$.role==="volunteer"&&$.email.toLowerCase()===O.toLowerCase());if(!M)throw new Error("Volunteer email not found");T=M.id,A=M.email}else{const{data:z}=await fM(O);if(!z)throw new Error("Volunteer ID not found");T=z.user_id;const M=T?oa(T):void 0;if(!M)throw new Error("No user linked to this volunteer");A=M.email}d(T),l(A);const I=T?oa(T):void 0,B=!!(I&&I.password&&I.password.length>0);n(B?"password":"set-password")}catch(T){S(T.message||"Unable to identify")}finally{j(!1)}},N=async k=>{if(k.preventDefault(),S(""),f.length<6)return S("Password must be at least 6 characters");if(f!==p)return S("Passwords do not match");if(!u)return S("Missing user account");j(!0);try{const{error:T}=await rv(u,f);if(T)throw new Error(T.message);const A=await e(a,f);A!=null&&A.error&&S(A.error.message)}catch(T){S(T.message||"Unable to set password")}finally{j(!1)}},b=async k=>{k.preventDefault(),S(""),j(!0);try{const{error:T}=await e(a,f);T&&S(T.message)}finally{j(!1)}};return o.jsxs("div",{className:"w-full",children:[t==="identify"&&o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(N2,{className:"w-8 h-8 inline text-emerald-600"}),o.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Volunteer Access"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your Volunteer ID or Email"})]}),o.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"VHV-000123 or you@example.com"}),w&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:w}),o.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2",children:[y?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(ul,{className:"w-5 h-5"}),"Continue"]})]}),t==="password"&&o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{type:"password",value:f,onChange:k=>h(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),w&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:w}),o.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2",children:[y?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(ul,{className:"w-5 h-5"}),"Sign In"]})]}),t==="set-password"&&o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Eu,{className:"w-8 h-8 inline text-emerald-600"}),o.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Create Your Password"}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["for ",a]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsx("input",{type:"password",value:f,onChange:k=>h(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:p,onChange:k=>g(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),w&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:w}),o.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2",children:[y?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(Eu,{className:"w-5 h-5"}),"Save & Sign In"]})]})]})},OM=()=>{const[e,t]=x.useState("patient"),[n,r]=x.useState(!0),[i,a]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState("patient"),[g,y]=x.useState(!1),[j,w]=x.useState(""),{signIn:S,signUp:_}=$e(),N=async b=>{b.preventDefault(),w(""),y(!0);try{if(n){const{error:k}=await S(i,l);k&&w(k.message)}else{const{error:k}=await _(i,l,d,h);k&&w(k.message)}}catch{w("An unexpected error occurred")}finally{y(!1)}};return e==="patient"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("img",{src:"/logo.png",alt:"Health Bride",className:"h-12"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Health Bride Patient Portal"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Access with your MRN or email"})]}),o.jsx(kM,{}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("button",{onClick:()=>t("staff"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Staff login"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>t("volunteer"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Volunteer login"})]})})]})}):e==="volunteer"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("img",{src:"/logo.png",alt:"Health Bride",className:"h-12"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Health Bride Volunteer Portal"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Access with Volunteer ID or email"})]}),o.jsx(CM,{}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("button",{onClick:()=>t("staff"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Staff login"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>t("patient"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Patient login"})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:"/logo.png",alt:"Health Bride",className:"h-12"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Health Bride Portal"}),o.jsx("p",{className:"text-gray-600 mt-2",children:n?"Sign in to your account":"Create your account"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[!n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",required:!0,value:d,onChange:b=>f(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:h,onChange:b=>p(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"patient",children:"Patient"}),o.jsx("option",{value:"doctor",children:"Doctor"}),o.jsx("option",{value:"volunteer",children:"Volunteer"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",required:!0,value:i,onChange:b=>a(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your email"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{type:"password",required:!0,value:l,onChange:b=>u(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your password"})]}),j&&o.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:j}),o.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[n?o.jsx(ul,{className:"w-5 h-5"}):o.jsx(aM,{className:"w-5 h-5"}),o.jsx("span",{children:n?"Sign In":"Sign Up"})]})})]}),o.jsxs("div",{className:"mt-6 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("button",{onClick:()=>t("patient"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Patient login"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>t("volunteer"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Volunteer login"})]}),o.jsx("button",{onClick:()=>r(!n),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})]})]})})},EM=({onMenuClick:e,onViewChange:t})=>{var d,f;const{user:n,signOut:r}=$e(),[i,a]=x.useState(void 0);x.useEffect(()=>{let h=!0;return(async()=>{if(n){if(n.photo_url){a(n.photo_url);return}if(n.role==="patient"){const{data:g}=await Cl(n.id);h&&a(g==null?void 0:g.photo_url)}}})(),()=>{h=!1}},[n]);const l=async()=>{await r()},u=h=>{switch(h){case"doctor":return"bg-green-100 text-green-800";case"volunteer":return"bg-purple-100 text-purple-800";case"patient":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("nav",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-20",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:e,"aria-label":"Open menu",children:o.jsx(j2,{className:"w-5 h-5"})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>t("user-profile"),className:"w-9 h-9 rounded-full overflow-hidden border border-gray-200 bg-gray-50 flex items-center justify-center hover:ring-2 hover:ring-blue-500",title:"My Profile",children:i?o.jsx("img",{src:i,className:"w-full h-full object-cover"}):o.jsx(Fe,{className:"w-5 h-5 text-gray-500"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:n==null?void 0:n.full_name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u((n==null?void 0:n.role)||"")}`,children:((d=n==null?void 0:n.role)==null?void 0:d.charAt(0).toUpperCase())+((f=n==null?void 0:n.role)==null?void 0:f.slice(1))})]}),o.jsx("button",{onClick:l,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",title:"Sign Out",children:o.jsx(nM,{className:"w-5 h-5"})})]})]})})})},TM=({currentView:e,onViewChange:t,mobileOpen:n,setMobileOpen:r})=>{const{user:i}=$e(),[a,l]=x.useState(!1);x.useEffect(()=>{const p=localStorage.getItem("sidebar-collapsed");p&&l(p==="1")},[]);const u=()=>{const p=!a;l(p),localStorage.setItem("sidebar-collapsed",p?"1":"0")},d=()=>{const p=[{key:"dashboard",label:"Dashboard",icon:Fe},{key:"messages",label:"Messages",icon:ds},{key:"tasks",label:"My Tasks",icon:us},{key:"records",label:"Daily Records",icon:ya},{key:"map",label:"Map",icon:iv}];if((i==null?void 0:i.role)==="doctor"||(i==null?void 0:i.role)==="volunteer"){if(p.splice(1,0,{key:"patients",label:"Patients",icon:mi}),(i==null?void 0:i.role)==="doctor"&&p.splice(2,0,{key:"volunteers",label:"Volunteers",icon:us}),(i==null?void 0:i.role)==="volunteer"){const g=p.findIndex(y=>y.key==="tasks");p.splice(g+1,0,{key:"appointments",label:"Appointments",icon:bs})}}else if((i==null?void 0:i.role)==="patient"){p.splice(1,0,{key:"profile",label:"My Profile",icon:mi});const g=p.findIndex(y=>y.key==="tasks");g!==-1&&(p[g]={key:"appointments",label:"Appointments",icon:bs})}return(i==null?void 0:i.role)==="doctor"&&p.splice(3,0,{key:"volunteer-tasks",label:"Volunteer Tasks",icon:us}),p},f=()=>o.jsx("ul",{className:"mt-4 space-y-1",children:d().map(p=>{const g=p.icon,y=e===p.key;return o.jsx("li",{children:o.jsxs("button",{onClick:()=>{t(p.key),r&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${y?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(g,{className:"w-5 h-5 shrink-0"}),!a&&o.jsx("span",{className:"text-sm font-medium truncate",children:p.label})]})},p.key)})}),h=o.jsxs("div",{className:`h-full flex flex-col ${a?"items-center":""}`,children:[o.jsx("div",{className:`flex items-center ${a?"justify-center":"justify-start"} h-16 px-3 border-b border-gray-200`,children:a?o.jsx("img",{src:"/logo.png",alt:"logo",className:"h-8 object-contain"}):o.jsx("img",{src:"/logo.png",alt:"logo",className:"h-9 object-contain"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:o.jsx(f,{})}),o.jsx("div",{className:"p-2 border-t border-gray-200",children:o.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg px-3 py-2",children:[a?o.jsx(j2,{className:"w-4 h-4"}):o.jsx(QA,{className:"w-4 h-4"}),!a&&o.jsx("span",{className:"text-sm",children:"Collapse"})]})})]});return o.jsxs(o.Fragment,{children:[o.jsx("aside",{className:`hidden md:flex md:flex-col bg-white border-r border-gray-200 h-screen sticky top-0 z-30 transition-[width] duration-200 ${a?"w-20":"w-64"}`,children:h}),o.jsxs("div",{className:`md:hidden ${n?"fixed inset-0 z-40":"hidden"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>r&&r(!1)}),o.jsxs("aside",{className:"absolute left-0 top-0 h-full w-72 bg-white border-r border-gray-200 shadow-xl",children:[o.jsxs("div",{className:"h-16 flex items-center justify-between px-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:o.jsx(pi,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"HealthBridge"})]}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:()=>r&&r(!1),children:o.jsx(ws,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"h-[calc(100%-4rem)] overflow-y-auto px-2",children:o.jsx(f,{})})]})]})]})},AM=({announcement:e,onClose:t,onSuccess:n})=>{const{user:r}=$e(),[i,a]=x.useState(!1),[l,u]=x.useState({title:(e==null?void 0:e.title)||"",content:(e==null?void 0:e.content)||"",priority:(e==null?void 0:e.priority)||"medium"}),d=async h=>{h.preventDefault(),a(!0);try{if(e){const{error:p}=await bM(e.id,l);if(p){console.error("Error updating announcement:",p);return}}else{const{error:p}=await _M({...l,created_by:(r==null?void 0:r.id)||""});if(p){console.error("Error creating announcement:",p);return}}n(),t()}catch(p){console.error("Error saving announcement:",p)}finally{a(!1)}},f=h=>{const{name:p,value:g}=h.target;u({...l,[p]:g})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(tu,{className:"w-6 h-6 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Edit Announcement":"Create New Announcement"})]}),o.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx(ws,{className:"w-5 h-5"})})]})}),o.jsxs("form",{onSubmit:d,className:"p-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),o.jsx("input",{type:"text",name:"title",required:!0,value:l.title,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter announcement title..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),o.jsxs("select",{name:"priority",required:!0,value:l.priority,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"urgent",children:"Urgent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),o.jsx("textarea",{name:"content",required:!0,rows:6,value:l.content,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter announcement content..."})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx($s,{className:"w-5 h-5"}),o.jsxs("span",{children:[e?"Update":"Create"," Announcement"]})]})})]})]})]})})};function E2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=E2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=E2(e))&&(r&&(r+=" "),r+=t);return r}var Bd={},T2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(T2);var av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(av);var sv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(sv);var Fd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];u?f==="\\"&&a+1<i?(a++,l+=n[a]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,r.push(l),l=""):l+=f:f==="["?(d=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,a++}return l&&r.push(l),r}e.toPath=t})(Fd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T2,n=av,r=sv,i=Fd;function a(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?a(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let p=0;p<d.length;p++){if(h==null||t.isUnsafeProperty(d[p]))return f;h=h[d[p]]}return h===void 0?f:h}e.get=a})(Bd);var MM=Bd.get;const js=wr(MM);var A2={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=Symbol.for("react.transitional.element"),lv=Symbol.for("react.portal"),Ud=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),Wd=Symbol.for("react.consumer"),Vd=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),Yd=Symbol.for("react.memo"),Xd=Symbol.for("react.lazy"),LM=Symbol.for("react.view_transition"),DM=Symbol.for("react.client.reference");function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ov:switch(e=e.type,e){case Ud:case Zd:case Hd:case qd:case Gd:case LM:return e;default:switch(e=e&&e.$$typeof,e){case Vd:case Kd:case Xd:case Yd:return e;case Wd:return e;default:return t}}case lv:return t}}}Ee.ContextConsumer=Wd;Ee.ContextProvider=Vd;Ee.Element=ov;Ee.ForwardRef=Kd;Ee.Fragment=Ud;Ee.Lazy=Xd;Ee.Memo=Yd;Ee.Portal=lv;Ee.Profiler=Zd;Ee.StrictMode=Hd;Ee.Suspense=qd;Ee.SuspenseList=Gd;Ee.isContextConsumer=function(e){return Un(e)===Wd};Ee.isContextProvider=function(e){return Un(e)===Vd};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ov};Ee.isForwardRef=function(e){return Un(e)===Kd};Ee.isFragment=function(e){return Un(e)===Ud};Ee.isLazy=function(e){return Un(e)===Xd};Ee.isMemo=function(e){return Un(e)===Yd};Ee.isPortal=function(e){return Un(e)===lv};Ee.isProfiler=function(e){return Un(e)===Zd};Ee.isStrictMode=function(e){return Un(e)===Hd};Ee.isSuspense=function(e){return Un(e)===qd};Ee.isSuspenseList=function(e){return Un(e)===Gd};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ud||e===Zd||e===Hd||e===qd||e===Gd||typeof e=="object"&&e!==null&&(e.$$typeof===Xd||e.$$typeof===Yd||e.$$typeof===Vd||e.$$typeof===Wd||e.$$typeof===Kd||e.$$typeof===DM||e.getModuleId!==void 0)};Ee.typeOf=Un;A2.exports=Ee;var IM=A2.exports,Yt=e=>e===0?0:e>0?1:-1,vn=e=>typeof e=="number"&&e!=+e,ta=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!vn(e),_r=e=>de(e)||typeof e=="string",RM=0,dl=e=>{var t=++RM;return"".concat(e||"").concat(t)},sr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return r;var a;if(ta(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return vn(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},M2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function zt(e,t,n){return de(e)&&de(t)?e+n*(t-e):t}function zM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):js(r,t))===n)}var pt=e=>e===null||typeof e>"u",Ol=e=>pt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),$M=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cv(e){if(typeof e!="string")return!1;var t=$M;return t.includes(e)}var BM=["viewBox","children"],__=["points","pathLength"],Wh={svg:BM,polygon:__,polyline:__},FM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{cv(i)&&(r[i]=a=>n[i](n,a))}),r},UM=(e,t,n)=>r=>(e(t,n,r),null),Qd=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];cv(i)&&typeof a=="function"&&(r||(r={}),r[i]=UM(a,t,n))}),r},HM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function L2(e){if(typeof e!="string")return!1;var t=HM;return t.includes(e)}function Bs(e){var t=Object.entries(e).filter(n=>{var[r]=n;return L2(r)});return Object.fromEntries(t)}var b_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",w_=null,Vh=null,D2=e=>{if(e===w_&&Array.isArray(Vh))return Vh;var t=[];return x.Children.forEach(e,n=>{pt(n)||(IM.isFragment(n)?t=t.concat(D2(n.props.children)):t.push(n))}),Vh=t,w_=e,t};function ZM(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>b_(i)):r=[b_(t)],D2(e).forEach(i=>{var a=js(i,"type.displayName")||js(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var WM=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(Wh==null?void 0:Wh[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&a.includes(t)||L2(t)),d=!!n&&cv(t);return l||u||d},St=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;WM((l=r)===null||l===void 0?void 0:l[a],a,t,n)&&(i[a]=r[a])}),i},VM=["children","width","height","viewBox","className","style","title","desc"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(null,arguments)}function KM(e,t){if(e==null)return{};var n,r,i=qM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uv=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:f}=e,h=KM(e,VM),p=a||{width:r,height:i,x:0,y:0},g=De("recharts-surface",l);return x.createElement("svg",mp({},St(h,!0,"svg"),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),n)}),GM=["children","className"];function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pp.apply(null,arguments)}function YM(e,t){if(e==null)return{};var n,r,i=XM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ci=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=YM(e,GM),a=De("recharts-layer",r);return x.createElement("g",pp({className:a},St(i,!0),{ref:t}),n)}),I2=x.createContext(null),QM=()=>x.useContext(I2);function Me(e){return function(){return e}}const R2=Math.cos,Lu=Math.sin,or=Math.sqrt,Du=Math.PI,Jd=2*Du,gp=Math.PI,vp=2*gp,Ki=1e-6,JM=vp-Ki;function z2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function eL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return z2;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?z2:eL(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Ki)if(!(Math.abs(p*d-f*h)>Ki)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-l,j=i-u,w=d*d+f*f,S=y*y+j*j,_=Math.sqrt(w),N=Math.sqrt(g),b=a*Math.tan((gp-Math.acos((w+g-S)/(2*_*N)))/2),k=b/N,T=b/_;Math.abs(k-1)>Ki&&this._append`L${t+k*h},${n+k*p}`,this._append`A${a},${a},0,0,${+(p*y>h*j)},${this._x1=t+T*d},${this._y1=n+T*f}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,p=1^l,g=l?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ki||Math.abs(this._y1-h)>Ki)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%vp+vp),g>JM?this._append`A${r},${r},0,1,${p},${t-u},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Ki&&this._append`A${r},${r},0,${+(g>=gp)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new tL(t)}function fv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $2(e){this._context=e}$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ef(e){return new $2(e)}function B2(e){return e[0]}function F2(e){return e[1]}function U2(e,t){var n=Me(!0),r=null,i=ef,a=null,l=dv(u);e=typeof e=="function"?e:e===void 0?B2:Me(e),t=typeof t=="function"?t:t===void 0?F2:Me(t);function u(d){var f,h=(d=fv(d)).length,p,g=!1,y;for(r==null&&(a=i(y=l())),f=0;f<=h;++f)!(f<h&&n(p=d[f],f,d))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,d),+t(p,f,d));if(y)return a=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Me(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function kc(e,t,n){var r=null,i=Me(!0),a=null,l=ef,u=null,d=dv(f);e=typeof e=="function"?e:e===void 0?B2:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?F2:Me(+n);function f(p){var g,y,j,w=(p=fv(p)).length,S,_=!1,N,b=new Array(w),k=new Array(w);for(a==null&&(u=l(N=d())),g=0;g<=w;++g){if(!(g<w&&i(S=p[g],g,p))===_)if(_=!_)y=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=g-1;j>=y;--j)u.point(b[j],k[j]);u.lineEnd(),u.areaEnd()}_&&(b[g]=+e(S,g,p),k[g]=+t(S,g,p),u.point(r?+r(S,g,p):b[g],n?+n(S,g,p):k[g]))}if(N)return u=null,N+""||null}function h(){return U2().defined(i).curve(l).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:Me(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Me(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Me(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:Me(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Me(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Me(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Me(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),f):l},f.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),f):a},f}class H2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function nL(e){return new H2(e,!0)}function rL(e){return new H2(e,!1)}const hv={draw(e,t){const n=or(t/Du);e.moveTo(n,0),e.arc(0,0,n,0,Jd)}},iL={draw(e,t){const n=or(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Z2=or(1/3),aL=Z2*2,sL={draw(e,t){const n=or(t/aL),r=n*Z2;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},oL={draw(e,t){const n=or(t),r=-n/2;e.rect(r,r,n,n)}},lL=.8908130915292852,W2=Lu(Du/10)/Lu(7*Du/10),cL=Lu(Jd/10)*W2,uL=-R2(Jd/10)*W2,dL={draw(e,t){const n=or(t*lL),r=cL*n,i=uL*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=Jd*a/5,u=R2(l),d=Lu(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Kh=or(3),fL={draw(e,t){const n=-or(t/(Kh*3));e.moveTo(0,n*2),e.lineTo(-Kh*n,-n),e.lineTo(Kh*n,-n),e.closePath()}},Sn=-.5,kn=or(3)/2,yp=1/or(12),hL=(yp/2+1)*3,mL={draw(e,t){const n=or(t/hL),r=n/2,i=n*yp,a=r,l=n*yp+n,u=-a,d=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,d),e.lineTo(Sn*r-kn*i,kn*r+Sn*i),e.lineTo(Sn*a-kn*l,kn*a+Sn*l),e.lineTo(Sn*u-kn*d,kn*u+Sn*d),e.lineTo(Sn*r+kn*i,Sn*i-kn*r),e.lineTo(Sn*a+kn*l,Sn*l-kn*a),e.lineTo(Sn*u+kn*d,Sn*d-kn*u),e.closePath()}};function pL(e,t){let n=null,r=dv(i);e=typeof e=="function"?e:Me(e||hv),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Iu(){}function Ru(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function V2(e){this._context=e}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ru(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gL(e){return new V2(e)}function K2(e){this._context=e}K2.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vL(e){return new K2(e)}function q2(e){this._context=e}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yL(e){return new q2(e)}function G2(e){this._context=e}G2.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xL(e){return new G2(e)}function j_(e){return e<0?-1:1}function N_(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(j_(a)+j_(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function P_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qh(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function zu(e){this._context=e}zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qh(this,this._t0,P_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qh(this,P_(this,n=N_(this,e,t)),n);break;default:qh(this,this._t0,n=N_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Y2(e){this._context=new X2(e)}(Y2.prototype=Object.create(zu.prototype)).point=function(e,t){zu.prototype.point.call(this,t,e)};function X2(e){this._context=e}X2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function _L(e){return new zu(e)}function bL(e){return new Y2(e)}function Q2(e){this._context=e}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=S_(e),i=S_(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S_(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function wL(e){return new Q2(e)}function tf(e,t){this._context=e,this._t=t}tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function jL(e){return new tf(e,.5)}function NL(e){return new tf(e,0)}function PL(e){return new tf(e,1)}function Ns(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xp(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function SL(e,t){return e[t]}function kL(e){const t=[];return t.key=e,t}function CL(){var e=Me([]),t=xp,n=Ns,r=SL;function i(a){var l=Array.from(e.apply(this,arguments),kL),u,d=l.length,f=-1,h;for(const p of a)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(p,l[u].key,f,a)]).data=p;for(u=0,h=fv(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Me(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?xp:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Ns,i):n},i}function OL(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Ns(e,t)}}function EL(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ns(e,t)}}function TL(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],p=h[r][1]||0,g=h[r-1][1]||0,y=(p-g)/2,j=0;j<u;++j){var w=e[t[j]],S=w[r][1]||0,_=w[r-1][1]||0;y+=S-_}d+=p,f+=y*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Ns(e,t)}}var AL=["type","size","sizeType"];function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(null,arguments)}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(r){ML(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ML(e,t,n){return(t=LL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e){var t=DL(e,"string");return typeof t=="symbol"?t:t+""}function DL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IL(e,t){if(e==null)return{};var n,r,i=RL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J2={symbolCircle:hv,symbolCross:iL,symbolDiamond:sL,symbolSquare:oL,symbolStar:dL,symbolTriangle:fL,symbolWye:mL},zL=Math.PI/180,$L=e=>{var t="symbol".concat(Ol(e));return J2[t]||hv},BL=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*zL;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FL=(e,t)=>{J2["symbol".concat(Ol(e))]=t},mv=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=IL(e,AL),a=C_(C_({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var g=$L(l),y=pL().type(g).size(BL(n,r,l));return y()},{className:d,cx:f,cy:h}=a,p=St(a,!0);return f===+f&&h===+h&&n===+n?x.createElement("path",_p({},p,{className:De("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};mv.registerSymbol=FL;function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(null,arguments)}function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(n),!0).forEach(function(r){pv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pv(e,t,n){return(t=HL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HL(e){var t=ZL(e,"string");return typeof t=="symbol"?t:t+""}function ZL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cn=32;class gv extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Cn/2,a=Cn/6,l=Cn/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Cn,y2:i,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cn,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var f=UL({},t);return delete f.legendIcon,x.cloneElement(t.legendIcon,f)}return x.createElement(mv,{fill:u,cx:i,cy:i,size:Cn,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=this.props,u={x:0,y:0,width:Cn,height:Cn},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var g=h.formatter||i,y=De({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var j=h.inactive?a:h.color,w=g?g(h.value,h,p):h.value;return x.createElement("li",bp({className:y,style:d,key:"legend-item-".concat(p)},Qd(this.props,h,p)),x.createElement(uv,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,l)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}pv(gv,"displayName","Legend");pv(gv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var eN={},tN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(tN);var vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(vv);var nN={},nf={},rN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(rN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(nf);var iN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(iN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nf,n=iN;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(nN);var aN={},sN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bd;function n(r){return function(i){return t.get(i,r)}}e.property=n})(sN);var oN={},Gh={},Yh={},yv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(yv);var xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(xv);var _v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(_v);var E_;function WL(){return E_||(E_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv(),n=yv,r=xv,i=_v;function a(p,g,y){return typeof y!="function"?t.isMatch(p,g):l(p,g,function j(w,S,_,N,b,k){const T=y(w,S,_,N,b,k);return T!==void 0?!!T:l(w,S,j,k)},new Map)}function l(p,g,y,j){if(g===p)return!0;switch(typeof g){case"object":return u(p,g,y,j);case"function":return Object.keys(g).length>0?l(p,{...g},y,j):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function u(p,g,y,j){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,j);if(g instanceof Map)return d(p,g,y,j);if(g instanceof Set)return h(p,g,y,j);const w=Object.keys(g);if(p==null)return w.length===0;if(w.length===0)return!0;if(j&&j.has(g))return j.get(g)===p;j&&j.set(g,p);try{for(let S=0;S<w.length;S++){const _=w[S];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,j))return!1}return!0}finally{j&&j.delete(g)}}function d(p,g,y,j){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,S]of g.entries()){const _=p.get(w);if(y(_,S,w,p,g,j)===!1)return!1}return!0}function f(p,g,y,j){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let S=0;S<g.length;S++){const _=g[S];let N=!1;for(let b=0;b<p.length;b++){if(w.has(b))continue;const k=p[b];let T=!1;if(y(k,_,S,p,g,j)&&(T=!0),T){w.add(b),N=!0;break}}if(!N)return!1}return!0}function h(p,g,y,j){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,j):!1}e.isMatchWith=a,e.isSetMatch=h}(Yh)),Yh}var T_;function bv(){return T_||(T_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WL();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(Gh)),Gh}var lN={},wv={},cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(cN);var jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(jv);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",j="[object Error]",w="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",N="[object Uint16Array]",b="[object Uint32Array]",k="[object BigUint64Array]",T="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",I="[object BigInt64Array]",B="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=w,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=B,e.float64ArrayTag=z,e.functionTag=p,e.int16ArrayTag=A,e.int32ArrayTag=O,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=b,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=_})(Nv);var uN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(uN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN,n=jv,r=Nv,i=xv,a=uN;function l(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,y=new Map,j=void 0){const w=j==null?void 0:j(h,p,g,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let _=0;_<h.length;_++)S[_]=u(h[_],_,g,y,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[_,N]of h)S.set(_,u(N,_,g,y,j));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const _ of h)S.add(u(_,void 0,g,y,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let _=0;_<h.length;_++)S[_]=u(h[_],_,g,y,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),d(S,h,g,y,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),d(S,h,g,y,j),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),d(S,h,g,y,j),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,d(S,h,g,y,j),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),d(S,h,g,y,j),S}return h}function d(h,p,g=h,y,j){const w=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<w.length;S++){const _=w[S],N=Object.getOwnPropertyDescriptor(h,_);(N==null||N.writable)&&(h[_]=u(p[_],_,g,y,j))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(wv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(lN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv(),n=lN;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(oN);var dN={},fN={},hN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv,n=Nv;function r(i,a){return t.cloneDeepWith(i,(l,u,d,f)=>{const h=a==null?void 0:a(l,u,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(hN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(fN);var mN={},Pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Pv);var pN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jv;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(pN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=av,n=Pv,r=pN,i=Fd;function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const p=d[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(mN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv(),n=sv,r=fN,i=Bd,a=mN;function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(dN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv,n=sN,r=oN,i=dN;function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(aN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN,n=vv,r=nN,i=aN;function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(eN);var VL=eN.uniqBy;const A_=wr(VL);function gN(e,t,n){return t===!0?A_(e,n):typeof t=="function"?A_(e,t):e}var vN={exports:{}},yN={},xN={exports:{}},_N={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=x;function KL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qL=typeof Object.is=="function"?Object.is:KL,GL=Ps.useState,YL=Ps.useEffect,XL=Ps.useLayoutEffect,QL=Ps.useDebugValue;function JL(e,t){var n=t(),r=GL({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return XL(function(){i.value=n,i.getSnapshot=t,Xh(i)&&a({inst:i})},[e,n,t]),YL(function(){return Xh(i)&&a({inst:i}),e(function(){Xh(i)&&a({inst:i})})},[e]),QL(n),n}function Xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qL(e,n)}catch{return!0}}function e3(e,t){return t()}var t3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e3:JL;_N.useSyncExternalStore=Ps.useSyncExternalStore!==void 0?Ps.useSyncExternalStore:t3;xN.exports=_N;var n3=xN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=x,r3=n3;function i3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a3=typeof Object.is=="function"?Object.is:i3,s3=r3.useSyncExternalStore,o3=rf.useRef,l3=rf.useEffect,c3=rf.useMemo,u3=rf.useDebugValue;yN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=o3(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=c3(function(){function d(y){if(!f){if(f=!0,h=y,y=r(y),i!==void 0&&l.hasValue){var j=l.value;if(i(j,y))return p=j}return p=y}if(j=p,a3(h,y))return j;var w=r(y);return i!==void 0&&i(j,w)?(h=y,j):(h=y,p=w)}var f=!1,h,p,g=n===void 0?null:n;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,n,r,i]);var u=s3(e,a[0],a[1]);return l3(function(){l.hasValue=!0,l.value=u},[u]),u3(u),u};vN.exports=yN;var d3=vN.exports,Sv=x.createContext(null),f3=e=>e,nt=()=>{var e=x.useContext(Sv);return e?e.store.dispatch:f3},nu=()=>{},h3=()=>nu,m3=(e,t)=>e===t;function ue(e){var t=x.useContext(Sv);return d3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:h3,t?t.store.getState:nu,t?t.store.getState:nu,t?e:nu,m3)}function p3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function g3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function v3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var M_=e=>Array.isArray(e)?e:[e];function y3(e){const t=Array.isArray(e[0])?e[0]:e;return v3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function x3(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var _3=class{constructor(e){this.value=e}deref(){return this.value}},b3=typeof WeakRef<"u"?WeakRef:_3,w3=0,L_=1;function Cc(){return{s:w3,v:void 0,o:null,p:null}}function bN(e,t={}){let n=Cc();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var p;let u=n;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const j=arguments[g];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(j);S===void 0?(u=Cc(),w.set(j,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(j);S===void 0?(u=Cc(),w.set(j,u)):u=S}}const f=u;let h;if(u.s===L_)h=u.v;else if(h=e.apply(null,arguments),a++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new b3(h):h}return f.s=L_,f.v=h,h}return l.clearCache=()=>{n=Cc(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function j3(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),p3(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:y=bN,argsMemoizeOptions:j=[],devModeChecks:w={}}=h,S=M_(g),_=M_(j),N=y3(i),b=p(function(){return a++,f.apply(null,arguments)},...S),k=y(function(){l++;const A=x3(N,arguments);return u=b.apply(null,A),u},..._);return Object.assign(k,{resultFunc:f,memoizedResultFunc:b,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var K=j3(bN),N3=Object.assign((e,t=K)=>{g3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>N3}),wN={},jN={},NN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(NN);var PN={},kv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(kv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kv,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(PN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NN,n=PN,r=Fd;function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,j)=>{let w=y;for(let S=0;S<j.length&&w!=null;++S)w=w[j[S]];return w},h=(y,j)=>j==null||y==null?j:typeof y=="object"&&"key"in y?Object.hasOwn(j,y.key)?j[y.key]:f(j,y.path):typeof y=="function"?y(j):Array.isArray(y)?f(j,y):typeof j=="object"?j[y]:j,p=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(j=>h(j,y))})).slice().sort((y,j)=>{for(let w=0;w<p.length;w++){const S=t.compareValues(y.criteria[w],j.criteria[w],u[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(jN);var SN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<a?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(SN);var Cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pv,n=nf,r=yv,i=_v;function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=a})(Cv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jN,n=SN,r=Cv;function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(wN);var P3=wN.sortBy;const af=wr(P3);var kN=e=>e.legend.settings,S3=e=>e.legend.size,k3=e=>e.legend.payload,C3=K([k3,kN],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?af(r,n):r});function O3(){return ue(C3)}var Oc=1;function CN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>Oc||Math.abs(l.left-t.left)>Oc||Math.abs(l.top-t.top)>Oc||Math.abs(l.width-t.width)>Oc)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function _t(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var E3=typeof Symbol=="function"&&Symbol.observable||"@@observable",D_=E3,Qh=()=>Math.random().toString(36).substring(7).split("").join("."),T3={INIT:`@@redux/INIT${Qh()}`,REPLACE:`@@redux/REPLACE${Qh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qh()}`},$u=T3;function Ov(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ON(e,t,n){if(typeof e!="function")throw new Error(_t(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_t(1));return n(ON)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((S,_)=>{l.set(_,S)}))}function h(){if(d)throw new Error(_t(3));return i}function p(S){if(typeof S!="function")throw new Error(_t(4));if(d)throw new Error(_t(5));let _=!0;f();const N=u++;return l.set(N,S),function(){if(_){if(d)throw new Error(_t(6));_=!1,f(),l.delete(N),a=null}}}function g(S){if(!Ov(S))throw new Error(_t(7));if(typeof S.type>"u")throw new Error(_t(8));if(typeof S.type!="string")throw new Error(_t(17));if(d)throw new Error(_t(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=l).forEach(N=>{N()}),S}function y(S){if(typeof S!="function")throw new Error(_t(10));r=S,g({type:$u.REPLACE})}function j(){const S=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(_t(11));function N(){const k=_;k.next&&k.next(h())}return N(),{unsubscribe:S(N)}},[D_](){return this}}}return g({type:$u.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:y,[D_]:j}}function A3(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$u.INIT})>"u")throw new Error(_t(12));if(typeof n(void 0,{type:$u.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_t(13))})}function EN(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{A3(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],y=l[p],j=g(y,u);if(typeof j>"u")throw u&&u.type,new Error(_t(14));f[p]=j,d=d||j!==y}return d=d||r.length!==Object.keys(l).length,d?f:l}}function Bu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function M3(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(_t(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},u=e.map(d=>d(l));return a=Bu(...u)(i.dispatch),{...i,dispatch:a}}}function TN(e){return Ov(e)&&"type"in e&&typeof e.type=="string"}var AN=Symbol.for("immer-nothing"),I_=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ss=Object.getPrototypeOf;function xa(e){return!!e&&!!e[yn]}function Zr(e){var t;return e?MN(e)||Array.isArray(e)||!!e[I_]||!!((t=e.constructor)!=null&&t[I_])||El(e)||of(e):!1}var L3=Object.prototype.constructor.toString();function MN(e){if(!e||typeof e!="object")return!1;const t=Ss(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===L3}function Fu(e,t){sf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function sf(e){const t=e[yn];return t?t.type_:Array.isArray(e)?1:El(e)?2:of(e)?3:0}function wp(e,t){return sf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LN(e,t,n){const r=sf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function D3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function El(e){return e instanceof Map}function of(e){return e instanceof Set}function qi(e){return e.copy_||e.base_}function jp(e,t){if(El(e))return new Map(e);if(of(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=MN(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[yn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Ss(e),r)}else{const r=Ss(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Ev(e,t=!1){return lf(e)||xa(e)||!Zr(e)||(sf(e)>1&&Object.defineProperties(e,{set:{value:Ec},add:{value:Ec},clear:{value:Ec},delete:{value:Ec}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ev(n,!0))),e}function Ec(){tr(2)}function lf(e){return Object.isFrozen(e)}var I3={};function _a(e){const t=I3[e];return t||tr(0,e),t}var fl;function DN(){return fl}function R3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R_(e,t){t&&(_a("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Np(e){Pp(e),e.drafts_.forEach(z3),e.drafts_=null}function Pp(e){e===fl&&(fl=e.parent_)}function z_(e){return fl=R3(fl,e)}function z3(e){const t=e[yn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[yn].modified_&&(Np(t),tr(4)),Zr(e)&&(e=Uu(t,e),t.parent_||Hu(t,e)),t.patches_&&_a("Patches").generateReplacementPatches_(n[yn].base_,e,t.patches_,t.inversePatches_)):e=Uu(t,n,[]),Np(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AN?e:void 0}function Uu(e,t,n){if(lf(t))return t;const r=t[yn];if(!r)return Fu(t,(i,a)=>B_(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),Fu(a,(u,d)=>B_(e,r,i,u,d,n,l)),Hu(e,i,!1),n&&e.patches_&&_a("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function B_(e,t,n,r,i,a,l){if(xa(i)){const u=a&&t&&t.type_!==3&&!wp(t.assigned_,r)?a.concat(r):void 0,d=Uu(e,i,u);if(LN(n,r,d),xa(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Zr(i)&&!lf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Uu(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(El(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hu(e,i)}}function Hu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ev(t,n)}function $3(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:DN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Tv;n&&(i=[r],a=hl);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var Tv={get(e,t){if(t===yn)return e;const n=qi(e);if(!wp(n,t))return B3(e,n,t);const r=n[t];return e.finalized_||!Zr(r)?r:r===Jh(e.base_,t)?(em(e),e.copy_[t]=kp(r,e)):r},has(e,t){return t in qi(e)},ownKeys(e){return Reflect.ownKeys(qi(e))},set(e,t,n){const r=IN(qi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Jh(qi(e),t),a=i==null?void 0:i[yn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(D3(n,i)&&(n!==void 0||wp(e.base_,t)))return!0;em(e),Sp(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,em(e),Sp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){tr(11)},getPrototypeOf(e){return Ss(e.base_)},setPrototypeOf(){tr(12)}},hl={};Fu(Tv,(e,t)=>{hl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hl.deleteProperty=function(e,t){return hl.set.call(this,e,t,void 0)};hl.set=function(e,t,n){return Tv.set.call(this,e[0],t,n,e[0])};function Jh(e,t){const n=e[yn];return(n?qi(n):e)[t]}function B3(e,t,n){var i;const r=IN(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function IN(e,t){if(!(t in e))return;let n=Ss(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ss(n)}}function Sp(e){e.modified_||(e.modified_=!0,e.parent_&&Sp(e.parent_))}function em(e){e.copy_||(e.copy_=jp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var F3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(d=a,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&tr(6),r!==void 0&&typeof r!="function"&&tr(7);let i;if(Zr(t)){const a=z_(this),l=kp(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Np(a):Pp(a)}return R_(a,r),$_(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===AN&&(i=void 0),this.autoFreeze_&&Ev(i,!0),r){const a=[],l=[];_a("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else tr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zr(e)||tr(8),xa(e)&&(e=zr(e));const t=z_(this),n=kp(e,void 0);return n[yn].isManual_=!0,Pp(t),n}finishDraft(e,t){const n=e&&e[yn];(!n||!n.isManual_)&&tr(9);const{scope_:r}=n;return R_(r,t),$_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=_a("Patches").applyPatches_;return xa(e)?r(e,t):this.produce(e,i=>r(i,t))}};function kp(e,t){const n=El(e)?_a("MapSet").proxyMap_(e,t):of(e)?_a("MapSet").proxySet_(e,t):$3(e,t);return(t?t.scope_:DN()).drafts_.push(n),n}function zr(e){return xa(e)||tr(10,e),RN(e)}function RN(e){if(!Zr(e)||lf(e))return e;const t=e[yn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=jp(e,t.scope_.immer_.useStrictShallowCopy_)}else n=jp(e,!0);return Fu(n,(r,i)=>{LN(n,r,RN(i))}),t&&(t.finalized_=!1),n}var U3=new F3,zN=U3.produce;function $N(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var H3=$N(),Z3=$N,W3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bu:Bu.apply(null,arguments)};function Bn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(mn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>TN(r)&&r.type===e,n}var BN=class Mo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mo.prototype)}static get[Symbol.species](){return Mo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mo(...t[0].concat(this)):new Mo(...t.concat(this))}};function F_(e){return Zr(e)?zN(e,()=>{}):e}function Tc(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function V3(e){return typeof e=="boolean"}var K3=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new BN;return n&&(V3(n)?l.push(H3):l.push(Z3(n.extraArgument))),l},q3="RTK_autoBatch",U_=e=>t=>{setTimeout(t,e)},G3=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U_(10):e.type==="callback"?e.queueNotification:U_(e.timeout),f=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[q3]),a=!i,a&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},Y3=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new BN(e);return r&&i.push(G3(typeof r=="object"?r:void 0)),i};function X3(e){const t=K3(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:l=void 0,enhancers:u=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Ov(n))d=EN(n);else throw new Error(mn(1));let f;typeof r=="function"?f=r(t):f=t();let h=Bu;i&&(h=W3({trace:!1,...typeof i=="object"&&i}));const p=M3(...f),g=Y3(p);let y=typeof u=="function"?u(g):g();const j=h(...y);return ON(d,l,j)}function FN(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(mn(28));if(u in t)throw new Error(mn(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Q3(e){return typeof e=="function"}function J3(e,t){let[n,r,i]=FN(t),a;if(Q3(e))a=()=>F_(e());else{const u=F_(e);a=()=>u}function l(u=a(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(xa(h)){const y=p(h,d);return y===void 0?h:y}else{if(Zr(h))return zN(h,g=>p(g,d));{const g=p(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return l.getInitialState=a,l}var e4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",t4=(e=21)=>{let t="",n=e;for(;n--;)t+=e4[Math.random()*64|0];return t},n4=Symbol.for("rtk-slice-createasyncthunk");function r4(e,t){return`${e}/${t}`}function i4({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[n4];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(mn(11));typeof process<"u";const u=(typeof i.reducers=="function"?i.reducers(s4()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,T){const A=typeof k=="string"?k:k.type;if(!A)throw new Error(mn(12));if(A in f.sliceCaseReducersByType)throw new Error(mn(13));return f.sliceCaseReducersByType[A]=T,h},addMatcher(k,T){return f.sliceMatchers.push({matcher:k,reducer:T}),h},exposeAction(k,T){return f.actionCreators[k]=T,h},exposeCaseReducer(k,T){return f.sliceCaseReducersByName[k]=T,h}};d.forEach(k=>{const T=u[k],A={reducerName:k,type:r4(a,k),createNotation:typeof i.reducers=="function"};l4(T)?u4(A,T,h,t):o4(A,T,h)});function p(){const[k={},T=[],A=void 0]=typeof i.extraReducers=="function"?FN(i.extraReducers):[i.extraReducers],O={...k,...f.sliceCaseReducersByType};return J3(i.initialState,I=>{for(let B in O)I.addCase(B,O[B]);for(let B of f.sliceMatchers)I.addMatcher(B.matcher,B.reducer);for(let B of T)I.addMatcher(B.matcher,B.reducer);A&&I.addDefaultCase(A)})}const g=k=>k,y=new Map,j=new WeakMap;let w;function S(k,T){return w||(w=p()),w(k,T)}function _(){return w||(w=p()),w.getInitialState()}function N(k,T=!1){function A(I){let B=I[k];return typeof B>"u"&&T&&(B=Tc(j,A,_)),B}function O(I=g){const B=Tc(y,T,()=>new WeakMap);return Tc(B,I,()=>{const z={};for(const[M,$]of Object.entries(i.selectors??{}))z[M]=a4($,I,()=>Tc(j,I,_),T);return z})}return{reducerPath:k,getSelectors:O,get selectors(){return O(A)},selectSlice:A}}const b={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:_,...N(l),injectInto(k,{reducerPath:T,...A}={}){const O=T??l;return k.inject({reducerPath:O,reducer:S},A),{...b,...N(O,!0)}}};return b}}function a4(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var wn=i4();function s4(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function o4({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!c4(r))throw new Error(mn(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?Bn(e,l):Bn(e))}function l4(e){return e._reducerDefinitionType==="asyncThunk"}function c4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function u4({type:e,reducerName:t},n,r,i){if(!i)throw new Error(mn(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Ac,pending:u||Ac,rejected:d||Ac,settled:f||Ac})}function Ac(){}var d4="task",UN="listener",HN="completed",Av="cancelled",f4=`task-${Av}`,h4=`task-${HN}`,Cp=`${UN}-${Av}`,m4=`${UN}-${HN}`,cf=class{constructor(e){gh(this,"name","TaskAbortError");gh(this,"message");this.code=e,this.message=`${d4} ${Av} (reason: ${e})`}},Mv=(e,t)=>{if(typeof e!="function")throw new TypeError(mn(32))},Zu=()=>{},ZN=(e,t=Zu)=>(e.catch(t),e),WN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ca=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ua=e=>{if(e.aborted){const{reason:t}=e;throw new cf(t)}};function VN(e,t){let n=Zu;return new Promise((r,i)=>{const a=()=>i(new cf(e.reason));if(e.aborted){a();return}n=WN(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Zu})}var p4=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof cf?"cancelled":"rejected",error:n}}finally{t==null||t()}},Wu=e=>t=>ZN(VN(e,t).then(n=>(ua(e),n))),KN=e=>{const t=Wu(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:fs}=Object,H_={},uf="listenerMiddleware",g4=(e,t)=>{const n=r=>WN(e,()=>ca(r,e.reason));return(r,i)=>{Mv(r);const a=new AbortController;n(a);const l=p4(async()=>{ua(e),ua(a.signal);const u=await r({pause:Wu(a.signal),delay:KN(a.signal),signal:a.signal});return ua(a.signal),u},()=>ca(a,h4));return i!=null&&i.autoJoin&&t.push(l.catch(Zu)),{result:Wu(e)(l),cancel(){ca(a,f4)}}}},v4=(e,t)=>{const n=async(r,i)=>{ua(t);let a=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await VN(t,Promise.race(u));return ua(t),d}finally{a()}};return(r,i)=>ZN(n(r,i))},qN=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Bn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mn(21));return Mv(a),{predicate:i,type:t,effect:a}},GN=fs(e=>{const{type:t,predicate:n,effect:r}=qN(e);return{id:t4(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mn(22))}}},{withTypes:()=>GN}),Z_=(e,t)=>{const{type:n,effect:r,predicate:i}=qN(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Op=e=>{e.pending.forEach(t=>{ca(t,Cp)})},y4=e=>()=>{e.forEach(Op),e.clear()},W_=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},YN=fs(Bn(`${uf}/add`),{withTypes:()=>YN}),x4=Bn(`${uf}/removeAll`),XN=fs(Bn(`${uf}/remove`),{withTypes:()=>XN}),_4=(...e)=>{console.error(`${uf}/error`,...e)},Tl=(e={})=>{const t=new Map,{extra:n,onError:r=_4}=e;Mv(r);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&Op(h)}),a=h=>{const p=Z_(t,h)??GN(h);return i(p)};fs(a,{withTypes:()=>a});const l=h=>{const p=Z_(t,h);return p&&(p.unsubscribe(),h.cancelActive&&Op(p)),!!p};fs(l,{withTypes:()=>l});const u=async(h,p,g,y)=>{const j=new AbortController,w=v4(a,j.signal),S=[];try{h.pending.add(j),await Promise.resolve(h.effect(p,fs({},g,{getOriginalState:y,condition:(_,N)=>w(_,N).then(Boolean),take:w,delay:KN(j.signal),pause:Wu(j.signal),extra:n,signal:j.signal,fork:g4(j.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,N,b)=>{_!==j&&(ca(_,Cp),b.delete(_))})},cancel:()=>{ca(j,Cp),h.pending.delete(j)},throwIfCancelled:()=>{ua(j.signal)}})))}catch(_){_ instanceof cf||W_(r,_,{raisedBy:"effect"})}finally{await Promise.all(S),ca(j,m4),h.pending.delete(j)}},d=y4(t);return{middleware:h=>p=>g=>{if(!TN(g))return p(g);if(YN.match(g))return a(g.payload);if(x4.match(g)){d();return}if(XN.match(g))return l(g.payload);let y=h.getState();const j=()=>{if(y===H_)throw new Error(mn(23));return y};let w;try{if(w=p(g),t.size>0){const S=h.getState(),_=Array.from(t.values());for(const N of _){let b=!1;try{b=N.predicate(g,S,y)}catch(k){b=!1,W_(r,k,{raisedBy:"predicate"})}b&&u(N,g,h,j)}}}finally{y=H_}return w},startListening:a,stopListening:l,clearListeners:d}};function mn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var b4={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},QN=wn({name:"chartLayout",initialState:b4,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:w4,setLayout:j4,setChartSize:N4,setScale:P4}=QN.actions,S4=QN.reducer;function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(r){k4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k4(e,t,n){return(t=C4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C4(e){var t=O4(e,"string");return typeof t=="symbol"?t:t+""}function O4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vu=Math.PI/180,E4=e=>e*180/Math.PI,jt=(e,t,n,r)=>({x:e+Math.cos(-Vu*r)*n,y:t+Math.sin(-Vu*r)*n}),T4=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},A4=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},M4=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=A4({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:E4(d),angleInRadian:d}},L4=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},D4=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},I4=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=M4({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=L4(t),h=a,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?K_(K_({},t),{},{radius:i,angle:D4(h,t)}):null};function JN(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){R4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R4(e,t,n){return(t=z4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4(e){var t=$4(e,"string");return typeof t=="symbol"?t:t+""}function $4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t,n){return pt(e)||pt(t)?n:_r(t)?js(e,t,n):typeof t=="function"?t(e):n}var B4=(e,t,n,r,i)=>{var a,l=-1,u=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,h=n[d].coordinate,p=d>=u-1?n[0].coordinate:n[d+1].coordinate,g=void 0;if(Yt(h-f)!==Yt(p-h)){var y=[];if(Yt(p-h)===Yt(i[1]-i[0])){g=p;var j=h+i[1]-i[0];y[0]=Math.min(j,(j+f)/2),y[1]=Math.max(j,(j+f)/2)}else{g=f;var w=p+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:l}=n[d]);break}}else{var _=Math.min(f,p),N=Math.max(f,p);if(e>(_+h)/2&&e<=(N+h)/2){({index:l}=n[d]);break}}}else if(t){for(var b=0;b<u;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<u-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===u-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:l}=t[b]);break}}return l},F4=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&de(e[a]))return Mn(Mn({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&de(e[l]))return Mn(Mn({},e),{},{[l]:e[l]+(i||0)})}return e},Sa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",eP=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},tP=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:y}=e;if(!l)return null;var j=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=i==="category"&&l.bandwidth?l.bandwidth()/j:0;if(w=y==="angleAxis"&&a&&a.length>=2?Yt(a[0]-a[1])*2*w:w,p||g){var S=(p||g||[]).map((_,N)=>{var b=r?r.indexOf(_):_;return{coordinate:l(b)+w,value:_,offset:w,index:N}});return S.filter(_=>!vn(_.coordinate))}return d&&f?f.map((_,N)=>({coordinate:l(_)+w,value:_,index:N,offset:w})):l.ticks&&!n&&h!=null?l.ticks(h).map((_,N)=>({coordinate:l(_)+w,value:_,offset:w,index:N})):l.domain().map((_,N)=>({coordinate:l(_)+w,value:r?r[_]:_,index:N,offset:w}))},G_=1e-4,U4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-G_,a=Math.max(r[0],r[1])+G_,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},H4=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!de(e[0])||e[0]<n)&&(i[0]=n),(!de(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Z4=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=vn(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},W4=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=vn(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},V4={sign:Z4,expand:OL,none:Ns,silhouette:EL,wiggle:TL,positive:W4},K4=(e,t,n)=>{var r=V4[n],i=CL().keys(t).value((a,l)=>+Ut(a,l,0)).order(xp).offset(r);return i(e)};function q4(e){return e==null?void 0:String(e)}var Y_=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=Ut(a,t.dataKey,t.scale.domain()[l]);return pt(u)?null:t.scale(u)-i/2+r},G4=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Y4=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},X4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Q4=(e,t,n)=>{if(e!=null)return X4(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((d,f)=>{var h=JN(f,t,n),p=Y4(h);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},X_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=af(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function J_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Mn(Mn({},t),{},{dataKey:n,payload:r,value:i,name:a})}function nP(e,t){if(e)return String(e);if(typeof t=="string")return t}function J4(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?I4({x:e,y:t},r):null}var eD=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Mn(Mn(Mn({},r),jt(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return Mn(Mn(Mn({},r),jt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},tD=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Yr=e=>e.layout.width,Xr=e=>e.layout.height,nD=e=>e.layout.scale,rP=e=>e.layout.margin,df=K(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ff=K(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rD="data-recharts-item-index",iD="data-recharts-item-data-key",Al=60;function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(r){aD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aD(e,t,n){return(t=sD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sD(e){var t=oD(e,"string");return typeof t=="symbol"?t:t+""}function oD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lD=e=>e.brush.height;function cD(e){var t=ff(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Al;return n+i}return n},0)}function uD(e){var t=ff(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Al;return n+i}return n},0)}function dD(e){var t=df(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function fD(e){var t=df(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var gt=K([Yr,Xr,rP,lD,cD,uD,dD,fD,kN,S3],(e,t,n,r,i,a,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+u},g=Mc(Mc({},p),h),y=g.bottom;g.bottom+=r,g=F4(g,d,f);var j=e-g.left-g.right,w=t-g.top-g.bottom;return Mc(Mc({brushBottom:y},g),{},{width:Math.max(j,0),height:Math.max(w,0)})}),hD=K(gt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dv=K(Yr,Xr,(e,t)=>({x:0,y:0,width:e,height:t})),mD=x.createContext(null),Hn=()=>x.useContext(mD)!=null,hf=e=>e.brush,mf=K([hf,gt,rP],(e,t,n)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:de(e.width)?e.width:t.width})),Iv=()=>{var e,t=Hn(),n=ue(hD),r=ue(mf),i=(e=ue(hf))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iP=()=>{var e;return(e=ue(gt))!==null&&e!==void 0?e:pD},Rv=()=>ue(Yr),zv=()=>ue(Xr),gD=()=>ue(e=>e.layout.margin),ke=e=>e.layout.layoutType,$v=()=>ue(ke),vD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},aP=wn({name:"legend",initialState:vD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=zr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:tb,setLegendSettings:yD,addLegendPayload:xD,removeLegendPayload:_D}=aP.actions,bD=aP.reducer,wD=["contextPayload"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(null,arguments)}function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(n),!0).forEach(function(r){Bv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bv(e,t,n){return(t=jD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jD(e){var t=ND(e,"string");return typeof t=="symbol"?t:t+""}function ND(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PD(e,t){if(e==null)return{};var n,r,i=SD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SD(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kD(e){return e.value}function CD(e){var{contextPayload:t}=e,n=PD(e,wD),r=gN(t,e.payloadUniqBy,kD),i=ks(ks({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(gv,i)}function OD(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:d}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-a.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((i||0)-a.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ks(ks({},f),h)}function ED(e){var t=nt();return x.useEffect(()=>{t(yD(e))},[t,e]),null}function TD(e){var t=nt();return x.useEffect(()=>(t(tb(e)),()=>{t(tb({width:0,height:0}))}),[t,e]),null}function AD(e){var t=O3(),n=QM(),r=gD(),{width:i,height:a,wrapperStyle:l,portal:u}=e,[d,f]=CN([t]),h=Rv(),p=zv();if(h==null||p==null)return null;var g=h-(r.left||0)-(r.right||0),y=pf.getWidthOrHeight(e.layout,a,i,g),j=u?l:ks(ks({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||a||"auto"},OD(l,e,r,h,p,d)),l),w=u??n;if(w==null)return null;var S=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:f},x.createElement(ED,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(TD,{width:d.width,height:d.height}),x.createElement(CD,Ep({},e,y,{margin:r,chartWidth:h,chartHeight:p,contextPayload:t})));return Id.createPortal(S,w)}class pf extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&de(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(AD,this.props)}}Bv(pf,"displayName","Legend");Bv(pf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp.apply(null,arguments)}function rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(n),!0).forEach(function(r){MD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MD(e,t,n){return(t=LD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LD(e){var t=DD(e,"string");return typeof t=="symbol"?t:t+""}function DD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ID(e){return Array.isArray(e)&&_r(e[0])&&_r(e[1])?e.join(" ~ "):e}var RD=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,y=()=>{if(a&&a.length){var T={padding:0,margin:0},A=(u?af(a,u):a).map((O,I)=>{if(O.type==="none")return null;var B=O.formatter||l||ID,{value:z,name:M}=O,$=z,D=M;if(B){var C=B(z,M,O,I,a);if(Array.isArray(C))[$,D]=C;else if(C!=null)$=C;else return null}var U=tm({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:U},_r(D)?x.createElement("span",{className:"recharts-tooltip-item-name"},D):null,_r(D)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},$),x.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},A)}return null},j=tm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=tm({margin:0},i),S=!pt(h),_=S?h:"",N=De("recharts-default-tooltip",d),b=De("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(_=p(h,a));var k=g?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Tp({className:N,style:j},k),x.createElement("p",{className:b,style:w},x.isValidElement(_)?_:"".concat(_)),y())},_o="recharts-tooltip-wrapper",zD={visibility:"hidden"};function $D(e){var{coordinate:t,translateX:n,translateY:r}=e;return De(_o,{["".concat(_o,"-right")]:de(n)&&t&&de(t.x)&&n>=t.x,["".concat(_o,"-left")]:de(n)&&t&&de(t.x)&&n<t.x,["".concat(_o,"-bottom")]:de(r)&&t&&de(t.y)&&r>=t.y,["".concat(_o,"-top")]:de(r)&&t&&de(t.y)&&r<t.y})}function ib(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(a&&de(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(t[r])return l[r]?h:p;var g=d[r];if(g==null)return 0;if(l[r]){var y=h,j=g;return y<j?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var w=p+u,S=g+f;return w>S?Math.max(h,g):Math.max(p,g)}function BD(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function FD(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,h,p;return l.height>0&&l.width>0&&n?(h=ib({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=ib({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=BD({translateX:h,translateY:p,useTranslate3d:u})):f=zD,{cssProperties:f,cssClasses:$D({translateX:h,translateY:p,coordinate:n})}}function ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(n),!0).forEach(function(r){Ap(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ap(e,t,n){return(t=UD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UD(e){var t=HD(e,"string");return typeof t=="symbol"?t:t+""}function HD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZD extends x.PureComponent{constructor(){super(...arguments),Ap(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ap(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:j,lastBoundingBox:w,innerRef:S,hasPortalFromProps:_}=this.props,{cssClasses:N,cssProperties:b}=FD({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:y}),k=_?{}:Lc(Lc({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=Lc(Lc({},k),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:T,ref:S},a)}}var WD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fs={devToolsEnabled:!1,isSsr:WD()},sP=()=>ue(e=>e.rootProps.accessibilityLayer);function xn(e){return Number.isFinite(e)}function Ku(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(null,arguments)}function sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(n),!0).forEach(function(r){VD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VD(e,t,n){return(t=KD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KD(e){var t=qD(e,"string");return typeof t=="symbol"?t:t+""}function qD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lb={curveBasisClosed:vL,curveBasisOpen:yL,curveBasis:gL,curveBumpX:nL,curveBumpY:rL,curveLinearClosed:xL,curveLinear:ef,curveMonotoneX:_L,curveMonotoneY:bL,curveNatural:wL,curveStep:jL,curveStepAfter:PL,curveStepBefore:NL},Dc=e=>xn(e.x)&&xn(e.y),bo=e=>e.x,wo=e=>e.y,GD=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ol(e));return(n==="curveMonotone"||n==="curveBump")&&t?lb["".concat(n).concat(t==="vertical"?"Y":"X")]:lb[n]||ef},YD=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=GD(t,i),u=a?n.filter(Dc):n,d;if(Array.isArray(r)){var f=a?r.filter(p=>Dc(p)):r,h=u.map((p,g)=>ob(ob({},p),{},{base:f[g]}));return i==="vertical"?d=kc().y(wo).x1(bo).x0(p=>p.base.x):d=kc().x(bo).y1(wo).y0(p=>p.base.y),d.defined(Dc).curve(l),d(h)}return i==="vertical"&&de(r)?d=kc().y(wo).x1(bo).x0(r):de(r)?d=kc().x(bo).y1(wo).y0(r):d=U2().x(bo).y(wo),d.defined(Dc).curve(l),d(u)},XD=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?YD(e):r;return x.createElement("path",Mp({},Bs(e),FM(e),{className:De("recharts-curve",t),d:a===null?void 0:a,ref:i}))},QD=["x","y","top","left","width","height","className"];function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(null,arguments)}function cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(n),!0).forEach(function(r){eI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eI(e,t,n){return(t=tI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e){var t=nI(e,"string");return typeof t=="symbol"?t:t+""}function nI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rI(e,t){if(e==null)return{};var n,r,i=iI(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aI=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),sI=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,d=rI(e,QD),f=JD({x:t,y:n,top:r,left:i,width:a,height:l},d);return!de(t)||!de(n)||!de(a)||!de(l)||!de(r)||!de(i)?null:x.createElement("path",Lp({},St(f,!0),{className:De("recharts-cross",u),d:aI(t,n,a,l,r,i)}))};function oI(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(n),!0).forEach(function(r){cI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cI(e,t,n){return(t=uI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uI(e){var t=dI(e,"string");return typeof t=="symbol"?t:t+""}function dI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zn(e,t){var n=lI({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function fI(){}function db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?db(Object(n),!0).forEach(function(r){hI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):db(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hI(e,t,n){return(t=mI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mI(e){var t=pI(e,"string");return typeof t=="symbol"?t:t+""}function pI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),oP=(e,t,n)=>e.map(r=>"".concat(gI(r)," ").concat(t,"ms ").concat(n)).join(","),vI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),ml=(e,t)=>Object.keys(t).reduce((n,r)=>fb(fb({},n),{},{[r]:e(r,t[r])}),{});function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(n),!0).forEach(function(r){yI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yI(e,t,n){return(t=xI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xI(e){var t=_I(e,"string");return typeof t=="symbol"?t:t+""}function _I(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qu=(e,t,n)=>e+(t-e)*n,Dp=e=>{var{from:t,to:n}=e;return t!==n},lP=(e,t,n)=>{var r=ml((i,a)=>{if(Dp(a)){var[l,u]=e(a.from,a.to,a.velocity);return wt(wt({},a),{},{from:l,velocity:u})}return a},t);return n<1?ml((i,a)=>Dp(a)?wt(wt({},a),{},{velocity:qu(a.velocity,r[i].velocity,n),from:qu(a.from,r[i].from,n)}):a,t):lP(e,r,n-1)};function bI(e,t,n,r,i,a){var l,u=r.reduce((g,y)=>wt(wt({},g),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>ml((g,y)=>y.from,u),f=()=>!Object.values(u).filter(Dp).length,h=null,p=g=>{l||(l=g);var y=g-l,j=y/n.dt;u=lP(n,u,j),i(wt(wt(wt({},e),t),d())),l=g,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function wI(e,t,n,r,i,a,l){var u=null,d=i.reduce((p,g)=>wt(wt({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/r,y=ml((w,S)=>qu(...S,n(g)),d);if(a(wt(wt(wt({},e),t),y)),g<1)u=l.setTimeout(h);else{var j=ml((w,S)=>qu(...S,n(1)),d);a(wt(wt(wt({},e),t),j))}};return()=>(u=l.setTimeout(h),()=>{u()})}const jI=(e,t,n,r,i,a)=>{var l=vI(e,t);return n.isStepper===!0?bI(e,t,n,l,i,a):wI(e,t,n,r,l,i,a)};var Gu=1e-4,cP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),mb=(e,t)=>n=>{var r=cP(e,t);return uP(r,n)},NI=(e,t)=>n=>{var r=cP(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return uP(i,n)},pb=function(){for(var t,n,r,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else l.length===4&&([t,r,n,i]=l);var f=mb(t,n),h=mb(r,i),p=NI(t,n),g=j=>j>1?1:j<0?0:j,y=j=>{for(var w=j>1?1:j,S=w,_=0;_<8;++_){var N=f(S)-w,b=p(S);if(Math.abs(N-w)<Gu||b<Gu)return h(S);S=g(S-N/b)}return h(S)};return y.isStepper=!1,y},PI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,d)=>{var f=-(l-u)*n,h=d*r,p=d+(f-h)*i/1e3,g=d*i/1e3+l;return Math.abs(g-u)<Gu&&Math.abs(p)<Gu?[u,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},SI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pb(e);case"spring":return PI();default:if(e.split("(")[0]==="cubic-bezier")return pb(e)}return typeof e=="function"?e:null};function kI(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class CI{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function OI(){return kI(new CI)}var EI=x.createContext(OI);function TI(e,t){var n=x.useContext(EI);return x.useMemo(()=>t??n(e),[e,t,n])}var AI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gb={t:0},nm={t:1};function Fv(e){var t=Zn(e,AI),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=TI(t.animationId,t.animationManager),[p,g]=x.useState(n?gb:nm),y=x.useRef(null);return x.useEffect(()=>{n||g(nm)},[n]),x.useEffect(()=>{if(!n||!r)return fI;var j=jI(gb,nm,SI(a),i,g,h.getTimeoutController()),w=()=>{y.current=j()};return h.start([d,l,w,i,u]),()=>{h.stop(),y.current&&y.current(),u()}},[n,r,i,a,l,d,u,h]),f(p.t)}function Uv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(dl(t)),r=x.useRef(e);return r.current!==e&&(n.current=dl(t),r.current=e),n.current}function vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(n),!0).forEach(function(r){MI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MI(e,t,n){return(t=LI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(null,arguments)}var xb=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+u*h[0],",").concat(t)),f+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*h[1])),f+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),f+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+n-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*y,`
            L `).concat(e+n,",").concat(t+r-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+n-u*y,",").concat(t+r,`
            L `).concat(e+u*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},II={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dP=e=>{var t=Zn(e,II),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:j,isUpdateAnimationActive:w}=t,S=x.useRef(u),_=x.useRef(d),N=x.useRef(a),b=x.useRef(l),k=x.useMemo(()=>({x:a,y:l,width:u,height:d,radius:f}),[a,l,u,d,f]),T=Uv(k,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var A=De("recharts-rectangle",h);if(!w)return x.createElement("path",Yu({},St(t,!0),{className:A,d:xb(a,l,u,d,f)}));var O=S.current,I=_.current,B=N.current,z=b.current,M="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),D=oP(["strokeDasharray"],g,typeof p=="string"?p:void 0);return x.createElement(Fv,{animationId:T,key:T,canBegin:r>0,duration:g,easing:p,isActive:w,begin:y},C=>{var U=zt(O,u,C),W=zt(I,d,C),G=zt(B,a,C),R=zt(z,l,C);n.current&&(S.current=U,_.current=W,N.current=G,b.current=R);var q;return j?C>0?q={transition:D,strokeDasharray:$}:q={strokeDasharray:M}:q={strokeDasharray:$},x.createElement("path",Yu({},St(t,!0),{className:A,d:xb(G,R,U,W,f),ref:n,style:yb(yb({},q),t.style)}))})};function fP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=jt(t,n,r,i),u=jt(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(null,arguments)}var RI=(e,t)=>{var n=Yt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Ic=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/Vu,p=d?i:i+a*h,g=jt(t,n,f,p),y=jt(t,n,r,p),j=d?i-a*h:i,w=jt(t,n,f*Math.cos(h*Vu),j);return{center:g,circleTangency:y,lineTangency:w,theta:h}},hP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=RI(a,l),d=a+u,f=jt(t,n,i,a),h=jt(t,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=jt(t,n,r,a),y=jt(t,n,r,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},zI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=Yt(f-d),{circleTangency:p,lineTangency:g,theta:y}=Ic({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:j,lineTangency:w,theta:S}=Ic({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),_=u?Math.abs(d-f):Math.abs(d-f)-y-S;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):hP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:k,theta:T}=Ic({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:O,theta:I}=Ic({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),B=u?Math.abs(d-f):Math.abs(d-f)-T-I;if(B<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},$I={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mP=e=>{var t=Zn(e,$I),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var g=De("recharts-sector",p),y=a-i,j=sr(l,y,0,!0),w;return j>0&&Math.abs(f-h)<360?w=zI({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(j,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):w=hP({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),x.createElement("path",Ip({},St(t,!0),{className:g,d:w}))};function BI(e,t,n){var r,i,a,l;if(e==="horizontal")r=t.x,a=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:f,outerRadius:h,angle:p}=t,g=jt(u,d,f,p),y=jt(u,d,h,p);r=g.x,i=g.y,a=y.x,l=y.y}else return fP(t);return[{x:r,y:i},{x:a,y:l}]}var pP={},gP={},vP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kv;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(gP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cv,n=gP;function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(pP);var FI=pP.range;const yP=wr(FI);function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hv(e){let t,n,r;e.length!==2?(t=Ni,n=(u,d)=>Ni(e(u),d),r=(u,d)=>e(u)-d):(t=e===Ni||e===UI?e:HI,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;n(u[p],d)<0?f=p+1:h=p}while(f<h)}return f}function a(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;n(u[p],d)<=0?f=p+1:h=p}while(f<h)}return f}function l(u,d,f=0,h=u.length){const p=i(u,d,f,h-1);return p>f&&r(u[p-1],d)>-r(u[p],d)?p-1:p}return{left:i,center:l,right:a}}function HI(){return 0}function xP(e){return e===null?NaN:+e}function*ZI(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const WI=Hv(Ni),Ml=WI.right;Hv(xP).center;class _b extends Map{constructor(t,n=qI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bb(this,t))}has(t){return super.has(bb(this,t))}set(t,n){return super.set(VI(this,t),n)}delete(t){return super.delete(KI(this,t))}}function bb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function VI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function KI({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function qI(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GI(e=Ni){if(e===Ni)return _P;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function _P(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YI=Math.sqrt(50),XI=Math.sqrt(10),QI=Math.sqrt(2);function Xu(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=YI?10:a>=XI?5:a>=QI?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Xu(e,t,n*2):[u,d,f]}function Rp(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?Xu(t,e,n):Xu(e,t,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(a-f)/-l;else for(let f=0;f<u;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function zp(e,t,n){return t=+t,e=+e,n=+n,Xu(e,t,n)[2]}function $p(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?zp(t,e,n):zp(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function wb(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jb(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?_P:GI(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(d-p)/d)*(f-d/2<0?-1:1),y=Math.max(n,Math.floor(t-f*p/d+g)),j=Math.min(r,Math.floor(t+(d-f)*p/d+g));bP(e,t,y,j,i)}const a=e[t];let l=n,u=r;for(jo(e,n,t),i(e[r],a)>0&&jo(e,n,r);l<u;){for(jo(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?jo(e,n,u):(++u,jo(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function jo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function JI(e,t,n){if(e=Float64Array.from(ZI(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return jb(e);if(t>=1)return wb(e);var r,i=(r-1)*t,a=Math.floor(i),l=wb(bP(e,a).subarray(0,a+1)),u=jb(e.subarray(a+1));return l+(u-l)*(i-a)}}function e5(e,t,n=xP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function t5(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bp=Symbol("implicit");function Zv(){var e=new _b,t=[],n=[],r=Bp;function i(a){let l=e.get(a);if(l===void 0){if(r!==Bp)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _b;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Zv(t,n).unknown(r)},Wn.apply(i,arguments),i}function Wv(){var e=Zv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,y=i<r,j=y?i:r,w=y?r:i;a=(w-j)/Math.max(1,g-d+f*2),u&&(a=Math.floor(a)),j+=(w-j-a*(g-d))*h,l=a*(1-d),u&&(j=Math.round(j),l=Math.round(l));var S=t5(g).map(function(_){return j+a*_});return n(y?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(g){return arguments.length?(u=!!g,p()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),p()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return Wv(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},Wn.apply(p(),arguments)}function wP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wP(t())},e}function n5(){return wP(Wv.apply(null,arguments).paddingInner(1))}function Vv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ll(){}var pl=.7,Qu=1/pl,hs="\\s*([+-]?\\d+)\\s*",gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r5=/^#([0-9a-f]{3,8})$/,i5=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),a5=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),s5=new RegExp(`^rgba\\(${hs},${hs},${hs},${gl}\\)$`),o5=new RegExp(`^rgba\\(${xr},${xr},${xr},${gl}\\)$`),l5=new RegExp(`^hsl\\(${gl},${xr},${xr}\\)$`),c5=new RegExp(`^hsla\\(${gl},${xr},${xr},${gl}\\)$`),Nb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vv(Ll,vl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:u5,formatHsl:d5,formatRgb:Sb,toString:Sb});function Pb(){return this.rgb().formatHex()}function u5(){return this.rgb().formatHex8()}function d5(){return NP(this).formatHsl()}function Sb(){return this.rgb().formatRgb()}function vl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=r5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kb(t):n===3?new Xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=i5.exec(e))?new Xt(t[1],t[2],t[3],1):(t=a5.exec(e))?new Xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s5.exec(e))?Rc(t[1],t[2],t[3],t[4]):(t=o5.exec(e))?Rc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l5.exec(e))?Eb(t[1],t[2]/100,t[3]/100,1):(t=c5.exec(e))?Eb(t[1],t[2]/100,t[3]/100,t[4]):Nb.hasOwnProperty(e)?kb(Nb[e]):e==="transparent"?new Xt(NaN,NaN,NaN,0):null}function kb(e){return new Xt(e>>16&255,e>>8&255,e&255,1)}function Rc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xt(e,t,n,r)}function f5(e){return e instanceof Ll||(e=vl(e)),e?(e=e.rgb(),new Xt(e.r,e.g,e.b,e.opacity)):new Xt}function Fp(e,t,n,r){return arguments.length===1?f5(e):new Xt(e,t,n,r??1)}function Xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Vv(Xt,Fp,jP(Ll,{brighter(e){return e=e==null?Qu:Math.pow(Qu,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pl:Math.pow(pl,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xt(da(this.r),da(this.g),da(this.b),Ju(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cb,formatHex:Cb,formatHex8:h5,formatRgb:Ob,toString:Ob}));function Cb(){return`#${na(this.r)}${na(this.g)}${na(this.b)}`}function h5(){return`#${na(this.r)}${na(this.g)}${na(this.b)}${na((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ob(){const e=Ju(this.opacity);return`${e===1?"rgb(":"rgba("}${da(this.r)}, ${da(this.g)}, ${da(this.b)}${e===1?")":`, ${e})`}`}function Ju(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function da(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function na(e){return e=da(e),(e<16?"0":"")+e.toString(16)}function Eb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nr(e,t,n,r)}function NP(e){if(e instanceof nr)return new nr(e.h,e.s,e.l,e.opacity);if(e instanceof Ll||(e=vl(e)),!e)return new nr;if(e instanceof nr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new nr(l,u,d,e.opacity)}function m5(e,t,n,r){return arguments.length===1?NP(e):new nr(e,t,n,r??1)}function nr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Vv(nr,m5,jP(Ll,{brighter(e){return e=e==null?Qu:Math.pow(Qu,e),new nr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pl:Math.pow(pl,e),new nr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xt(rm(e>=240?e-240:e+120,i,r),rm(e,i,r),rm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new nr(Tb(this.h),zc(this.s),zc(this.l),Ju(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ju(this.opacity);return`${e===1?"hsl(":"hsla("}${Tb(this.h)}, ${zc(this.s)*100}%, ${zc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tb(e){return e=(e||0)%360,e<0?e+360:e}function zc(e){return Math.max(0,Math.min(1,e||0))}function rm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Kv=e=>()=>e;function p5(e,t){return function(n){return e+n*t}}function g5(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function v5(e){return(e=+e)==1?PP:function(t,n){return n-t?g5(t,n,e):Kv(isNaN(t)?n:t)}}function PP(e,t){var n=t-e;return n?p5(e,n):Kv(isNaN(e)?t:e)}const Ab=function e(t){var n=v5(t);function r(i,a){var l=n((i=Fp(i)).r,(a=Fp(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),f=PP(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r}(1);function y5(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function x5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _5(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Us(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function b5(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ed(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function w5(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Us(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Up=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,im=new RegExp(Up.source,"g");function j5(e){return function(){return e}}function N5(e){return function(t){return e(t)+""}}function P5(e,t){var n=Up.lastIndex=im.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Up.exec(e))&&(i=im.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:ed(r,i)})),n=im.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?N5(d[0].x):j5(t):(t=d.length,function(f){for(var h=0,p;h<t;++h)u[(p=d[h]).i]=p.x(f);return u.join("")})}function Us(e,t){var n=typeof t,r;return t==null||n==="boolean"?Kv(t):(n==="number"?ed:n==="string"?(r=vl(t))?(t=r,Ab):P5:t instanceof vl?Ab:t instanceof Date?b5:x5(t)?y5:Array.isArray(t)?_5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?w5:ed)(e,t)}function qv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function S5(e,t){t===void 0&&(t=e,e=Us);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function k5(e){return function(){return e}}function td(e){return+e}var Mb=[0,1];function Bt(e){return e}function Hp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:k5(isNaN(t)?NaN:.5)}function C5(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function O5(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=Hp(i,r),a=n(l,a)):(r=Hp(r,i),a=n(a,l)),function(u){return a(r(u))}}function E5(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Hp(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var d=Ml(e,u,1,r)-1;return a[d](i[d](u))}}function Dl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gf(){var e=Mb,t=Mb,n=Us,r,i,a,l=Bt,u,d,f;function h(){var g=Math.min(e.length,t.length);return l!==Bt&&(l=C5(e[0],e[g-1])),u=g>2?E5:O5,d=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(d||(d=u(e.map(r),t,n)))(r(l(g)))}return p.invert=function(g){return l(i((f||(f=u(t,e.map(r),ed)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,td),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=qv,h()},p.clamp=function(g){return arguments.length?(l=g?!0:Bt,h()):l!==Bt},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,y){return r=g,i=y,h()}}function Gv(){return gf()(Bt,Bt)}function T5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Cs(e){return e=nd(Math.abs(e)),e?e[1]:NaN}function A5(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function M5(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var L5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yl(e){if(!(t=L5.exec(e)))throw new Error("invalid format: "+e);var t;return new Yv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yl.prototype=Yv.prototype;function Yv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D5(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var SP;function I5(e,t){var n=nd(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(SP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+nd(e,Math.max(0,t+a-1))[0]}function Lb(e,t){var n=nd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Db={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Lb(e*100,t),r:Lb,s:I5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ib(e){return e}var Rb=Array.prototype.map,zb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function R5(e){var t=e.grouping===void 0||e.thousands===void 0?Ib:A5(Rb.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ib:M5(Rb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=yl(p);var g=p.fill,y=p.align,j=p.sign,w=p.symbol,S=p.zero,_=p.width,N=p.comma,b=p.precision,k=p.trim,T=p.type;T==="n"?(N=!0,T="g"):Db[T]||(b===void 0&&(b=12),k=!0,T="g"),(S||g==="0"&&y==="=")&&(S=!0,g="0",y="=");var A=w==="$"?n:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=w==="$"?r:/[%p]/.test(T)?l:"",I=Db[T],B=/[defgprs%]/.test(T);b=b===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function z(M){var $=A,D=O,C,U,W;if(T==="c")D=I(M)+D,M="";else{M=+M;var G=M<0||1/M<0;if(M=isNaN(M)?d:I(Math.abs(M),b),k&&(M=D5(M)),G&&+M==0&&j!=="+"&&(G=!1),$=(G?j==="("?j:u:j==="-"||j==="("?"":j)+$,D=(T==="s"?zb[8+SP/3]:"")+D+(G&&j==="("?")":""),B){for(C=-1,U=M.length;++C<U;)if(W=M.charCodeAt(C),48>W||W>57){D=(W===46?i+M.slice(C+1):M.slice(C))+D,M=M.slice(0,C);break}}}N&&!S&&(M=t(M,1/0));var R=$.length+M.length+D.length,q=R<_?new Array(_-R+1).join(g):"";switch(N&&S&&(M=t(q+M,q.length?_-D.length:1/0),q=""),y){case"<":M=$+M+D+q;break;case"=":M=$+q+M+D;break;case"^":M=q.slice(0,R=q.length>>1)+$+M+D+q.slice(R);break;default:M=q+$+M+D;break}return a(M)}return z.toString=function(){return p+""},z}function h(p,g){var y=f((p=yl(p),p.type="f",p)),j=Math.max(-8,Math.min(8,Math.floor(Cs(g)/3)))*3,w=Math.pow(10,-j),S=zb[8+j/3];return function(_){return y(w*_)+S}}return{format:f,formatPrefix:h}}var $c,Xv,kP;z5({thousands:",",grouping:[3],currency:["$",""]});function z5(e){return $c=R5(e),Xv=$c.format,kP=$c.formatPrefix,$c}function $5(e){return Math.max(0,-Cs(Math.abs(e)))}function B5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cs(t)/3)))*3-Cs(Math.abs(e)))}function F5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cs(t)-Cs(e))+1}function CP(e,t,n,r){var i=$p(e,t,n),a;switch(r=yl(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=B5(i,l))&&(r.precision=a),kP(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=F5(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$5(i))&&(r.precision=a-(r.type==="%")*2);break}}return Xv(r)}function Li(e){var t=e.domain;return e.ticks=function(n){var r=t();return Rp(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return CP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=zp(l,u,n),f===d)return r[i]=l,r[a]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function OP(){var e=Gv();return e.copy=function(){return Dl(e,OP())},Wn.apply(e,arguments),Li(e)}function EP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,td),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return EP(e).unknown(t)},e=arguments.length?Array.from(e,td):[0,1],Li(n)}function TP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function $b(e){return Math.log(e)}function Bb(e){return Math.exp(e)}function U5(e){return-Math.log(-e)}function H5(e){return-Math.exp(-e)}function Z5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function W5(e){return e===10?Z5:e===Math.E?Math.exp:t=>Math.pow(e,t)}function V5(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Fb(e){return(t,n)=>-e(-t,n)}function Qv(e){const t=e($b,Bb),n=t.domain;let r=10,i,a;function l(){return i=V5(r),a=W5(r),n()[0]<0?(i=Fb(i),a=Fb(a),e(U5,H5)):e($b,Bb),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),y=i(h),j,w;const S=u==null?10:+u;let _=[];if(!(r%1)&&y-g<S){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(j=1;j<r;++j)if(w=g<0?j/a(-g):j*a(g),!(w<f)){if(w>h)break;_.push(w)}}else for(;g<=y;++g)for(j=r-1;j>=1;--j)if(w=g>0?j/a(-g):j*a(g),!(w<f)){if(w>h)break;_.push(w)}_.length*2<S&&(_=Rp(f,h,S))}else _=Rp(g,y,Math.min(y-g,S)).map(a);return p?_.reverse():_},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=yl(d)).precision==null&&(d.trim=!0),d=Xv(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?d(h):""}},t.nice=()=>n(TP(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function AP(){const e=Qv(gf()).domain([1,10]);return e.copy=()=>Dl(e,AP()).base(e.base()),Wn.apply(e,arguments),e}function Ub(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jv(e){var t=1,n=e(Ub(t),Hb(t));return n.constant=function(r){return arguments.length?e(Ub(t=+r),Hb(t)):t},Li(n)}function MP(){var e=Jv(gf());return e.copy=function(){return Dl(e,MP()).constant(e.constant())},Wn.apply(e,arguments)}function Zb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function K5(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function q5(e){return e<0?-e*e:e*e}function ey(e){var t=e(Bt,Bt),n=1;function r(){return n===1?e(Bt,Bt):n===.5?e(K5,q5):e(Zb(n),Zb(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Li(t)}function ty(){var e=ey(gf());return e.copy=function(){return Dl(e,ty()).exponent(e.exponent())},Wn.apply(e,arguments),e}function G5(){return ty.apply(null,arguments).exponent(.5)}function Wb(e){return Math.sign(e)*e*e}function Y5(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LP(){var e=Gv(),t=[0,1],n=!1,r;function i(a){var l=Y5(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(Wb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,td)).map(Wb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Wn.apply(i,arguments),Li(i)}function DP(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=e5(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Ml(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ni),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return DP().domain(e).range(t).unknown(r)},Wn.apply(a,arguments)}function IP(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[Ml(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return IP().domain([e,t]).range(i).unknown(a)},Wn.apply(Li(l),arguments)}function RP(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ml(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RP().domain(e).range(t).unknown(n)},Wn.apply(i,arguments)}const am=new Date,sm=new Date;function lt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let f;do d.push(f=new Date(+a)),t(a,u),e(a);while(f<a&&a<l);return d},i.filter=a=>lt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(am.setTime(+a),sm.setTime(+l),e(am),e(sm),Math.floor(n(am,sm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const rd=lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rd);rd.range;const Dr=1e3,Dn=Dr*60,Ir=Dn*60,Wr=Ir*24,ny=Wr*7,Vb=Wr*30,om=Wr*365,ra=lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCSeconds());ra.range;const ry=lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dr)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());ry.range;const iy=lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());iy.range;const ay=lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dr-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getHours());ay.range;const sy=lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getUTCHours());sy.range;const Il=lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/Wr,e=>e.getDate()-1);Il.range;const vf=lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wr,e=>e.getUTCDate()-1);vf.range;const zP=lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wr,e=>Math.floor(e/Wr));zP.range;function ka(e){return lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/ny)}const yf=ka(0),id=ka(1),X5=ka(2),Q5=ka(3),Os=ka(4),J5=ka(5),e6=ka(6);yf.range;id.range;X5.range;Q5.range;Os.range;J5.range;e6.range;function Ca(e){return lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ny)}const xf=Ca(0),ad=Ca(1),t6=Ca(2),n6=Ca(3),Es=Ca(4),r6=Ca(5),i6=Ca(6);xf.range;ad.range;t6.range;n6.range;Es.range;r6.range;i6.range;const oy=lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oy.range;const ly=lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ly.range;const Vr=lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vr.range;const Kr=lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Kr.range;function $P(e,t,n,r,i,a){const l=[[ra,1,Dr],[ra,5,5*Dr],[ra,15,15*Dr],[ra,30,30*Dr],[a,1,Dn],[a,5,5*Dn],[a,15,15*Dn],[a,30,30*Dn],[i,1,Ir],[i,3,3*Ir],[i,6,6*Ir],[i,12,12*Ir],[r,1,Wr],[r,2,2*Wr],[n,1,ny],[t,1,Vb],[t,3,3*Vb],[e,1,om]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:d(f,h,p),j=y?y.range(f,+h+1):[];return g?j.reverse():j}function d(f,h,p){const g=Math.abs(h-f)/p,y=Hv(([,,S])=>S).right(l,g);if(y===l.length)return e.every($p(f/om,h/om,p));if(y===0)return rd.every(Math.max($p(f,h,p),1));const[j,w]=l[g/l[y-1][2]<l[y][2]/g?y-1:y];return j.every(w)}return[u,d]}const[a6,s6]=$P(Kr,ly,xf,zP,sy,iy),[o6,l6]=$P(Vr,oy,yf,Il,ay,ry);function lm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function No(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function c6(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Po(i),h=So(i),p=Po(a),g=So(a),y=Po(l),j=So(l),w=Po(u),S=So(u),_=Po(d),N=So(d),b={a:G,A:R,b:q,B:Y,c:null,d:Qb,e:Qb,f:A6,g:U6,G:Z6,H:O6,I:E6,j:T6,L:BP,m:M6,M:L6,p:le,q:te,Q:tw,s:nw,S:D6,u:I6,U:R6,V:z6,w:$6,W:B6,x:null,X:null,y:F6,Y:H6,Z:W6,"%":ew},k={a:Z,A:ne,b:ee,B:ae,c:null,d:Jb,e:Jb,f:G6,g:aR,G:oR,H:V6,I:K6,j:q6,L:UP,m:Y6,M:X6,p:Te,q:Dt,Q:tw,s:nw,S:Q6,u:J6,U:eR,V:tR,w:nR,W:rR,x:null,X:null,y:iR,Y:sR,Z:lR,"%":ew},T={a:z,A:M,b:$,B:D,c:C,d:Yb,e:Yb,f:P6,g:Gb,G:qb,H:Xb,I:Xb,j:b6,L:N6,m:_6,M:w6,p:B,q:x6,Q:k6,s:C6,S:j6,u:m6,U:p6,V:g6,w:h6,W:v6,x:U,X:W,y:Gb,Y:qb,Z:y6,"%":S6};b.x=A(n,b),b.X=A(r,b),b.c=A(t,b),k.x=A(n,k),k.X=A(r,k),k.c=A(t,k);function A(ie,me){return function(he){var Q=[],ut=-1,Ce=0,kt=ie.length,Ct,Vn,zi;for(he instanceof Date||(he=new Date(+he));++ut<kt;)ie.charCodeAt(ut)===37&&(Q.push(ie.slice(Ce,ut)),(Vn=Kb[Ct=ie.charAt(++ut)])!=null?Ct=ie.charAt(++ut):Vn=Ct==="e"?" ":"0",(zi=me[Ct])&&(Ct=zi(he,Vn)),Q.push(Ct),Ce=ut+1);return Q.push(ie.slice(Ce,ut)),Q.join("")}}function O(ie,me){return function(he){var Q=No(1900,void 0,1),ut=I(Q,ie,he+="",0),Ce,kt;if(ut!=he.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(me&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ce=cm(No(Q.y,0,1)),kt=Ce.getUTCDay(),Ce=kt>4||kt===0?ad.ceil(Ce):ad(Ce),Ce=vf.offset(Ce,(Q.V-1)*7),Q.y=Ce.getUTCFullYear(),Q.m=Ce.getUTCMonth(),Q.d=Ce.getUTCDate()+(Q.w+6)%7):(Ce=lm(No(Q.y,0,1)),kt=Ce.getDay(),Ce=kt>4||kt===0?id.ceil(Ce):id(Ce),Ce=Il.offset(Ce,(Q.V-1)*7),Q.y=Ce.getFullYear(),Q.m=Ce.getMonth(),Q.d=Ce.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),kt="Z"in Q?cm(No(Q.y,0,1)).getUTCDay():lm(No(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(kt+5)%7:Q.w+Q.U*7-(kt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,cm(Q)):lm(Q)}}function I(ie,me,he,Q){for(var ut=0,Ce=me.length,kt=he.length,Ct,Vn;ut<Ce;){if(Q>=kt)return-1;if(Ct=me.charCodeAt(ut++),Ct===37){if(Ct=me.charAt(ut++),Vn=T[Ct in Kb?me.charAt(ut++):Ct],!Vn||(Q=Vn(ie,he,Q))<0)return-1}else if(Ct!=he.charCodeAt(Q++))return-1}return Q}function B(ie,me,he){var Q=f.exec(me.slice(he));return Q?(ie.p=h.get(Q[0].toLowerCase()),he+Q[0].length):-1}function z(ie,me,he){var Q=y.exec(me.slice(he));return Q?(ie.w=j.get(Q[0].toLowerCase()),he+Q[0].length):-1}function M(ie,me,he){var Q=p.exec(me.slice(he));return Q?(ie.w=g.get(Q[0].toLowerCase()),he+Q[0].length):-1}function $(ie,me,he){var Q=_.exec(me.slice(he));return Q?(ie.m=N.get(Q[0].toLowerCase()),he+Q[0].length):-1}function D(ie,me,he){var Q=w.exec(me.slice(he));return Q?(ie.m=S.get(Q[0].toLowerCase()),he+Q[0].length):-1}function C(ie,me,he){return I(ie,t,me,he)}function U(ie,me,he){return I(ie,n,me,he)}function W(ie,me,he){return I(ie,r,me,he)}function G(ie){return l[ie.getDay()]}function R(ie){return a[ie.getDay()]}function q(ie){return d[ie.getMonth()]}function Y(ie){return u[ie.getMonth()]}function le(ie){return i[+(ie.getHours()>=12)]}function te(ie){return 1+~~(ie.getMonth()/3)}function Z(ie){return l[ie.getUTCDay()]}function ne(ie){return a[ie.getUTCDay()]}function ee(ie){return d[ie.getUTCMonth()]}function ae(ie){return u[ie.getUTCMonth()]}function Te(ie){return i[+(ie.getUTCHours()>=12)]}function Dt(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var me=A(ie+="",b);return me.toString=function(){return ie},me},parse:function(ie){var me=O(ie+="",!1);return me.toString=function(){return ie},me},utcFormat:function(ie){var me=A(ie+="",k);return me.toString=function(){return ie},me},utcParse:function(ie){var me=O(ie+="",!0);return me.toString=function(){return ie},me}}}var Kb={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,u6=/^%/,d6=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function f6(e){return e.replace(d6,"\\$&")}function Po(e){return new RegExp("^(?:"+e.map(f6).join("|")+")","i")}function So(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function h6(e,t,n){var r=vt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function m6(e,t,n){var r=vt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function p6(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function g6(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function v6(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qb(e,t,n){var r=vt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Gb(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y6(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function x6(e,t,n){var r=vt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function _6(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Yb(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function b6(e,t,n){var r=vt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Xb(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w6(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function j6(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function N6(e,t,n){var r=vt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P6(e,t,n){var r=vt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function S6(e,t,n){var r=u6.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function k6(e,t,n){var r=vt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function C6(e,t,n){var r=vt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qb(e,t){return Ne(e.getDate(),t,2)}function O6(e,t){return Ne(e.getHours(),t,2)}function E6(e,t){return Ne(e.getHours()%12||12,t,2)}function T6(e,t){return Ne(1+Il.count(Vr(e),e),t,3)}function BP(e,t){return Ne(e.getMilliseconds(),t,3)}function A6(e,t){return BP(e,t)+"000"}function M6(e,t){return Ne(e.getMonth()+1,t,2)}function L6(e,t){return Ne(e.getMinutes(),t,2)}function D6(e,t){return Ne(e.getSeconds(),t,2)}function I6(e){var t=e.getDay();return t===0?7:t}function R6(e,t){return Ne(yf.count(Vr(e)-1,e),t,2)}function FP(e){var t=e.getDay();return t>=4||t===0?Os(e):Os.ceil(e)}function z6(e,t){return e=FP(e),Ne(Os.count(Vr(e),e)+(Vr(e).getDay()===4),t,2)}function $6(e){return e.getDay()}function B6(e,t){return Ne(id.count(Vr(e)-1,e),t,2)}function F6(e,t){return Ne(e.getFullYear()%100,t,2)}function U6(e,t){return e=FP(e),Ne(e.getFullYear()%100,t,2)}function H6(e,t){return Ne(e.getFullYear()%1e4,t,4)}function Z6(e,t){var n=e.getDay();return e=n>=4||n===0?Os(e):Os.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function W6(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function Jb(e,t){return Ne(e.getUTCDate(),t,2)}function V6(e,t){return Ne(e.getUTCHours(),t,2)}function K6(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function q6(e,t){return Ne(1+vf.count(Kr(e),e),t,3)}function UP(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function G6(e,t){return UP(e,t)+"000"}function Y6(e,t){return Ne(e.getUTCMonth()+1,t,2)}function X6(e,t){return Ne(e.getUTCMinutes(),t,2)}function Q6(e,t){return Ne(e.getUTCSeconds(),t,2)}function J6(e){var t=e.getUTCDay();return t===0?7:t}function eR(e,t){return Ne(xf.count(Kr(e)-1,e),t,2)}function HP(e){var t=e.getUTCDay();return t>=4||t===0?Es(e):Es.ceil(e)}function tR(e,t){return e=HP(e),Ne(Es.count(Kr(e),e)+(Kr(e).getUTCDay()===4),t,2)}function nR(e){return e.getUTCDay()}function rR(e,t){return Ne(ad.count(Kr(e)-1,e),t,2)}function iR(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function aR(e,t){return e=HP(e),Ne(e.getUTCFullYear()%100,t,2)}function sR(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function oR(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Es(e):Es.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function lR(){return"+0000"}function ew(){return"%"}function tw(e){return+e}function nw(e){return Math.floor(+e/1e3)}var Fa,ZP,WP;cR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cR(e){return Fa=c6(e),ZP=Fa.format,Fa.parse,WP=Fa.utcFormat,Fa.utcParse,Fa}function uR(e){return new Date(e)}function dR(e){return e instanceof Date?+e:+new Date(+e)}function cy(e,t,n,r,i,a,l,u,d,f){var h=Gv(),p=h.invert,g=h.domain,y=f(".%L"),j=f(":%S"),w=f("%I:%M"),S=f("%I %p"),_=f("%a %d"),N=f("%b %d"),b=f("%B"),k=f("%Y");function T(A){return(d(A)<A?y:u(A)<A?j:l(A)<A?w:a(A)<A?S:r(A)<A?i(A)<A?_:N:n(A)<A?b:k)(A)}return h.invert=function(A){return new Date(p(A))},h.domain=function(A){return arguments.length?g(Array.from(A,dR)):g().map(uR)},h.ticks=function(A){var O=g();return e(O[0],O[O.length-1],A??10)},h.tickFormat=function(A,O){return O==null?T:f(O)},h.nice=function(A){var O=g();return(!A||typeof A.range!="function")&&(A=t(O[0],O[O.length-1],A??10)),A?g(TP(O,A)):h},h.copy=function(){return Dl(h,cy(e,t,n,r,i,a,l,u,d,f))},h}function fR(){return Wn.apply(cy(o6,l6,Vr,oy,yf,Il,ay,ry,ra,ZP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hR(){return Wn.apply(cy(a6,s6,Kr,ly,xf,vf,sy,iy,ra,WP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _f(){var e=0,t=1,n,r,i,a,l=Bt,u=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(l=p,f):l};function h(p){return function(g){var y,j;return arguments.length?([y,j]=g,l=p(y,j),f):[l(0),l(1)]}}return f.range=h(Us),f.rangeRound=h(qv),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Di(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VP(){var e=Li(_f()(Bt));return e.copy=function(){return Di(e,VP())},Qr.apply(e,arguments)}function KP(){var e=Qv(_f()).domain([1,10]);return e.copy=function(){return Di(e,KP()).base(e.base())},Qr.apply(e,arguments)}function qP(){var e=Jv(_f());return e.copy=function(){return Di(e,qP()).constant(e.constant())},Qr.apply(e,arguments)}function uy(){var e=ey(_f());return e.copy=function(){return Di(e,uy()).exponent(e.exponent())},Qr.apply(e,arguments)}function mR(){return uy.apply(null,arguments).exponent(.5)}function GP(){var e=[],t=Bt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ml(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>JI(e,a/r))},n.copy=function(){return GP(t).domain(e)},Qr.apply(n,arguments)}function bf(){var e=0,t=.5,n=1,r=1,i,a,l,u,d,f=Bt,h,p=!1,g;function y(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-a)*(r*w<r*a?u:d),f(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(f=w,y):f};function j(w){return function(S){var _,N,b;return arguments.length?([_,N,b]=S,f=S5(w,[_,N,b]),y):[f(0),f(.5),f(1)]}}return y.range=j(Us),y.rangeRound=j(qv),y.unknown=function(w){return arguments.length?(g=w,y):g},function(w){return h=w,i=w(e),a=w(t),l=w(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,y}}function YP(){var e=Li(bf()(Bt));return e.copy=function(){return Di(e,YP())},Qr.apply(e,arguments)}function XP(){var e=Qv(bf()).domain([.1,1,10]);return e.copy=function(){return Di(e,XP()).base(e.base())},Qr.apply(e,arguments)}function QP(){var e=Jv(bf());return e.copy=function(){return Di(e,QP()).constant(e.constant())},Qr.apply(e,arguments)}function dy(){var e=ey(bf());return e.copy=function(){return Di(e,dy()).exponent(e.exponent())},Qr.apply(e,arguments)}function pR(){return dy.apply(null,arguments).exponent(.5)}const Lo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wv,scaleDiverging:YP,scaleDivergingLog:XP,scaleDivergingPow:dy,scaleDivergingSqrt:pR,scaleDivergingSymlog:QP,scaleIdentity:EP,scaleImplicit:Bp,scaleLinear:OP,scaleLog:AP,scaleOrdinal:Zv,scalePoint:n5,scalePow:ty,scaleQuantile:DP,scaleQuantize:IP,scaleRadial:LP,scaleSequential:VP,scaleSequentialLog:KP,scaleSequentialPow:uy,scaleSequentialQuantile:GP,scaleSequentialSqrt:mR,scaleSequentialSymlog:qP,scaleSqrt:G5,scaleSymlog:MP,scaleThreshold:RP,scaleTime:fR,scaleUtc:hR,tickFormat:CP},Symbol.toStringTag,{value:"Module"}));var Ii=e=>e.chartData,gR=K([Ii],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fy=(e,t,n,r)=>r?gR(e):Ii(e);function Ts(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(xn(t)&&xn(n))return!0}return!1}function rw(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(xn(n))i=n;else if(typeof n=="function")return;if(xn(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Ts(l))return l}}function yR(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ts(r))return rw(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(de(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&X_.test(i)){var d=X_.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(de(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Q_.test(a)){var h=Q_.exec(a);if(h==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var g=[l,u];if(Ts(g))return t==null?g:rw(g,t,n)}}}var Hs=1e9,xR={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},my,Ue=!0,Fn="[DecimalError] ",fa=Fn+"Invalid argument: ",hy=Fn+"Exponent out of range: ",Zs=Math.floor,Gi=Math.pow,_R=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,un,ft=1e7,Re=7,JP=9007199254740991,sd=Zs(JP/Re),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Re;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(e){return $r(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,n=t.constructor;return Oe($r(t,new n(e),0,1),n.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return tt(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(un))throw Error(Fn+"NaN");if(n.s<1)throw Error(Fn+(n.s?"NaN":"-Infinity"));return n.eq(un)?new r(0):(Ue=!1,t=$r(xl(n,a),xl(e,a),a),Ue=!0,Oe(t,i))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nS(t,e):eS(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Fn+"NaN");return n.s?(Ue=!1,t=$r(n,e,0,1).times(e),Ue=!0,n.minus(t)):Oe(new r(n),i)};oe.naturalExponential=oe.exp=function(){return tS(this)};oe.naturalLogarithm=oe.ln=function(){return xl(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eS(t,e):nS(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fa+e);if(t=tt(i)+1,r=i.d.length-1,n=r*Re+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};oe.squareRoot=oe.sqrt=function(){var e,t,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fn+"NaN")}for(e=tt(u),Ue=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=gr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus($r(u,a,l+2)).times(.5),gr(a.d).slice(0,l)===(t=gr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Oe(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return Ue=!0,Oe(r,n)};oe.times=oe.mul=function(e){var t,n,r,i,a,l,u,d,f,h=this,p=h.constructor,g=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,d=g.length,f=y.length,d<f&&(a=g,g=y,y=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=a[i]+y[r]*g[i-r-1]+t,a[i--]=u%ft|0,t=u/ft|0;a[i]=(a[i]+t)%ft|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ue?Oe(e,p.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(br(e,0,Hs),t===void 0?t=r.rounding:br(t,0,8),Oe(n,e+tt(n)+1,t))};oe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ba(r,!0):(br(e,0,Hs),t===void 0?t=i.rounding:br(t,0,8),r=Oe(new i(r),e+1,t),n=ba(r,!0,e+1)),n};oe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ba(i):(br(e,0,Hs),t===void 0?t=a.rounding:br(t,0,8),r=Oe(new a(i),e+tt(i)+1,t),n=ba(r.abs(),!1,e+tt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return Oe(new t(e),tt(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,n,r,i,a,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(un);if(u=new d(u),!u.s){if(e.s<1)throw Error(Fn+"Infinity");return u}if(u.eq(un))return u;if(r=d.precision,e.eq(un))return Oe(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=JP){for(i=new d(un),t=Math.ceil(r/Re+4),Ue=!1;n%2&&(i=i.times(u),aw(i.d,t)),n=Zs(n/2),n!==0;)u=u.times(u),aw(u.d,t);return Ue=!0,e.s<0?new d(un).div(i):Oe(i,r)}}else if(a<0)throw Error(Fn+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Ue=!1,i=e.times(xl(u,r+f)),Ue=!0,i=tS(i),i.s=a,i};oe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=tt(i),r=ba(i,n<=a.toExpNeg||n>=a.toExpPos)):(br(e,1,Hs),t===void 0?t=a.rounding:br(t,0,8),i=Oe(new a(i),e,t),n=tt(i),r=ba(i,e<=n||n<=a.toExpNeg,e)),r};oe.toSignificantDigits=oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(br(e,1,Hs),t===void 0?t=r.rounding:br(t,0,8)),Oe(new r(n),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),n=e.constructor;return ba(e,t<=n.toExpNeg||t>=n.toExpPos)};function eS(e,t){var n,r,i,a,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ue?Oe(t,p):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(p/Re),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/ft|0,d[a]%=ft;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Ue?Oe(t,p):t}function br(e,t,n){if(e!==~~e||e<t||e>n)throw Error(fa+e)}function gr(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=Re-r.length,n&&(a+=oi(n)),a+=r;l=e[t],r=l+"",n=Re-r.length,n&&(a+=oi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var $r=function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%ft|0,l=a/ft|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*ft+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,f,h,p,g,y,j,w,S,_,N,b,k,T,A,O,I,B=r.constructor,z=r.s==i.s?1:-1,M=r.d,$=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Fn+"Division by zero");for(d=r.e-i.e,O=$.length,T=M.length,y=new B(z),j=y.d=[],f=0;$[f]==(M[f]||0);)++f;if($[f]>(M[f]||0)&&--d,a==null?N=a=B.precision:l?N=a+(tt(r)-tt(i))+1:N=a,N<0)return new B(0);if(N=N/Re+2|0,f=0,O==1)for(h=0,$=$[0],N++;(f<T||h)&&N--;f++)b=h*ft+(M[f]||0),j[f]=b/$|0,h=b%$|0;else{for(h=ft/($[0]+1)|0,h>1&&($=e($,h),M=e(M,h),O=$.length,T=M.length),k=O,w=M.slice(0,O),S=w.length;S<O;)w[S++]=0;I=$.slice(),I.unshift(0),A=$[0],$[1]>=ft/2&&++A;do h=0,u=t($,w,O,S),u<0?(_=w[0],O!=S&&(_=_*ft+(w[1]||0)),h=_/A|0,h>1?(h>=ft&&(h=ft-1),p=e($,h),g=p.length,S=w.length,u=t(p,w,g,S),u==1&&(h--,n(p,O<g?I:$,g))):(h==0&&(u=h=1),p=$.slice()),g=p.length,g<S&&p.unshift(0),n(w,p,S),u==-1&&(S=w.length,u=t($,w,O,S),u<1&&(h++,n(w,O<S?I:$,S))),S=w.length):u===0&&(h++,w=[0]),j[f++]=h,u&&w[0]?w[S++]=M[k]||0:(w=[M[k]],S=1);while((k++<T||w[0]!==void 0)&&N--)}return j[0]||j.shift(),y.e=d,Oe(y,l?a+tt(y)+1:a)}}();function tS(e,t){var n,r,i,a,l,u,d=0,f=0,h=e.constructor,p=h.precision;if(tt(e)>16)throw Error(hy+tt(e));if(!e.s)return new h(un);for(t==null?(Ue=!1,u=p):u=t,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(Gi(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(un),h.precision=u;;){if(i=Oe(i.times(e),u),n=n.times(++d),l=a.plus($r(i,n,u)),gr(l.d).slice(0,u)===gr(a.d).slice(0,u)){for(;f--;)a=Oe(a.times(a),u);return h.precision=p,t==null?(Ue=!0,Oe(a,p)):a}a=l}}function tt(e){for(var t=e.e*Re,n=e.d[0];n>=10;n/=10)t++;return t}function um(e,t,n){if(t>e.LN10.sd())throw Ue=!0,n&&(e.precision=n),Error(Fn+"LN10 precision limit exceeded");return Oe(new e(e.LN10),t)}function oi(e){for(var t="";e--;)t+="0";return t}function xl(e,t){var n,r,i,a,l,u,d,f,h,p=1,g=10,y=e,j=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Fn+(y.s?"NaN":"-Infinity"));if(y.eq(un))return new w(0);if(t==null?(Ue=!1,f=S):f=t,y.eq(10))return t==null&&(Ue=!0),um(w,f);if(f+=g,w.precision=f,n=gr(j),r=n.charAt(0),a=tt(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=gr(y.d),r=n.charAt(0),p++;a=tt(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return d=um(w,f+2,S).times(a+""),y=xl(new w(r+"."+n.slice(1)),f-g).plus(d),w.precision=S,t==null?(Ue=!0,Oe(y,S)):y;for(u=l=y=$r(y.minus(un),y.plus(un),f),h=Oe(y.times(y),f),i=3;;){if(l=Oe(l.times(h),f),d=u.plus($r(l,new w(i),f)),gr(d.d).slice(0,f)===gr(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(um(w,f+2,S).times(a+""))),u=$r(u,new w(p),f),w.precision=S,t==null?(Ue=!0,Oe(u,S)):u;u=d,i+=2}}function iw(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Zs(n/Re),e.d=[],r=(n+1)%Re,n<0&&(r+=Re),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Re;r<i;)e.d.push(+t.slice(r,r+=Re));t=t.slice(r),r=Re-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ue&&(e.e>sd||e.e<-sd))throw Error(hy+n)}else e.s=0,e.e=0,e.d=[0];return e}function Oe(e,t,n){var r,i,a,l,u,d,f,h,p=e.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=Re,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Re),a=p.length,h>=a)return e;for(f=a=p[h],l=1;a>=10;a/=10)l++;r%=Re,i=r-Re+l}if(n!==void 0&&(a=Gi(10,l-i-1),u=f/a%10|0,d=t<0||p[h+1]!==void 0||f%a,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/Gi(10,l-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=tt(e),p.length=1,t=t-a-1,p[0]=Gi(10,(Re-t%Re)%Re),e.e=Zs(-t/Re)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Gi(10,Re-r),p[h]=i>0?(f/Gi(10,l-i)%Gi(10,i)|0)*a:0),d)for(;;)if(h==0){(p[0]+=a)==ft&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=ft)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Ue&&(e.e>sd||e.e<-sd))throw Error(hy+tt(e));return e}function nS(e,t){var n,r,i,a,l,u,d,f,h,p,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Ue?Oe(t,y):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=p.length):(n=p,r=f,u=d.length),i=Math.max(Math.ceil(y/Re),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){h=d[i]<p[i];break}l=0}for(h&&(n=d,d=p,p=n,t.s=-t.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=ft-1;--d[a],d[i]+=ft}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,Ue?Oe(t,y):t):new g(0)}function ba(e,t,n){var r,i=tt(e),a=gr(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+oi(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+oi(-i-1)+a,n&&(r=n-l)>0&&(a+=oi(r))):i>=l?(a+=oi(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+oi(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=oi(r))),e.s<0?"-"+a:a}function aw(e,t){if(e.length>t)return e.length=t,!0}function rS(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fa+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return iw(l,a.toString())}else if(typeof a!="string")throw Error(fa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,_R.test(a))iw(l,a);else throw Error(fa+a)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rS,i.config=i.set=bR,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function bR(e){if(!e||typeof e!="object")throw Error(Fn+"Object expected");var t,n,r,i=["precision",1,Hs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Zs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(fa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fa+n+": "+r);return this}var my=rS(xR);un=new my(1);const Pe=my;var wR=e=>e,iS={"@@functional/placeholder":!0},aS=e=>e===iS,sw=e=>function t(){return arguments.length===0||arguments.length===1&&aS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sS=(e,t)=>e===1?t:sw(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==iS).length;return a>=e?t(...r):sS(e-a,sw(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(h=>aS(h)?u.shift():h);return t(...f,...u)}))}),wf=e=>sS(e.length,e),Zp=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},jR=wf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),NR=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return wR;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),a(...arguments))}},Wp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),oS=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function lS(e){var t;return e===0?t=1:t=Math.floor(new Pe(e).abs().log(10).toNumber())+1,t}function cS(e,t,n){for(var r=new Pe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}wf((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});wf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});wf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var uS=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},dS=(e,t,n)=>{if(e.lte(0))return new Pe(0);var r=lS(e.toNumber()),i=new Pe(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new Pe(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new Pe(d.toNumber()):new Pe(Math.ceil(d.toNumber()))},PR=(e,t,n)=>{var r=new Pe(1),i=new Pe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Pe(10).pow(lS(e)-1),i=new Pe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pe(Math.floor(e)))}else e===0?i=new Pe(Math.floor((t-1)/2)):n||(i=new Pe(Math.floor(e)));var l=Math.floor((t-1)/2),u=NR(jR(d=>i.add(new Pe(d-l).mul(r)).toNumber()),Zp);return u(0,t)},fS=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var l=dS(new Pe(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new Pe(0):(u=new Pe(t).add(n).div(2),u=u.sub(new Pe(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Pe(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?fS(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new Pe(d).mul(l)),tickMax:u.add(new Pe(f).mul(l))})};function SR(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=uS([t,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Zp(0,r-1).map(()=>1/0)]:[...Zp(0,r-1).map(()=>-1/0),u];return t>n?Wp(d):d}if(l===u)return PR(l,r,i);var{step:f,tickMin:h,tickMax:p}=fS(l,u,a,i,0),g=cS(h,p.add(new Pe(.1).mul(f)),f);return t>n?Wp(g):g}function kR(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=uS([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(t,2),d=dS(new Pe(l).sub(a).div(u-1),i,0),f=[...cS(new Pe(a),new Pe(l),d),l];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?Wp(f):f}var CR=oS(SR),OR=oS(kR),hS=e=>e.rootProps.maxBarSize,ER=e=>e.rootProps.barGap,mS=e=>e.rootProps.barCategoryGap,TR=e=>e.rootProps.barSize,jf=e=>e.rootProps.stackOffset,py=e=>e.options.chartName,gy=e=>e.rootProps.syncId,pS=e=>e.rootProps.syncMethod,vy=e=>e.options.eventEmitter,Or={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},on={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Nf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},AR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Or.angleAxisId,includeHidden:!1,name:void 0,reversed:Or.reversed,scale:Or.scale,tick:Or.tick,tickCount:void 0,ticks:void 0,type:Or.type,unit:void 0},MR={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:on.type,unit:void 0},LR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DR={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:"category",unit:void 0},yy=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?LR:AR,xy=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?DR:MR,Pf=e=>e.polarOptions,_y=K([Yr,Xr,gt],T4),gS=K([Pf,_y],(e,t)=>{if(e!=null)return sr(e.innerRadius,t,0)}),vS=K([Pf,_y],(e,t)=>{if(e!=null)return sr(e.outerRadius,t,t*.8)}),IR=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},yS=K([Pf],IR);K([yy,yS],Nf);var xS=K([_y,gS,vS],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});K([xy,xS],Nf);var _S=K([ke,Pf,gS,vS,Yr,Xr],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:sr(l,i,i/2),cy:sr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),rt=(e,t)=>t,Sf=(e,t,n)=>n;function by(e){return e==null?void 0:e.id}var ct=e=>{var t=ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ws=e=>e.tooltip.settings.axisId,yt=e=>{var t=ct(e),n=Ws(e);return Rl(e,t,n)},bS=K([yt],e=>e==null?void 0:e.dataKey);function wS(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=by(u);f.forEach((p,g)=>{var y=a==null||i?g:String(Ut(p,a,null)),j=Ut(p,u.dataKey,0),w;l.has(y)?w=l.get(y):w={},Object.assign(w,{[h]:j}),l.set(y,w)})}}),Array.from(l.values())}function kf(e){return e.stackId!=null&&e.dataKey!=null}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(r){RR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RR(e,t,n){return(t=zR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zR(e){var t=$R(e,"string");return typeof t=="symbol"?t:t+""}function $R(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vp=[0,"auto"],rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jS=(e,t)=>e.cartesianAxis.xAxis[t],Jr=(e,t)=>{var n=jS(e,t);return n??rn},an={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Al},NS=(e,t)=>e.cartesianAxis.yAxis[t],ei=(e,t)=>{var n=NS(e,t);return n??an},BR={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wy=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??BR},nn=(e,t,n)=>{switch(t){case"xAxis":return Jr(e,n);case"yAxis":return ei(e,n);case"zAxis":return wy(e,n);case"angleAxis":return yy(e,n);case"radiusAxis":return xy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FR=(e,t,n)=>{switch(t){case"xAxis":return Jr(e,n);case"yAxis":return ei(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rl=(e,t,n)=>{switch(t){case"xAxis":return Jr(e,n);case"yAxis":return ei(e,n);case"angleAxis":return yy(e,n);case"radiusAxis":return xy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function SS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var jy=e=>e.graphicalItems.cartesianItems,UR=K([rt,Sf],SS),kS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),zl=K([jy,nn,UR],kS),CS=K([zl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(kf)),OS=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ES=K([zl],OS),TS=e=>e.map(t=>t.data).filter(Boolean).flat(1),HR=K([zl],TS),AS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ny=K([HR,fy],AS),MS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ut(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ut(i,r)}))):e.map(r=>({value:r})),Cf=K([Ny,nn,zl],MS);function LS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Oa(e){return e.filter(t=>_r(t)||t instanceof Date).map(Number).filter(t=>vn(t)===!1)}function ZR(e,t,n){return!n||typeof t!="number"||vn(t)?[]:n.length?Oa(n.flatMap(r=>{var i=Ut(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!xn(a)||!xn(l)))return[t-a,t+l]})):[]}var WR=K([CS,fy,yt],wS),DS=(e,t,n)=>{var r={},i=t.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,d=u.map(by);return[l,{stackedData:K4(e,d,n),graphicalItems:u}]}))},Kp=K([WR,CS,jf],DS),IS=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=Q4(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},VR=K([Kp,Ii,rt],IS),RS=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(p=>LS(i,p)),h=Ut(a,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:h,errorDomain:ZR(a,h,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ut(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Of=e=>e.errorBars,zS=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>LS(n,r));K([ES,Of,rt],zS);var KR=K([Ny,nn,ES,Of,rt],RS);function qR(e){var{value:t}=e;if(_r(t)||t instanceof Date)return t}var lw=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Oa(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GR=(e,t,n)=>{var r=e.map(qR).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&M2(r))?yP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Py=e=>{var t;if(e==null||!("domain"in e))return Vp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Oa(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vp},ld=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},$S=e=>e.referenceElements.dots,Vs=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),YR=K([$S,rt,Sf],Vs),BS=e=>e.referenceElements.areas,XR=K([BS,rt,Sf],Vs),FS=e=>e.referenceElements.lines,QR=K([FS,rt,Sf],Vs),US=(e,t)=>{var n=Oa(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},JR=K(YR,rt,US),HS=(e,t)=>{var n=Oa(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ez=K([XR,rt],HS),ZS=(e,t)=>{var n=Oa(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tz=K(QR,rt,ZS),nz=K(JR,tz,ez,(e,t,n)=>ld(e,n,t)),rz=K([nn],Py),WS=(e,t,n,r,i,a,l)=>{var u=vR(t,e.allowDataOverflow);if(u!=null)return u;var d=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",f=d?ld(n,i,lw(r)):ld(i,lw(r));return yR(t,f,e.allowDataOverflow)},iz=K([nn,rz,VR,KR,nz,ke,rt],WS),az=[0,1],VS=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Sa(t,a);return f&&u==null?yP(0,n.length):d==="category"?GR(r,e,f):i==="expand"?az:l}},Sy=K([nn,ke,Ny,Cf,jf,rt,iz],VS),KS=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Ol(a));return u in Lo?u:"point"}}},$l=K([nn,ke,PS,py,rt],KS);function sz(e){if(e!=null){if(e in Lo)return Lo[e]();var t="scale".concat(Ol(e));if(t in Lo)return Lo[t]()}}function ky(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=sz(t);if(i!=null){var a=i.domain(n).range(r);return U4(a),a}}}var qS=(e,t,n)=>{var r=Py(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ts(e))return CR(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ts(e))return OR(e,t.tickCount,t.allowDecimals)}},Cy=K([Sy,Rl,$l],qS),GS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ts(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},oz=K([nn,Sy,Cy,rt],GS),lz=K(Cf,nn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Oa(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),YS=K(lz,ke,mS,gt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!xn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=sr(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),cz=(e,t)=>{var n=Jr(e,t);return n==null||typeof n.padding!="string"?0:YS(e,"xAxis",t,n.padding)},uz=(e,t)=>{var n=ei(e,t);return n==null||typeof n.padding!="string"?0:YS(e,"yAxis",t,n.padding)},dz=K(Jr,cz,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),fz=K(ei,uz,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),hz=K([gt,dz,mf,hf,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),mz=K([gt,ke,fz,mf,hf,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Bl=(e,t,n,r)=>{var i;switch(t){case"xAxis":return hz(e,n,r);case"yAxis":return mz(e,n,r);case"zAxis":return(i=wy(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return yS(e);case"radiusAxis":return xS(e,n);default:return}},XS=K([nn,Bl],Nf),Ks=K([nn,$l,oz,XS],ky);K([zl,Of,rt],zS);function QS(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ef=(e,t)=>t,Tf=(e,t,n)=>n,pz=K(df,Ef,Tf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(QS)),gz=K(ff,Ef,Tf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(QS)),JS=(e,t)=>({width:e.width,height:t.height}),vz=(e,t)=>{var n=typeof t.width=="number"?t.width:Al;return{width:n,height:e.height}},ek=K(gt,Jr,JS),yz=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},xz=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},_z=K(Xr,gt,pz,Ef,Tf,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=JS(t,u);l==null&&(l=yz(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),bz=K(Yr,gt,gz,Ef,Tf,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=vz(t,u);l==null&&(l=xz(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),wz=(e,t)=>{var n=Jr(e,t);if(n!=null)return _z(e,n.orientation,n.mirror)},jz=K([gt,Jr,wz,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Nz=(e,t)=>{var n=ei(e,t);if(n!=null)return bz(e,n.orientation,n.mirror)},Pz=K([gt,ei,Nz,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),tk=K(gt,ei,(e,t)=>{var n=typeof t.width=="number"?t.width:Al;return{width:n,height:e.height}}),cw=(e,t,n)=>{switch(t){case"xAxis":return ek(e,n).width;case"yAxis":return tk(e,n).height;default:return}},nk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Sa(e,r),d=t.map(f=>f.value);if(l&&u&&a==="category"&&i&&M2(d))return d}},Oy=K([ke,Cf,nn,rt],nk),rk=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Sa(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Ey=K([ke,Cf,Rl,rt],rk),uw=K([ke,FR,$l,Ks,Oy,Ey,Bl,Cy,rt],(e,t,n,r,i,a,l,u,d)=>{if(t==null)return null;var f=Sa(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),Sz=(e,t,n,r,i,a,l,u,d)=>{if(!(t==null||r==null)){var f=Sa(e,d),{type:h,ticks:p,tickCount:g}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=h==="category"&&r.bandwidth?r.bandwidth()/y:0;j=d==="angleAxis"&&a!=null&&a.length>=2?Yt(a[0]-a[1])*2*j:j;var w=p||i;if(w){var S=w.map((_,N)=>{var b=l?l.indexOf(_):_;return{index:N,coordinate:r(b)+j,value:_,offset:j}});return S.filter(_=>!vn(_.coordinate))}return f&&u?u.map((_,N)=>({coordinate:r(_)+j,value:_,index:N,offset:j})):r.ticks?r.ticks(g).map(_=>({coordinate:r(_)+j,value:_,offset:j})):r.domain().map((_,N)=>({coordinate:r(_)+j,value:l?l[_]:_,index:N,offset:j}))}},ik=K([ke,Rl,$l,Ks,Cy,Bl,Oy,Ey,rt],Sz),kz=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Sa(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Yt(r[0]-r[1])*2*f:f,u&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},As=K([ke,Rl,Ks,Bl,Oy,Ey,rt],kz),Ms=K(nn,Ks,(e,t)=>{if(!(e==null||t==null))return od(od({},e),{},{scale:t})}),Cz=K([nn,$l,Sy,XS],ky);K((e,t,n)=>wy(e,n),Cz,(e,t)=>{if(!(e==null||t==null))return od(od({},e),{},{scale:t})});var Oz=K([ke,df,ff],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ak=e=>e.options.defaultTooltipEventType,sk=e=>e.options.validateTooltipEventTypes;function ok(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Ty(e,t){var n=ak(e),r=sk(e);return ok(t,n,r)}function Ez(e){return ue(t=>Ty(t,e))}var lk=(e,t)=>{var n,r=Number(t);if(!(vn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Tz=e=>e.tooltip.settings,di={active:!1,index:null,dataKey:void 0,coordinate:void 0},Az={itemInteraction:{click:di,hover:di},axisInteraction:{click:di,hover:di},keyboardInteraction:di,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ck=wn({name:"tooltip",initialState:Az,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=zr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Mz,removeTooltipEntrySettings:Lz,setTooltipSettingsState:Dz,setActiveMouseOverItemIndex:uk,mouseLeaveItem:Iz,mouseLeaveChart:dk,setActiveClickItemIndex:Rz,setMouseOverAxisIndex:fk,setMouseClickAxisIndex:zz,setSyncInteraction:qp,setKeyboardInteraction:Gp}=ck.actions,$z=ck.reducer;function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){Bz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bz(e,t,n){return(t=Fz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fz(e){var t=Uz(e,"string");return typeof t=="symbol"?t:t+""}function Uz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hz(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Zz(e){return e.index!=null}var hk=(e,t,n,r)=>{if(t==null)return di;var i=Hz(e,t,n);if(i==null)return di;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Zz(i)){if(a)return Bc(Bc({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Bc(Bc({},di),{},{coordinate:i.coordinate})},Ay=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!xn(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},mk=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},pk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Fl=e=>e.options.tooltipPayloadSearcher,qs=e=>e.tooltip;function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(n),!0).forEach(function(r){Wz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wz(e,t,n){return(t=Vz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vz(e){var t=Kz(e,"string");return typeof t=="symbol"?t:t+""}function Kz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qz(e,t){return e??t}var gk=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((g,y)=>{var j,{dataDefinedOnItem:w,settings:S}=y,_=qz(w,u),N=Array.isArray(_)?JN(_,f,h):_,b=(j=S==null?void 0:S.dataKey)!==null&&j!==void 0?j:r,k=S==null?void 0:S.nameKey,T;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?T=zM(N,r,i):T=a(N,t,d,k),Array.isArray(T))T.forEach(O=>{var I=hw(hw({},S),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});g.push(J_({tooltipEntrySettings:I,dataKey:O.dataKey,payload:O.payload,value:Ut(O.payload,O.dataKey),name:O.name}))});else{var A;g.push(J_({tooltipEntrySettings:S,dataKey:b,payload:T,value:Ut(T,b),name:(A=Ut(T,k))!==null&&A!==void 0?A:S==null?void 0:S.name}))}return g},p)}},My=K([yt,ke,PS,py,ct],KS),Gz=K([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Yz=K([ct,Ws],SS),Ul=K([Gz,yt,Yz],kS),Xz=K([Ul],e=>e.filter(kf)),Qz=K([Ul],TS),Gs=K([Qz,Ii],AS),Jz=K([Xz,Ii,yt],wS),Ly=K([Gs,yt,Ul],MS),e8=K([yt],Py),t8=K([Ul],e=>e.filter(kf)),n8=K([Jz,t8,jf],DS),r8=K([n8,Ii,ct],IS),i8=K([Ul],OS),a8=K([Gs,yt,i8,Of,ct],RS),s8=K([$S,ct,Ws],Vs),o8=K([s8,ct],US),l8=K([BS,ct,Ws],Vs),c8=K([l8,ct],HS),u8=K([FS,ct,Ws],Vs),d8=K([u8,ct],ZS),f8=K([o8,d8,c8],ld),h8=K([yt,e8,r8,a8,f8,ke,ct],WS),vk=K([yt,ke,Gs,Ly,jf,ct,h8],VS),m8=K([vk,yt,My],qS),p8=K([yt,vk,m8,ct],GS),yk=e=>{var t=ct(e),n=Ws(e),r=!1;return Bl(e,t,n,r)},xk=K([yt,yk],Nf),_k=K([yt,My,p8,xk],ky),g8=K([ke,Ly,yt,ct],nk),v8=K([ke,Ly,yt,ct],rk),y8=(e,t,n,r,i,a,l,u)=>{if(t){var{type:d}=t,f=Sa(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Yt(i[0]-i[1])*2*p:p,f&&l?l.map((g,y)=>({coordinate:r(g)+p,value:g,index:y,offset:p})):r.domain().map((g,y)=>({coordinate:r(g)+p,value:a?a[g]:g,index:y,offset:p}))}}},ti=K([ke,yt,My,_k,yk,g8,v8,ct],y8),Dy=K([ak,sk,Tz],(e,t,n)=>ok(n.shared,e,t)),bk=e=>e.tooltip.settings.trigger,Iy=e=>e.tooltip.settings.defaultIndex,Af=K([qs,Dy,bk,Iy],hk),Ls=K([Af,Gs],Ay),wk=K([ti,Ls],lk),jk=K([Af],e=>{if(e)return e.dataKey}),Nk=K([qs,Dy,bk,Iy],pk),x8=K([Yr,Xr,ke,gt,ti,Iy,Nk,Fl],mk),_8=K([Af,x8],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),b8=K([Af],e=>e.active),w8=K([Nk,Ls,Ii,bS,wk,Fl,Dy],gk);K([w8],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(n),!0).forEach(function(r){j8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j8(e,t,n){return(t=N8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8(e){var t=P8(e,"string");return typeof t=="symbol"?t:t+""}function P8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S8=()=>ue(yt),k8=()=>{var e=S8(),t=ue(ti),n=ue(_k);return Lv(pw(pw({},e),{},{scale:n}),t)},C8=()=>ue(py),Ry=(e,t)=>t,Pk=(e,t,n)=>n,zy=(e,t,n,r)=>r,O8=K(ti,e=>af(e,t=>t.coordinate)),$y=K([qs,Ry,Pk,zy],hk),Sk=K([$y,Gs],Ay),E8=(e,t,n)=>{if(t!=null){var r=qs(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},kk=K([qs,Ry,Pk,zy],pk),cd=K([Yr,Xr,ke,gt,ti,zy,kk,Fl],mk),T8=K([$y,cd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Ck=K(ti,Sk,lk),A8=K([kk,Sk,Ii,bS,Ck,Fl,Ry],gk),M8=K([$y],e=>({isActive:e.active,activeIndex:e.index})),L8=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a)){var d=J4(e.chartX,e.chartY,t,n,u);if(d){var f=tD(d,t),h=B4(f,l,a,r,i),p=eD(t,a,h,d);return{activeIndex:String(h),activeCoordinate:p}}}};function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yp.apply(null,arguments)}function gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(n),!0).forEach(function(r){D8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D8(e,t,n){return(t=I8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,h=t,p=n,g=r;if(!u||!h||f!=="ScatterChart"&&d!=="axis")return null;var y,j;if(f==="ScatterChart")y=h,j=sI;else if(f==="BarChart")y=oI(l,h,i,a),j=dP;else if(l==="radial"){var{cx:w,cy:S,radius:_,startAngle:N,endAngle:b}=fP(h);y={cx:w,cy:S,startAngle:N,endAngle:b,innerRadius:_,outerRadius:_},j=mP}else y={points:BI(l,h,i)},j=XD;var k=typeof u=="object"&&"className"in u?u.className:void 0,T=Fc(Fc(Fc(Fc({stroke:"#ccc",pointerEvents:"none"},i),y),St(u,!1)),{},{payload:p,payloadIndex:g,className:De("recharts-tooltip-cursor",k)});return x.isValidElement(u)?x.cloneElement(u,T):x.createElement(j,T)}function $8(e){var t=k8(),n=iP(),r=$v(),i=C8();return x.createElement(z8,Yp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Ok=x.createContext(null),B8=()=>x.useContext(Ok),Ek={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function a(d,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||d,g),j=n?n+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],y]:d._events[j].push(y):(d._events[j]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,j=new Array(y);g<y;g++)j[g]=p[g].fn;return j},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,y,j){var w=n?n+f:f;if(!this._events[w])return!1;var S=this._events[w],_=arguments.length,N,b;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,g),!0;case 5:return S.fn.call(S.context,h,p,g,y),!0;case 6:return S.fn.call(S.context,h,p,g,y,j),!0}for(b=1,N=new Array(_-1);b<_;b++)N[b-1]=arguments[b];S.fn.apply(S.context,N)}else{var k=S.length,T;for(b=0;b<k;b++)switch(S[b].once&&this.removeListener(f,S[b].fn,void 0,!0),_){case 1:S[b].fn.call(S[b].context);break;case 2:S[b].fn.call(S[b].context,h);break;case 3:S[b].fn.call(S[b].context,h,p);break;case 4:S[b].fn.call(S[b].context,h,p,g);break;default:if(!N)for(T=1,N=new Array(_-1);T<_;T++)N[T-1]=arguments[T];S[b].fn.apply(S[b].context,N)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return l(this,y),this;var j=this._events[y];if(j.fn)j.fn===h&&(!g||j.once)&&(!p||j.context===p)&&l(this,y);else{for(var w=0,S=[],_=j.length;w<_;w++)(j[w].fn!==h||g&&!j[w].once||p&&j[w].context!==p)&&S.push(j[w]);S.length?this._events[y]=S.length===1?S[0]:S:l(this,y)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Ek);var F8=Ek.exports;const U8=wr(F8);var _l=new U8,Xp="recharts.syncEvent.tooltip",vw="recharts.syncEvent.brush";function H8(e,t){if(t){var n=Number.parseInt(t,10);if(!vn(n))return e==null?void 0:e[n]}}var Z8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Tk=wn({name:"options",initialState:Z8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),W8=Tk.reducer,{createEventEmitter:V8}=Tk.actions;function K8(e){return e.tooltip.syncInteraction}var q8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ak=wn({name:"chartData",initialState:q8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:yw,setDataStartEndIndexes:G8,setComputedData:$H}=Ak.actions,Y8=Ak.reducer,X8=["x","y"];function xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(n),!0).forEach(function(r){Q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q8(e,t,n){return(t=J8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t7(e,t){if(e==null)return{};var n,r,i=n7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mk=()=>{};function r7(){var e=ue(gy),t=ue(vy),n=nt(),r=ue(pS),i=ue(ti),a=$v(),l=Iv(),u=ue(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Mk;var d=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate){var y=h.payload.coordinate,{x:j,y:w}=y,S=t7(y,X8),_=Zi(Zi(Zi({},S),typeof j=="number"&&{x:Math.max(l.x,Math.min(j,l.x+l.width))}),typeof w=="number"&&{y:Math.max(l.y,Math.min(w,l.y+l.height))}),N=Zi(Zi({},h),{},{payload:Zi(Zi({},h.payload),{},{coordinate:_})});n(N)}else n(h);return}if(i!=null){var b;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=r(i,k);b=i[T]}else r==="value"&&(b=i.find(D=>String(D.value)===h.payload.label));var{coordinate:A}=h.payload;if(b==null||h.payload.active===!1||A==null||l==null){n(qp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:O,y:I}=A,B=Math.min(O,l.x+l.width),z=Math.min(I,l.y+l.height),M={x:a==="horizontal"?b.coordinate:B,y:a==="horizontal"?z:b.coordinate},$=qp({active:h.payload.active,coordinate:M,dataKey:h.payload.dataKey,index:String(b.index),label:h.payload.label});n($)}}};return _l.on(Xp,d),()=>{_l.off(Xp,d)}},[u,n,t,e,r,i,a,l])}function i7(){var e=ue(gy),t=ue(vy),n=nt();x.useEffect(()=>{if(e==null)return Mk;var r=(i,a,l)=>{t!==l&&e===i&&n(G8(a))};return _l.on(vw,r),()=>{_l.off(vw,r)}},[n,t,e])}function a7(){var e=nt();x.useEffect(()=>{e(V8())},[e]),r7(),i7()}function s7(e,t,n,r,i,a){var l=ue(g=>E8(g,e,t)),u=ue(vy),d=ue(gy),f=ue(pS),h=ue(K8),p=h==null?void 0:h.active;x.useEffect(()=>{if(!p&&d!=null&&u!=null){var g=qp({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});_l.emit(Xp,d,g,u)}},[p,n,l,i,r,u,d,f,a])}function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(n),!0).forEach(function(r){o7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u7(e){return e.dataKey}function d7(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(RD,t)}var ww=[],f7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Fs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function h7(e){var t=Zn(e,f7),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:j,cursor:w,shared:S,trigger:_,defaultIndex:N,portal:b,axisId:k}=t,T=nt(),A=typeof N=="number"?String(N):N;x.useEffect(()=>{T(Dz({shared:S,trigger:_,axisId:k,active:n,defaultIndex:A}))},[T,S,_,k,n,A]);var O=Iv(),I=sP(),B=Ez(S),{activeIndex:z,isActive:M}=ue(ee=>M8(ee,B,_,A)),$=ue(ee=>A8(ee,B,_,A)),D=ue(ee=>Ck(ee,B,_,A)),C=ue(ee=>T8(ee,B,_,A)),U=$,W=B8(),G=n??M,[R,q]=CN([U,G]),Y=B==="axis"?D:void 0;s7(B,_,C,Y,z,G);var le=b??W;if(le==null)return null;var te=U??ww;G||(te=ww),u&&te.length&&(te=gN(U.filter(ee=>ee.value!=null&&(ee.hide!==!0||t.includeHidden)),h,u7));var Z=te.length>0,ne=x.createElement(ZD,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:G,coordinate:C,hasPayload:Z,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:O,wrapperStyle:j,lastBoundingBox:R,innerRef:q,hasPortalFromProps:!!b},d7(l,bw(bw({},t),{},{payload:te,label:Y,active:G,coordinate:C,accessibilityLayer:I})));return x.createElement(x.Fragment,null,Id.createPortal(ne,le),G&&x.createElement($8,{cursor:w,tooltipEventType:B,coordinate:C,payload:U,index:z}))}var Lk={},Dk={},Ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{f&&h(),w()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},j=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{j(),l=void 0,u=null},S=()=>{h()},_=function(...N){if(i!=null&&i.aborted)return;l=this,u=N;const b=g==null;y(),d&&b&&h()};return _.schedule=y,_.cancel=w,_.flush=S,i==null||i.addEventListener("abort",w,{once:!0}),_}e.debounce=t})(Ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ik;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:f}),y=function(...w){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=r.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},j=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=j,y}e.debounce=n})(Dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk;function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Lk);var m7=Lk.throttle;const p7=wr(m7);var Zo=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x7=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:h=0,id:p,className:g,onResize:y,style:j={}}=e,w=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>w.current);var[_,N]=x.useState({containerWidth:r.width,containerHeight:r.height}),b=x.useCallback((T,A)=>{N(O=>{var I=Math.round(T),B=Math.round(A);return O.containerWidth===I&&O.containerHeight===B?O:{containerWidth:I,containerHeight:B}})},[]);x.useEffect(()=>{var T=B=>{var z,{width:M,height:$}=B[0].contentRect;b(M,$),(z=S.current)===null||z===void 0||z.call(S,M,$)};h>0&&(T=p7(T,h,{trailing:!0,leading:!1}));var A=new ResizeObserver(T),{width:O,height:I}=w.current.getBoundingClientRect();return b(O,I),A.observe(w.current),()=>{A.disconnect()}},[b,h]);var k=x.useMemo(()=>{var{containerWidth:T,containerHeight:A}=_;if(T<0||A<0)return null;Zo(ta(i)||ta(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Zo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=ta(i)?T:i,I=ta(a)?A:a;return n&&n>0&&(O?I=O/n:I&&(O=I*n),d&&I>d&&(I=d)),Zo(O>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,I,i,a,l,u,n),x.Children.map(f,B=>x.cloneElement(B,{width:O,height:I,style:dm({width:O,height:I},B.props.style)}))},[n,f,a,d,u,l,_,i]);return x.createElement("div",{id:p?"".concat(p):void 0,className:De("recharts-responsive-container",g),style:dm(dm({},j),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),Rk=e=>null;Rk.displayName="Cell";function _7(e,t,n){return(t=b7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b7(e){var t=w7(e,"string");return typeof t=="symbol"?t:t+""}function w7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class j7{constructor(t){_7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C7={cacheSize:2e3,enableCache:!0},zk=N7({},C7),Pw=new j7(zk.cacheSize),O7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sw="recharts_measurement_span";function E7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var kw=(e,t)=>{try{var n=document.getElementById(Sw);n||(n=document.createElement("span"),n.setAttribute("id",Sw),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,O7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wo=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fs.isSsr)return{width:0,height:0};if(!zk.enableCache)return kw(t,n);var r=E7(t,n),i=Pw.get(r);if(i)return i;var a=kw(t,n);return Pw.set(r,a),a},Cw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ow=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$k={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},M7=Object.keys($k),ts="NaN";function L7(e,t){return e*$k[t]}class Vt{static parse(t){var n,[,r,i]=(n=A7.exec(t))!==null&&n!==void 0?n:[];return new Vt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vn(t)&&(this.unit=""),n!==""&&!T7.test(n)&&(this.num=NaN,this.unit=""),M7.includes(n)&&(this.num=L7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Vt(NaN,""):new Vt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Vt(NaN,""):new Vt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vt(NaN,""):new Vt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vt(NaN,""):new Vt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vn(this.num)}}function Bk(e){if(e.includes(ts))return ts;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=Cw.exec(t))!==null&&n!==void 0?n:[],l=Vt.parse(r??""),u=Vt.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ts;t=t.replace(Cw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=Ow.exec(t))!==null&&f!==void 0?f:[],y=Vt.parse(h??""),j=Vt.parse(g??""),w=p==="+"?y.add(j):y.subtract(j);if(w.isNaN())return ts;t=t.replace(Ow,w.toString())}return t}var Ew=/\(([^()]*)\)/;function D7(e){for(var t=e,n;(n=Ew.exec(t))!=null;){var[,r]=n;t=t.replace(Ew,Bk(r))}return t}function I7(e){var t=e.replace(/\s+/g,"");return t=D7(t),t=Bk(t),t}function R7(e){try{return I7(e)}catch{return ts}}function fm(e){var t=R7(e.slice(5,-1));return t===ts?"":t}var z7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$7=["dx","dy","angle","className","breakAll"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(null,arguments)}function Tw(e,t){if(e==null)return{};var n,r,i=B7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fk=/[ \f\n\r\t\v\u2028\u2029]+/,Uk=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];pt(t)||(n?i=t.toString().split(""):i=t.toString().split(Fk));var a=i.map(u=>({word:u,width:Wo(u,r).width})),l=n?0:Wo("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},F7=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=e,f=de(a),h=l,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(($,D)=>{var{word:C,width:U}=D,W=$[$.length-1];if(W&&(r==null||i||W.width+U+n<Number(r)))W.words.push(C),W.width+=U+n;else{var G={words:[C],width:U};$.push(G)}return $},[])},g=p(t),y=z=>z.reduce((M,$)=>M.width>$.width?M:$);if(!f||i)return g;var j=g.length>a||y(g).width>Number(r);if(!j)return g;for(var w="",S=z=>{var M=h.slice(0,z),$=Uk({breakAll:d,style:u,children:M+w}).wordsWithComputedWidth,D=p($),C=D.length>a||y(D).width>Number(r);return[C,D]},_=0,N=h.length-1,b=0,k;_<=N&&b<=h.length-1;){var T=Math.floor((_+N)/2),A=T-1,[O,I]=S(A),[B]=S(T);if(!O&&!B&&(_=T+1),O&&B&&(N=T-1),!O&&B){k=I;break}b++}return k||g},Aw=e=>{var t=pt(e)?[]:e.toString().split(Fk);return[{words:t}]},U7=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!Fs.isSsr){var u,d,f=Uk({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,d=p}else return Aw(r);return F7({breakAll:a,children:r,maxLines:l,style:i},u,d,t,n)}return Aw(r)},Mw="#808080",By=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:f=Mw}=e,h=Tw(e,z7),p=x.useMemo(()=>U7({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:y,angle:j,className:w,breakAll:S}=h,_=Tw(h,$7);if(!_r(n)||!_r(r)||p.length===0)return null;var N=n+(de(g)?g:0),b=r+(de(y)?y:0),k;switch(d){case"start":k=fm("calc(".concat(a,")"));break;case"middle":k=fm("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:k=fm("calc(".concat(p.length-1," * -").concat(i,")"));break}var T=[];if(l){var A=p[0].width,{width:O}=h;T.push("scale(".concat(de(O)?O/A:1,")"))}return j&&T.push("rotate(".concat(j,", ").concat(N,", ").concat(b,")")),T.length&&(_.transform=T.join(" ")),x.createElement("text",Qp({},St(_,!0),{ref:t,x:N,y:b,className:De("recharts-text",w),textAnchor:u,fill:f.includes("url")?Mw:f}),p.map((I,B)=>{var z=I.words.join(S?"":" ");return x.createElement("tspan",{x:N,dy:B===0?k:i,key:"".concat(z,"-").concat(B)},z)}))});By.displayName="Text";var H7=["labelRef"];function Z7(e,t){if(e==null)return{};var n,r,i=W7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){V7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V7(e,t,n){return(t=K7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(null,arguments)}var Hk=x.createContext(null),G7=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,l=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(Hk.Provider,{value:l},a)},Zk=()=>{var e=x.useContext(Hk),t=Iv();return e||t},Y7=x.createContext(null),X7=()=>{var e=x.useContext(Y7),t=ue(_S);return e||t},Q7=e=>{var{value:t,formatter:n}=e,r=pt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Fy=e=>e!=null&&typeof e=="function",J7=(e,t)=>{var n=Yt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},e$=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:y}=i,j=(f+h)/2,w=J7(p,g),S=w>=0?1:-1,_,N;switch(t){case"insideStart":_=p+S*a,N=y;break;case"insideEnd":_=g-S*a,N=!y;break;case"end":_=g+S*a,N=y;break;default:throw new Error("Unsupported position ".concat(t))}N=w<=0?N:!N;var b=jt(u,d,j,_),k=jt(u,d,j,_+(N?1:-1)*359),T="M".concat(b.x,",").concat(b.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),A=pt(e.id)?dl("recharts-radial-line-"):e.id;return x.createElement("text",Er({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:A,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(A)},n))},t$=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:p}=jt(r,i,l+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+l)/2,{x:y,y:j}=jt(r,i,g,f);return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Wk=e=>"cx"in e&&de(e.cx),n$=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Wk(n)&&(a=n);var{x:l,y:u,width:d,height:f}=t,h=f>=0?1:-1,p=h*r,g=h>0?"end":"start",y=h>0?"start":"end",j=d>=0?1:-1,w=j*r,S=j>0?"end":"start",_=j>0?"start":"end";if(i==="top"){var N={x:l+d/2,y:u-h*r,textAnchor:"middle",verticalAnchor:g};return Ye(Ye({},N),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:u+f+p,textAnchor:"middle",verticalAnchor:y};return Ye(Ye({},b),a?{height:Math.max(a.y+a.height-(u+f),0),width:d}:{})}if(i==="left"){var k={x:l-w,y:u+f/2,textAnchor:S,verticalAnchor:"middle"};return Ye(Ye({},k),a?{width:Math.max(k.x-a.x,0),height:f}:{})}if(i==="right"){var T={x:l+d+w,y:u+f/2,textAnchor:_,verticalAnchor:"middle"};return Ye(Ye({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:f}:{})}var A=a?{width:d,height:f}:{};return i==="insideLeft"?Ye({x:l+w,y:u+f/2,textAnchor:_,verticalAnchor:"middle"},A):i==="insideRight"?Ye({x:l+d-w,y:u+f/2,textAnchor:S,verticalAnchor:"middle"},A):i==="insideTop"?Ye({x:l+d/2,y:u+p,textAnchor:"middle",verticalAnchor:y},A):i==="insideBottom"?Ye({x:l+d/2,y:u+f-p,textAnchor:"middle",verticalAnchor:g},A):i==="insideTopLeft"?Ye({x:l+w,y:u+p,textAnchor:_,verticalAnchor:y},A):i==="insideTopRight"?Ye({x:l+d-w,y:u+p,textAnchor:S,verticalAnchor:y},A):i==="insideBottomLeft"?Ye({x:l+w,y:u+f-p,textAnchor:_,verticalAnchor:g},A):i==="insideBottomRight"?Ye({x:l+d-w,y:u+f-p,textAnchor:S,verticalAnchor:g},A):i&&typeof i=="object"&&(de(i.x)||ta(i.x))&&(de(i.y)||ta(i.y))?Ye({x:l+sr(i.x,d),y:u+sr(i.y,f),textAnchor:"end",verticalAnchor:"end"},A):Ye({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},r$={offset:5};function li(e){var t=Zn(e,r$),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:d,labelRef:f}=t,h=X7(),p=Zk(),g=r==="center"?p:h??p,y=n||g;if(!y||pt(i)&&pt(a)&&!x.isValidElement(l)&&typeof l!="function")return null;var j=Ye(Ye({},t),{},{viewBox:y});if(x.isValidElement(l)){var w=Z7(j,H7);return x.cloneElement(l,w)}var S;if(typeof l=="function"){if(S=x.createElement(l,j),x.isValidElement(S))return S}else S=Q7(t);var _=Wk(y),N=St(t,!0);if(_&&(r==="insideStart"||r==="insideEnd"||r==="end"))return e$(t,r,S,N,y);var b=_?t$(y,t.offset,t.position):n$(t,y);return x.createElement(By,Er({ref:f,className:De("recharts-label",u)},N,b,{breakAll:d}),S)}li.displayName="Label";var i$=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(li,Er({key:"label-implicit"},r)):_r(e)?x.createElement(li,Er({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===li?x.cloneElement(e,Ye({key:"label-implicit"},r)):x.createElement(li,Er({key:"label-implicit",content:e},r)):Fy(e)?x.createElement(li,Er({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(li,Er({},e,{key:"label-implicit"},r)):null};function a$(e){var{label:t}=e,n=Zk();return i$(t,n)||null}var Vk={},Kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Kk);var qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(qk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,n=qk,r=nf;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Vk);var s$=Vk.last;const o$=wr(s$);var l$=["valueAccessor"],c$=["dataKey","clockWise","id","textBreakAll"];function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(null,arguments)}function Dw(e,t){if(e==null)return{};var n,r,i=u$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var d$=e=>Array.isArray(e.value)?o$(e.value):e.value,Gk=x.createContext(void 0),f$=Gk.Provider,Yk=x.createContext(void 0);Yk.Provider;function h$(){return x.useContext(Gk)}function m$(){return x.useContext(Yk)}function ru(e){var{valueAccessor:t=d$}=e,n=Dw(e,l$),{dataKey:r,clockWise:i,id:a,textBreakAll:l}=n,u=Dw(n,c$),d=h$(),f=m$(),h=d||f;return!h||!h.length?null:x.createElement(Ci,{className:"recharts-label-list"},h.map((p,g)=>{var y,j=pt(r)?t(p,g):Ut(p&&p.payload,r),w=pt(a)?{}:{id:"".concat(a,"-").concat(g)};return x.createElement(li,ud({},St(p,!0),u,w,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:j,textBreakAll:l,viewBox:p.viewBox,key:"label-".concat(g),index:g}))}))}ru.displayName="LabelList";function p$(e){var{label:t}=e;return t?t===!0?x.createElement(ru,{key:"labelList-implicit"}):x.isValidElement(t)||Fy(t)?x.createElement(ru,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ru,ud({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var g$={radiusAxis:{},angleAxis:{}},v$=wn({name:"polarAxis",initialState:g$,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),y$=v$.reducer,Xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Xk);var x$=Xk.isPlainObject;const _$=wr(x$);function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(r){b$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b$(e,t,n){return(t=w$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(null,arguments)}var zw=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},N$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P$=e=>{var t=Zn(e,N$),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,g=x.useRef(),[y,j]=x.useState(-1),w=x.useRef(i),S=x.useRef(a),_=x.useRef(l),N=x.useRef(n),b=x.useRef(r),k=Uv(e,"trapezoid-");if(x.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var C=g.current.getTotalLength();C&&j(C)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var T=De("recharts-trapezoid",u);if(!p)return x.createElement("g",null,x.createElement("path",dd({},St(t,!0),{className:T,d:zw(n,r,i,a,l)})));var A=w.current,O=S.current,I=_.current,B=N.current,z=b.current,M="0px ".concat(y===-1?1:y,"px"),$="".concat(y,"px 0px"),D=oP(["strokeDasharray"],f,d);return x.createElement(Fv,{animationId:k,key:k,canBegin:y>0,duration:f,easing:d,isActive:p,begin:h},C=>{var U=zt(A,i,C),W=zt(O,a,C),G=zt(I,l,C),R=zt(B,n,C),q=zt(z,r,C);g.current&&(w.current=U,S.current=W,_.current=G,N.current=R,b.current=q);var Y=C>0?{transition:D,strokeDasharray:$}:{strokeDasharray:M};return x.createElement("path",dd({},St(t,!0),{className:T,d:zw(R,q,U,W,G),ref:g,style:Rw(Rw({},Y),t.style)}))})},S$=["option","shapeType","propTransformer","activeClassName","isActive"];function k$(e,t){if(e==null)return{};var n,r,i=C$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){O$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O$(e,t,n){return(t=E$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A$(e,t){return fd(fd({},t),e)}function M$(e,t){return e==="symbols"}function Bw(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(dP,n);case"trapezoid":return x.createElement(P$,n);case"sector":return x.createElement(mP,n);case"symbols":if(M$(t))return x.createElement(mv,n);break;default:return null}}function L$(e){return x.isValidElement(e)?e.props:e}function D$(e){var{option:t,shapeType:n,propTransformer:r=A$,activeClassName:i="recharts-active-shape",isActive:a}=e,l=k$(e,S$),u;if(x.isValidElement(t))u=x.cloneElement(t,fd(fd({},l),L$(t)));else if(typeof t=="function")u=t(l);else if(_$(t)&&typeof t!="boolean"){var d=r(t,l);u=x.createElement(Bw,{shapeType:n,elementProps:d})}else{var f=l;u=x.createElement(Bw,{shapeType:n,elementProps:f})}return a?x.createElement(Ci,{className:i},u):u}var Qk=(e,t)=>{var n=nt();return(r,i)=>a=>{e==null||e(r,i,a),n(uk({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Jk=e=>{var t=nt();return(n,r)=>i=>{e==null||e(n,r,i),t(Iz())}},eC=(e,t)=>{var n=nt();return(r,i)=>a=>{e==null||e(r,i,a),n(Rz({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function I$(e){var{fn:t,args:n}=e,r=nt(),i=Hn();return x.useEffect(()=>{if(!i){var a=t(n);return r(Mz(a)),()=>{r(Lz(a))}}},[t,n,r,i]),null}var R$=()=>{};function z$(e){var{legendPayload:t}=e,n=nt(),r=Hn();return x.useEffect(()=>r?R$:(n(xD(t)),()=>{n(_D(t))}),[n,r,t]),null}var hm,$$=()=>{var[e]=x.useState(()=>dl("uid-"));return e},B$=(hm=wE.useId)!==null&&hm!==void 0?hm:$$;function F$(e,t){var n=B$();return t||(e?"".concat(e,"-").concat(n):n)}var U$=x.createContext(void 0),H$=e=>{var{id:t,type:n,children:r}=e,i=F$("recharts-".concat(n),t);return x.createElement(U$.Provider,{value:i},r(i))},Z$={cartesianItems:[],polarItems:[]},tC=wn({name:"graphicalItems",initialState:Z$,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=zr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=zr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=zr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:W$,replaceCartesianGraphicalItem:V$,removeCartesianGraphicalItem:K$,addPolarGraphicalItem:BH,removePolarGraphicalItem:FH}=tC.actions,q$=tC.reducer;function G$(e){var t=nt(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(W$(e)):n.current!==e&&t(V$({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(K$(n.current)),n.current=null)},[t]),null}function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(n),!0).forEach(function(r){Y$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y$(e,t,n){return(t=X$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J$={xAxis:{},yAxis:{},zAxis:{}},nC=wn({name:"cartesianAxis",initialState:J$,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=Uw(Uw({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:eB,removeXAxis:tB,addYAxis:nB,removeYAxis:rB,addZAxis:UH,removeZAxis:HH,updateYAxisWidth:iB}=nC.actions,aB=nC.reducer,sB=K([gt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),oB=K([sB,Yr,Xr],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),rC=()=>ue(oB),lB="Invariant failed";function cB(e,t){throw new Error(lB)}var uB=["x","y"];function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jp.apply(null,arguments)}function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){dB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dB(e,t,n){return(t=fB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mB(e,t){if(e==null)return{};var n,r,i=pB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gB(e,t){var{x:n,y:r}=e,i=mB(e,uB),a="".concat(n),l=parseInt(a,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||i.height),h=parseInt(f,10),p="".concat(t.width||i.width),g=parseInt(p,10);return ko(ko(ko(ko(ko({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function Uy(e){return x.createElement(D$,Jp({shapeType:"rectangle",propTransformer:gB,activeClassName:"recharts-active-bar"},e))}var vB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(de(t))return t;var a=de(r)||pt(r);return a?t(r,i):(a||cB(),n)}},yB={},xB=wn({name:"errorBars",initialState:yB,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),_B=xB.reducer,bB=["children"];function wB(e,t){if(e==null)return{};var n,r,i=jB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NB={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},PB=x.createContext(NB);function SB(e){var{children:t}=e,n=wB(e,bB);return x.createElement(PB.Provider,{value:n},t)}function iC(e,t){var n,r,i=ue(f=>Jr(f,e)),a=ue(f=>ei(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:rn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:an.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function kB(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=rC(),{needClipX:a,needClipY:l,needClip:u}=iC(t,n);if(!u)return null;var{x:d,y:f,width:h,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?d:d-h/2,y:l?f:f-p/2,width:a?h:h*2,height:l?p:p*2}))}var CB=["onMouseEnter","onMouseLeave","onClick"],OB=["value","background","tooltipPosition"],EB=["id"],TB=["onMouseEnter","onClick","onMouseLeave"];function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}function Zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(n),!0).forEach(function(r){AB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AB(e,t,n){return(t=MB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MB(e){var t=LB(e,"string");return typeof t=="symbol"?t:t+""}function LB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hd(e,t){if(e==null)return{};var n,r,i=DB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IB=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:nP(n,t),payload:e}]};function RB(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:nP(a,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function zB(e){var t=ue(Ls),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=a,f=hd(a,CB),h=Qk(l,r),p=Jk(u),g=eC(d,r);if(!i||n==null)return null;var y=St(i,!1);return x.createElement(x.Fragment,null,n.map((j,w)=>{var{value:S,background:_,tooltipPosition:N}=j,b=hd(j,OB);if(!_)return null;var k=h(j,w),T=p(j,w),A=g(j,w),O=$t($t($t($t($t({option:i,isActive:String(w)===t},b),{},{fill:"#eee"},_),y),Qd(f,j,w)),{},{onMouseEnter:k,onMouseLeave:T,onClick:A,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(Uy,Oi({key:"background-bar-".concat(O.index)},O))}))}function $B(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return $t($t({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return x.createElement(f$,{value:t?i:void 0},n)}function BB(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=e,u=ue(Ls),d=ue(jk),f=n&&String(a)===u&&(d==null||l===d),h=f?n:t;return x.createElement(Uy,Oi({},r,i,{isActive:f,option:h,index:a,dataKey:l}))}function FB(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(Uy,Oi({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function UB(e){var{data:t,props:n}=e,r=Bs(n),i=hd(r,EB),{shape:a,dataKey:l,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=hd(n,TB),g=Qk(d,l),y=Jk(h),j=eC(f,l);return t?x.createElement(x.Fragment,null,t.map((w,S)=>x.createElement(Ci,Oi({className:"recharts-bar-rectangle"},Qd(p,w,S),{onMouseEnter:g(w,S),onMouseLeave:y(w,S),onClick:j(w,S),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(S)}),u?x.createElement(BB,{shape:a,activeBar:u,baseProps:i,entry:w,index:S,dataKey:l}):x.createElement(FB,{shape:a,baseProps:i,entry:w,index:S,dataKey:l})))):null}function HB(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,p=n.current,g=Uv(t,"recharts-bar-"),[y,j]=x.useState(!1),w=!y,S=x.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),_=x.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return x.createElement($B,{showLabels:w,rects:r},x.createElement(Fv,{animationId:g,begin:l,duration:u,isActive:a,easing:d,onAnimationEnd:S,onAnimationStart:_,key:g},N=>{var b=N===1?r:r==null?void 0:r.map((k,T)=>{var A=p&&p[T];if(A)return $t($t({},k),{},{x:zt(A.x,k.x,N),y:zt(A.y,k.y,N),width:zt(A.width,k.width,N),height:zt(A.height,k.height,N)});if(i==="horizontal"){var O=zt(0,k.height,N);return $t($t({},k),{},{y:k.y+k.height-O,height:O})}var I=zt(0,k.width,N);return $t($t({},k),{},{width:I})});return N>0&&(n.current=b??null),b==null?null:x.createElement(Ci,null,x.createElement(UB,{props:t,data:b}))}),x.createElement(p$,{label:t.label}),t.children)}function ZB(e){var t=x.useRef(null);return x.createElement(HB,{previousRectanglesRef:t,props:e})}var aC=0,WB=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ut(e,t)}};class VB extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var h=De("recharts-bar",i),p=f;return x.createElement(Ci,{className:h,id:f},u&&x.createElement("defs",null,x.createElement(kB,{clipPathId:p,xAxisId:a,yAxisId:l})),x.createElement(Ci,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},x.createElement(zB,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),x.createElement(ZB,this.props)))}}var KB={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Fs.isSsr,legendType:"rect",minPointSize:aC,xAxisId:0,yAxisId:0};function qB(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:p}=iC(t,n),g=$v(),y=Hn(),j=ZM(e.children,Rk),w=ue(N=>wF(N,t,n,y,e.id,j));if(g!=="vertical"&&g!=="horizontal")return null;var S,_=w==null?void 0:w[0];return _==null||_.height==null||_.width==null?S=0:S=g==="vertical"?_.height/2:_.width/2,x.createElement(SB,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:WB,errorBarOffset:S},x.createElement(VB,Oi({},e,{layout:g,needClip:p,data:w,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function GB(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:y,parentViewBox:j}=e,w=t==="horizontal"?u:l,S=h?w.scale.domain():null,_=G4({numericAxis:w});return p.map((N,b)=>{var k,T,A,O,I,B;h?k=H4(h[b],S):(k=Ut(N,n),Array.isArray(k)||(k=[_,k]));var z=vB(r,aC)(k[1],b);if(t==="horizontal"){var M,[$,D]=[u.scale(k[0]),u.scale(k[1])];T=Y_({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:N,index:b}),A=(M=D??$)!==null&&M!==void 0?M:void 0,O=i.size;var C=$-D;if(I=vn(C)?0:C,B={x:T,y:g.top,width:O,height:g.height},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var U=Yt(I||z)*(Math.abs(z)-Math.abs(I));A-=U,I+=U}}else{var[W,G]=[l.scale(k[0]),l.scale(k[1])];if(T=W,A=Y_({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:N,index:b}),O=G-W,I=i.size,B={x:g.left,y:A,width:g.width,height:I},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var R=Yt(O||z)*(Math.abs(z)-Math.abs(O));O+=R}}if(T==null||A==null||O==null||I==null)return null;var q=$t($t({},N),{},{x:T,y:A,width:O,height:I,value:h?k:k[1],payload:N,background:B,tooltipPosition:{x:T+O/2,y:A+I/2},parentViewBox:j},y&&y[b]&&y[b].props);return q}).filter(Boolean)}function YB(e){var t=Zn(e,KB),n=Hn();return x.createElement(H$,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(z$,{legendPayload:IB(t)}),x.createElement(I$,{fn:RB,args:t}),x.createElement(G$,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:q4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(qB,Oi({},t,{id:r}))))}var eg=x.memo(YB);eg.displayName="Bar";function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(r){XB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XB(e,t,n){return(t=QB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eF=(e,t)=>t,tF=(e,t,n)=>n,nF=(e,t,n,r)=>r,rF=(e,t,n,r,i)=>i,Hl=K([jy,rF],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),iF=K([Hl],e=>e==null?void 0:e.maxBarSize),aF=(e,t,n,r,i,a)=>a,Vw=(e,t,n)=>{var r=n??e;if(!pt(r))return sr(r,t,0)},sF=K([ke,jy,eF,tF,nF],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),oF=(e,t,n,r)=>{var i=ke(e);return i==="horizontal"?Kp(e,"yAxis",n,r):Kp(e,"xAxis",t,r)},lF=(e,t,n)=>{var r=ke(e);return r==="horizontal"?cw(e,"xAxis",t):cw(e,"yAxis",n)},cF=(e,t,n)=>{var r={},i=e.filter(kf),a=e.filter(f=>f.stackId==null),l=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(l).map(f=>{var[h,p]=f,g=p.map(j=>j.dataKey),y=Vw(t,n,p[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=a.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=Vw(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...d]},uF=K([sF,TR,lF],cF),dF=(e,t,n,r,i)=>{var a,l,u=Hl(e,t,n,r,i);if(u!=null){var d=ke(e),f=hS(e),{maxBarSize:h}=u,p=pt(h)?f:h,g,y;return d==="horizontal"?(g=Ms(e,"xAxis",t,r),y=As(e,"xAxis",t,r)):(g=Ms(e,"yAxis",n,r),y=As(e,"yAxis",n,r)),(a=(l=Lv(g,y,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},sC=(e,t,n,r)=>{var i=ke(e),a,l;return i==="horizontal"?(a=Ms(e,"xAxis",t,r),l=As(e,"xAxis",t,r)):(a=Ms(e,"yAxis",n,r),l=As(e,"yAxis",n,r)),Lv(a,l)};function fF(e,t,n,r,i){var a=r.length;if(!(a<1)){var l=sr(e,n,0,!0),u,d=[];if(xn(r[0].barSize)){var f=!1,h=n/a,p=r.reduce((_,N)=>_+(N.barSize||0),0);p+=(a-1)*l,p>=n&&(p-=(a-1)*l,l=0),p>=n&&h>0&&(f=!0,h*=.9,p=a*h);var g=(n-p)/2>>0,y={offset:g-l,size:0};u=r.reduce((_,N)=>{var b,k={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:y.offset+y.size+l,size:f?h:(b=N.barSize)!==null&&b!==void 0?b:0}},T=[..._,k];return y=T[T.length-1].position,T},d)}else{var j=sr(t,n,0,!0);n-2*j-(a-1)*l<=0&&(l=0);var w=(n-2*j-(a-1)*l)/a;w>1&&(w>>=0);var S=xn(i)?Math.min(w,i):w;u=r.reduce((_,N,b)=>[..._,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:j+(w+l)*b+(w-S)/2,size:S}}],d)}return u}}var hF=(e,t,n,r,i,a,l)=>{var u=pt(l)?t:l,d=fF(n,r,i!==a?i:a,e,u);return i!==a&&d!=null&&(d=d.map(f=>Uc(Uc({},f),{},{position:Uc(Uc({},f.position),{},{offset:f.position.offset-i/2})}))),d},mF=K([uF,hS,ER,mS,dF,sC,iF],hF),pF=(e,t,n,r)=>Ms(e,"xAxis",t,r),gF=(e,t,n,r)=>Ms(e,"yAxis",n,r),vF=(e,t,n,r)=>As(e,"xAxis",t,r),yF=(e,t,n,r)=>As(e,"yAxis",n,r),xF=K([mF,Hl],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),_F=(e,t)=>{var n=by(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},bF=K([oF,Hl],_F),wF=K([gt,Dv,pF,gF,vF,yF,xF,ke,fy,sC,bF,Hl,aF],(e,t,n,r,i,a,l,u,d,f,h,p,g)=>{var{chartData:y,dataStartIndex:j,dataEndIndex:w}=d;if(!(p==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:S}=p,_;if(S!=null&&S.length>0?_=S:_=y==null?void 0:y.slice(j,w+1),_!=null)return GB({layout:u,barSettings:p,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:_,offset:e,cells:g})}}),jF=e=>{var{chartData:t}=e,n=nt(),r=Hn();return x.useEffect(()=>r?()=>{}:(n(yw(t)),()=>{n(yw(void 0))}),[t,n,r]),null},Kw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NF=wn({name:"brush",initialState:Kw,reducers:{setBrushSettings(e,t){return t.payload==null?Kw:t.payload}}}),PF=NF.reducer;function SF(e,t,n){return(t=kF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hy{static create(t){return new Hy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}SF(Hy,"EPS",1e-4);function OF(e){return(e%180+180)%180}var EF=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=OF(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},TF={dots:[],areas:[],lines:[]},AF=wn({name:"referenceElements",initialState:TF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=zr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=zr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=zr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),MF=AF.reducer,LF=x.createContext(void 0),DF=e=>{var{children:t}=e,[n]=x.useState("".concat(dl("recharts"),"-clip")),r=rC();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return x.createElement(LF.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function Ds(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function oC(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function IF(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return EF(r,n)}function RF(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function md(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function zF(e,t){return oC(e,t+1)}function $F(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,p=function(){var j=r==null?void 0:r[d];if(j===void 0)return{v:oC(r,f)};var w=d,S,_=()=>(S===void 0&&(S=n(j,w)),S),N=j.coordinate,b=d===0||md(e,N,_,h,u);b||(d=0,h=l,f+=1),b&&(h=N+e*(_()/2+i),d+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){BF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BF(e,t,n){return(t=FF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HF(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:d}=t,f=function(g){var y=a[g],j,w=()=>(j===void 0&&(j=n(y,g)),j);if(g===l-1){var S=e*(y.coordinate+e*w()/2-d);a[g]=y=Tt(Tt({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[g]=y=Tt(Tt({},y),{},{tickCoord:y.coordinate});var _=md(e,y.tickCoord,w,u,d);_&&(d=y.tickCoord-e*(w()/2+i),a[g]=Tt(Tt({},y),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return a}function ZF(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(a){var h=r[u-1],p=n(h,u-1),g=e*(h.coordinate+e*p/2-f);l[u-1]=h=Tt(Tt({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=md(e,h.tickCoord,()=>p,d,f);y&&(f=h.tickCoord-e*(p/2+i),l[u-1]=Tt(Tt({},h),{},{isShow:!0}))}for(var j=a?u-1:u,w=function(N){var b=l[N],k,T=()=>(k===void 0&&(k=n(b,N)),k);if(N===0){var A=e*(b.coordinate-e*T()/2-d);l[N]=b=Tt(Tt({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else l[N]=b=Tt(Tt({},b),{},{tickCoord:b.coordinate});var O=md(e,b.tickCoord,T,d,f);O&&(d=b.tickCoord+e*(T()/2+i),l[N]=Tt(Tt({},b),{},{isShow:!0}))},S=0;S<j;S++)w(S);return l}function Zy(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(de(d)||Fs.isSsr){var g;return(g=zF(i,de(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],j=u==="top"||u==="bottom"?"width":"height",w=h&&j==="width"?Wo(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(b,k)=>{var T=typeof f=="function"?f(b.value,k):b.value;return j==="width"?IF(Wo(T,{fontSize:t,letterSpacing:n}),w,p):Wo(T,{fontSize:t,letterSpacing:n})[j]},_=i.length>=2?Yt(i[1].coordinate-i[0].coordinate):1,N=RF(a,_,j);return d==="equidistantPreserveStart"?$F(_,N,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?y=ZF(_,N,S,i,l,d==="preserveStartEnd"):y=HF(_,N,S,i,l),y.filter(b=>b.isShow))}var WF=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+u+(n?r:0);return Math.round(f)}return 0},VF=["axisLine","width","height","className","hide","ticks"],KF=["viewBox"],qF=["viewBox"];function tg(e,t){if(e==null)return{};var n,r,i=GF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(null,arguments)}function Gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(n),!0).forEach(function(r){YF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YF(e,t,n){return(t=XF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XF(e){var t=QF(e,"string");return typeof t=="symbol"?t:t+""}function QF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wy={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function JF(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=at(at(at({},d),St(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);f=at(at({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);f=at(at({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return x.createElement("line",wa({},f,{className:De("recharts-cartesian-axis-line",js(u,"className"))}))}function e9(e,t,n,r,i,a,l,u,d){var f,h,p,g,y,j,w=u?-1:1,S=e.tickSize||l,_=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,g=n+ +!u*i,p=g-w*S,j=p-w*d,y=_;break;case"left":p=g=e.coordinate,h=t+ +!u*r,f=h-w*S,y=f-w*d,j=_;break;case"right":p=g=e.coordinate,h=t+ +u*r,f=h+w*S,y=f+w*d,j=_;break;default:f=h=e.coordinate,g=n+ +u*i,p=g+w*S,j=p+w*d,y=_;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:y,y:j}}}function t9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function n9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function r9(e){var{option:t,tickProps:n,value:r}=e,i,a=De(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,at(at({},n),{},{className:a}));else if(typeof t=="function")i=t(at(at({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=De(l,t==null?void 0:t.className)),i=x.createElement(By,wa({},n,{className:l}),r)}return i}function i9(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:h,x:p,y:g,width:y,height:j,tickSize:w,tickMargin:S,fontSize:_,letterSpacing:N,getTicksConfig:b,events:k}=e,T=Zy(at(at({},b),{},{ticks:t}),_,N),A=t9(f,h),O=n9(f,h),I=Bs(b),B=St(n,!1),z=at(at({},I),{},{fill:"none"},St(r,!1)),M=T.map(($,D)=>{var{line:C,tick:U}=e9($,p,g,y,j,f,w,h,S),W=at(at(at(at({textAnchor:A,verticalAnchor:O},I),{},{stroke:"none",fill:i},B),U),{},{index:D,payload:$,visibleTicksCount:T.length,tickFormatter:a,padding:u},d);return x.createElement(Ci,wa({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Qd(k,$,D)),r&&x.createElement("line",wa({},z,C,{className:De("recharts-cartesian-axis-tick-line",js(r,"className"))})),n&&x.createElement(r9,{option:n,tickProps:W,value:"".concat(typeof a=="function"?a($.value,D):$.value).concat(l||"")}))});return M.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},M):null}var a9=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u}=e,d=tg(e,VF),[f,h]=x.useState(""),[p,g]=x.useState(""),y=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return WF({ticks:y.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=x.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=Array.from(S);var _=S[0];if(_){var N=window.getComputedStyle(_),b=N.fontSize,k=N.letterSpacing;(b!==f||k!==p)&&(h(b),g(k))}}},[f,p]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Ci,{className:De("recharts-cartesian-axis",a),ref:j},x.createElement(JF,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Bs(e)}),x.createElement(i9,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:d}),x.createElement(G7,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(a$,{label:e.label}),e.children))}),s9=x.memo(a9,(e,t)=>{var{viewBox:n}=e,r=tg(e,KF),{viewBox:i}=t,a=tg(t,qF);return Ds(n,i)&&Ds(r,a)}),Vy=x.forwardRef((e,t)=>{var n=Zn(e,Wy);return x.createElement(s9,wa({},n,{ref:t}))});Vy.displayName="CartesianAxis";var o9=["x1","y1","x2","y2","key"],l9=["offset"],c9=["xAxisId","yAxisId"],u9=["xAxisId","yAxisId"];function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(r){d9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d9(e,t,n){return(t=f9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(null,arguments)}function pd(e,t){if(e==null)return{};var n,r,i=m9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return x.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lC(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:l,key:u}=t,d=pd(t,o9),f=Bs(d),h=pd(f,l9);n=x.createElement("line",ia({},h,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function g9(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=pd(e,c9),l=i.map((u,d)=>{var f=Mt(Mt({},a),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return lC(r,f)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function v9(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=pd(e,u9),l=i.map((u,d)=>{var f=Mt(Mt({},a),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return lC(r,f)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function y9(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var y=!f[g+1],j=y?i+l-p:f[g+1]-p;if(j<=0)return null;var w=g%t.length;return x.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:j,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function x9(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var y=!f[g+1],j=y?i+l-p:f[g+1]-p;if(j<=0)return null;var w=g%n.length;return x.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:j,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var _9=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return eP(Zy(Mt(Mt(Mt({},Wy),n),{},{ticks:tP(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},b9=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return eP(Zy(Mt(Mt(Mt({},Wy),n),{},{ticks:tP(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},w9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function cC(e){var t=Rv(),n=zv(),r=iP(),i=Mt(Mt({},Zn(e,w9)),{},{x:de(e.x)?e.x:r.left,y:de(e.y)?e.y:r.top,width:de(e.width)?e.width:r.width,height:de(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:y}=i,j=Hn(),w=ue(B=>uw(B,"xAxis",a,j)),S=ue(B=>uw(B,"yAxis",l,j));if(!de(f)||f<=0||!de(h)||h<=0||!de(u)||u!==+u||!de(d)||d!==+d)return null;var _=i.verticalCoordinatesGenerator||_9,N=i.horizontalCoordinatesGenerator||b9,{horizontalPoints:b,verticalPoints:k}=i;if((!b||!b.length)&&typeof N=="function"){var T=g&&g.length,A=N({yAxis:S?Mt(Mt({},S),{},{ticks:T?g:S.ticks}):void 0,width:t,height:n,offset:r},T?!0:p);Zo(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(b=A)}if((!k||!k.length)&&typeof _=="function"){var O=y&&y.length,I=_({xAxis:w?Mt(Mt({},w),{},{ticks:O?y:w.ticks}):void 0,width:t,height:n,offset:r},O?!0:p);Zo(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(k=I)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(p9,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(y9,ia({},i,{horizontalPoints:b})),x.createElement(x9,ia({},i,{verticalPoints:k})),x.createElement(g9,ia({},i,{offset:r,horizontalPoints:b,xAxis:w,yAxis:S})),x.createElement(v9,ia({},i,{offset:r,verticalPoints:k,xAxis:w,yAxis:S})))}cC.displayName="CartesianGrid";var j9=["dangerouslySetInnerHTML","ticks"],N9=["id"],P9=["domain"],S9=["domain"];function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ng.apply(null,arguments)}function gd(e,t){if(e==null)return{};var n,r,i=k9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C9(e){var t=nt();return x.useEffect(()=>(t(eB(e)),()=>{t(tB(e))}),[e,t]),null}var O9=e=>{var{xAxisId:t,className:n}=e,r=ue(Dv),i=Hn(),a="xAxis",l=ue(y=>Ks(y,a,t,i)),u=ue(y=>ik(y,a,t,i)),d=ue(y=>ek(y,t)),f=ue(y=>jz(y,t)),h=ue(y=>jS(y,t));if(d==null||f==null||h==null)return null;var p=gd(e,j9),g=gd(h,N9);return x.createElement(Vy,ng({},p,g,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:De("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},E9={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,height:rn.height,hide:!1,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tickCount:rn.tickCount,type:rn.type,xAxisId:0},T9=e=>{var t,n,r,i,a,l=Zn(e,E9);return x.createElement(x.Fragment,null,x.createElement(C9,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),x.createElement(O9,l))},A9=(e,t)=>{var{domain:n}=e,r=gd(e,P9),{domain:i}=t,a=gd(t,S9);return Ds(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ds({domain:n},{domain:i}):!1},uC=x.memo(T9,A9);uC.displayName="XAxis";var M9=["dangerouslySetInnerHTML","ticks"],L9=["id"],D9=["domain"],I9=["domain"];function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(null,arguments)}function vd(e,t){if(e==null)return{};var n,r,i=R9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z9(e){var t=nt();return x.useEffect(()=>(t(nB(e)),()=>{t(rB(e))}),[e,t]),null}var $9=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),l=x.useRef(null),u=ue(Dv),d=Hn(),f=nt(),h="yAxis",p=ue(N=>Ks(N,h,t,d)),g=ue(N=>tk(N,t)),y=ue(N=>Pz(N,t)),j=ue(N=>ik(N,h,t,d)),w=ue(N=>NS(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!g||Fy(i)||x.isValidElement(i)||w==null)){var N=a.current;if(N){var b=N.getCalculatedWidth();Math.round(g.width)!==Math.round(b)&&f(iB({id:t,width:b}))}}},[j,g,f,i,t,r,w]),g==null||y==null||w==null)return null;var S=vd(e,M9),_=vd(w,L9);return x.createElement(Vy,rg({},S,_,{ref:a,labelRef:l,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:De("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:j}))},B9={allowDataOverflow:an.allowDataOverflow,allowDecimals:an.allowDecimals,allowDuplicatedCategory:an.allowDuplicatedCategory,hide:!1,mirror:an.mirror,orientation:an.orientation,padding:an.padding,reversed:an.reversed,scale:an.scale,tickCount:an.tickCount,type:an.type,width:an.width,yAxisId:0},F9=e=>{var t,n,r,i,a,l=Zn(e,B9);return x.createElement(x.Fragment,null,x.createElement(z9,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),x.createElement($9,l))},U9=(e,t)=>{var{domain:n}=e,r=vd(e,D9),{domain:i}=t,a=vd(t,I9);return Ds(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ds({domain:n},{domain:i}):!1},dC=x.memo(F9,U9);dC.displayName="YAxis";var H9={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=x;function Z9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W9=typeof Object.is=="function"?Object.is:Z9,V9=Zl.useSyncExternalStore,K9=Zl.useRef,q9=Zl.useEffect,G9=Zl.useMemo,Y9=Zl.useDebugValue;H9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=K9(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=G9(function(){function d(y){if(!f){if(f=!0,h=y,y=r(y),i!==void 0&&l.hasValue){var j=l.value;if(i(j,y))return p=j}return p=y}if(j=p,W9(h,y))return j;var w=r(y);return i!==void 0&&i(j,w)?(h=y,j):(h=y,p=w)}var f=!1,h,p,g=n===void 0?null:n;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,n,r,i]);var u=V9(e,a[0],a[1]);return q9(function(){l.hasValue=!0,l.value=u},[u]),Y9(u),u};function X9(e){e()}function Q9(){let e=null,t=null;return{clear(){e=null,t=null},notify(){X9(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Xw={notify(){},get:()=>[]};function J9(e,t){let n,r=Xw,i=0,a=!1;function l(w){h();const S=r.subscribe(w);let _=!1;return()=>{_||(_=!0,S(),p())}}function u(){r.notify()}function d(){j.onStateChange&&j.onStateChange()}function f(){return a}function h(){i++,n||(n=e.subscribe(d),r=Q9())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Xw)}function g(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const j={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return j}var eU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tU=eU(),nU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rU=nU(),iU=()=>tU||rU?x.useLayoutEffect:x.useEffect,aU=iU(),mm=Symbol.for("react-redux-context"),pm=typeof globalThis<"u"?globalThis:{};function sU(){if(!x.createContext)return{};const e=pm[mm]??(pm[mm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var oU=sU();function lU(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const d=J9(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);aU(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||oU;return x.createElement(u.Provider,{value:a},t)}var cU=lU,uU=(e,t)=>t,Ky=K([uU,ke,_S,ct,xk,ti,O8,gt],L8),qy=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},fC=Bn("mouseClick"),hC=Tl();hC.startListening({actionCreator:fC,effect:(e,t)=>{var n=e.payload,r=Ky(t.getState(),qy(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(zz({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ig=Bn("mouseMove"),mC=Tl();mC.startListening({actionCreator:ig,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Ty(r,r.tooltip.settings.shared),a=Ky(r,qy(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(fk({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(dk()))}});var Qw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},pC=wn({name:"rootProps",initialState:Qw,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:Qw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),dU=pC.reducer,{updateOptions:fU}=pC.actions,hU=wn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),mU=hU.reducer,gC=Bn("keyDown"),vC=Bn("focus"),Gy=Tl();Gy.startListening({actionCreator:gC,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(Ay(i,Gs(n))),u=ti(n);if(a==="Enter"){var d=cd(n,"axis","hover",String(i.index));t.dispatch(Gp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=Oz(n),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,g=l+p*h;if(!(u==null||g>=u.length||g<0)){var y=cd(n,"axis","hover",String(g));t.dispatch(Gp({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});Gy.startListening({actionCreator:vC,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=cd(n,"axis","hover",String(a));t.dispatch(Gp({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var On=Bn("externalEvent"),yC=Tl();yC.startListening({actionCreator:On,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:_8(n),activeDataKey:jk(n),activeIndex:Ls(n),activeLabel:wk(n),activeTooltipIndex:Ls(n),isTooltipActive:b8(n)};e.payload.handler(r,e.payload.reactEvent)}}});var pU=K([qs],e=>e.tooltipItemPayloads),gU=K([pU,Fl,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),xC=Bn("touchMove"),_C=Tl();_C.startListening({actionCreator:xC,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Ty(r,r.tooltip.settings.shared);if(i==="axis"){var a=Ky(r,qy({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(fk({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(rD),h=(l=d.getAttribute(iD))!==null&&l!==void 0?l:void 0,p=gU(t.getState(),f,h);t.dispatch(uk({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var vU=EN({brush:PF,cartesianAxis:aB,chartData:Y8,errorBars:_B,graphicalItems:q$,layout:S4,legend:bD,options:W8,polarAxis:y$,polarOptions:mU,referenceElements:MF,rootProps:dU,tooltip:$z}),yU=function(t){return X3({reducer:vU,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([hC.middleware,mC.middleware,Gy.middleware,yC.middleware,_C.middleware]),devTools:Fs.devToolsEnabled})};function xU(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Hn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=yU(t));var l=Sv;return x.createElement(cU,{context:l,store:a.current},n)}function _U(e){var{layout:t,width:n,height:r,margin:i}=e,a=nt(),l=Hn();return x.useEffect(()=>{l||(a(j4(t)),a(N4({width:n,height:r})),a(w4(i)))},[a,l,t,n,r,i]),null}function bU(e){var t=nt();return x.useEffect(()=>{t(fU(e))},[t,e]),null}var wU=["children"];function jU(e,t){if(e==null)return{};var n,r,i=NU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(null,arguments)}var PU={width:"100%",height:"100%"},SU=x.forwardRef((e,t)=>{var n=Rv(),r=zv(),i=sP();if(!Ku(n)||!Ku(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=e,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0,x.createElement(uv,yd({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:PU,ref:t}),a)}),kU=e=>{var{children:t}=e,n=ue(mf);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return x.createElement(uv,{width:r,height:i,x:l,y:a},t)},Jw=x.forwardRef((e,t)=>{var{children:n}=e,r=jU(e,wU),i=Hn();return i?x.createElement(kU,null,n):x.createElement(SU,yd({ref:t},r),n)});function CU(){var e=nt(),[t,n]=x.useState(null),r=ue(nD);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;xn(a)&&a!==r&&e(P4(a))}},[t,e,r]),n}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){EU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EU(e,t,n){return(t=TU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MU=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:j,onTouchStart:w,style:S,width:_}=e,N=nt(),[b,k]=x.useState(null),[T,A]=x.useState(null);a7();var O=CU(),I=x.useCallback(te=>{O(te),typeof t=="function"&&t(te),k(te),A(te)},[O,t,k,A]),B=x.useCallback(te=>{N(fC(te)),N(On({handler:a,reactEvent:te}))},[N,a]),z=x.useCallback(te=>{N(ig(te)),N(On({handler:f,reactEvent:te}))},[N,f]),M=x.useCallback(te=>{N(dk()),N(On({handler:h,reactEvent:te}))},[N,h]),$=x.useCallback(te=>{N(ig(te)),N(On({handler:p,reactEvent:te}))},[N,p]),D=x.useCallback(()=>{N(vC())},[N]),C=x.useCallback(te=>{N(gC(te.key))},[N]),U=x.useCallback(te=>{N(On({handler:l,reactEvent:te}))},[N,l]),W=x.useCallback(te=>{N(On({handler:u,reactEvent:te}))},[N,u]),G=x.useCallback(te=>{N(On({handler:d,reactEvent:te}))},[N,d]),R=x.useCallback(te=>{N(On({handler:g,reactEvent:te}))},[N,g]),q=x.useCallback(te=>{N(On({handler:w,reactEvent:te}))},[N,w]),Y=x.useCallback(te=>{N(xC(te)),N(On({handler:j,reactEvent:te}))},[N,j]),le=x.useCallback(te=>{N(On({handler:y,reactEvent:te}))},[N,y]);return x.createElement(Ok.Provider,{value:b},x.createElement(I2.Provider,{value:T},x.createElement("div",{className:De("recharts-wrapper",r),style:OU({position:"relative",cursor:"default",width:_,height:i},S),onClick:B,onContextMenu:U,onDoubleClick:W,onFocus:D,onKeyDown:C,onMouseDown:G,onMouseEnter:z,onMouseLeave:M,onMouseMove:$,onMouseUp:R,onTouchEnd:le,onTouchMove:Y,onTouchStart:q,ref:I},n)))}),LU=["children","className","width","height","style","compact","title","desc"];function DU(e,t){if(e==null)return{};var n,r,i=IU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RU=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:l,compact:u,title:d,desc:f}=e,h=DU(e,LU),p=Bs(h);return u?x.createElement(Jw,{otherAttributes:p,title:d,desc:f},n):x.createElement(MU,{className:r,style:l,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(Jw,{otherAttributes:p,title:d,desc:f,ref:t},x.createElement(DF,null,n)))}),zU=["width","height"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(null,arguments)}function $U(e,t){if(e==null)return{};var n,r,i=BU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FU={top:5,right:5,bottom:5,left:5},UU={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:FU,reverseStackOrder:!1,syncMethod:"index"},HU=x.forwardRef(function(t,n){var r,i=Zn(t.categoricalChartProps,UU),{width:a,height:l}=i,u=$U(i,zU);if(!Ku(a)||!Ku(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:g}=t,y={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(xU,{preloadedState:{options:y},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:d},x.createElement(jF,{chartData:g.data}),x.createElement(_U,{width:a,height:l,layout:i.layout,margin:i.margin}),x.createElement(bU,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(RU,ag({},u,{width:a,height:l,ref:n})))}),ZU=["axis","item"],WU=x.forwardRef((e,t)=>x.createElement(HU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ZU,tooltipPayloadSearcher:H8,categoricalChartProps:e,ref:t}));const VU=({patients:e})=>{const t=x.useMemo(()=>{const r=e.length,i=e.filter(u=>!!u.patient_categories.critical).length,a=e.filter(u=>!!u.patient_categories.elderly).length,l=e.filter(u=>!!u.patient_categories.pregnant).length;return[{group:"Critical",Yes:i,No:Math.max(r-i,0)},{group:"Elderly",Yes:a,No:Math.max(r-a,0)},{group:"Pregnant",Yes:l,No:Math.max(r-l,0)}]},[e]),n=e.length;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Patient Categories Overview"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Total Patients: ",n]})]}),o.jsx("div",{className:"h-72",children:t.length===0?o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 text-sm",children:"No data"}):o.jsx(x7,{width:"100%",height:"100%",children:o.jsxs(WU,{data:t,margin:{top:10,right:20,left:0,bottom:0},children:[o.jsx(cC,{strokeDasharray:"3 3"}),o.jsx(uC,{dataKey:"group",tick:{fontSize:12}}),o.jsx(dC,{allowDecimals:!1,tick:{fontSize:12}}),o.jsx(h7,{}),o.jsx(pf,{}),o.jsx(eg,{dataKey:"Yes",name:"Yes",radius:[4,4,0,0],fill:"#2563eb"}),o.jsx(eg,{dataKey:"No",name:"No",radius:[4,4,0,0],fill:"#cbd5e1"})]})})})]})},KU=()=>{const e=(n,r)=>{try{const i=localStorage.getItem(n);if(!i){alert(`No data found for ${n}`);return}const a=JSON.parse(i),l=`export const ${n.replace("dummy","").toLowerCase()} = ${JSON.stringify(a,null,2)};`,u=new Blob([l],{type:"text/javascript"}),d=URL.createObjectURL(u),f=document.createElement("a");f.href=d,f.download=r,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}catch(i){console.error("Error exporting data:",i),alert("Error exporting data")}},t=()=>{try{const n=localStorage.getItem("dummyMessages"),r=localStorage.getItem("dummyPatientProfiles"),i=localStorage.getItem("dummyTasks"),a=localStorage.getItem("dummyAnnouncements"),l=localStorage.getItem("dummyUsers"),u=localStorage.getItem("dummyDailyRecords"),d={dummyMessages:n?JSON.parse(n):[],dummyPatientProfiles:r?JSON.parse(r):[],dummyTasks:i?JSON.parse(i):[],dummyAnnouncements:a?JSON.parse(a):[],dummyUsers:l?JSON.parse(l):[],dummyDailyRecords:u?JSON.parse(u):[]},f=`export interface DummyUser {
  id: string;
  email: string;
  password: string;
  full_name: string;
  role: 'doctor' | 'patient' | 'volunteer';
  created_at: string;
}

export interface DummyPatientProfile {
  id: string;
  user_id: string;
  // Basic Information
  name: string;
  doe: string;
  gender: 'male' | 'female' | 'other';
  address: string;
  caregivers_contact: string;
  assigned_doctor: string;
  last_record_date: string;
  today_date: string;
  assigned_vhv_name: string;
  medical_record_number: string;
  
  // Medical Information
  patient_categories: {
    critical: boolean;
    elderly: boolean;
    pregnant: boolean;
  };
  personal_health_history: string;
  doctor_diagnosed: string;
  medications_history: string;
  food_allergies: string;
  medication_allergies: string;
  height: string;
  weight: string;
  bmi: string;
  temperature: string;
  pulse: string;
  blood_pressure: string;
  diabetes: string;
  mental_health_status: string;
  other_symptoms: string;
  pregnancy_details: string;
  smoker: boolean;
  doctors_note: string;
  
  created_by: string;
  created_at: string;
  updated_at: string;
}

export interface DummyMessage {
  id: string;
  sender_id: string;
  recipient_id: string;
  subject: string;
  content: string;
  image_url?: string;
  image_name?: string;
  is_read: boolean;
  created_at: string;
}

export interface DummyTask {
  id: string;
  title: string;
  description: string;
  priority: 'low' | 'medium' | 'high' | 'urgent';
  status: 'pending' | 'in_progress' | 'completed' | 'cancelled';
  assigned_to: string;
  assigned_by: string;
  patient_id?: string;
  due_date?: string;
  created_at: string;
  updated_at: string;
  completed_at?: string;
}

export interface DummyAnnouncement {
  id: string;
  title: string;
  content: string;
  priority: 'low' | 'medium' | 'high' | 'urgent';
  created_by: string;
  created_at: string;
  updated_at: string;
}

export interface DummyDailyRecord {
  id: string;
  patient_id: string;
  recorded_by: string;
  record_date: string;
  
  // Vital Signs
  temperature?: string;
  pulse?: string;
  blood_pressure?: string;
  weight?: string;
  blood_sugar?: string;
  oxygen_saturation?: string;
  
  // Symptoms
  pain_level?: number;
  fatigue_level?: number;
  mood?: 'excellent' | 'good' | 'fair' | 'poor' | 'very_poor';
  appetite?: 'excellent' | 'good' | 'fair' | 'poor' | 'very_poor';
  sleep_quality?: 'excellent' | 'good' | 'fair' | 'poor' | 'very_poor';
  
  // Additional Information
  symptoms_description?: string;
  medications_taken?: string;
  activities?: string;
  notes?: string;
  
  created_at: string;
  updated_at: string;
}

// Dummy Users
export const dummyUsers: DummyUser[] = ${JSON.stringify(d.dummyUsers,null,2)};

// Dummy Patient Profiles
export const dummyPatientProfiles: DummyPatientProfile[] = ${JSON.stringify(d.dummyPatientProfiles,null,2)};

// Dummy Tasks
export const dummyTasks: DummyTask[] = ${JSON.stringify(d.dummyTasks,null,2)};

// Dummy Messages
export const dummyMessages: DummyMessage[] = ${JSON.stringify(d.dummyMessages,null,2)};

// Dummy Announcements
export const dummyAnnouncements: DummyAnnouncement[] = ${JSON.stringify(d.dummyAnnouncements,null,2)};

// Dummy Daily Records
export const dummyDailyRecords: DummyDailyRecord[] = ${JSON.stringify(d.dummyDailyRecords,null,2)};

// Helper functions to simulate database operations
export const generateId = () => {
  return 'id-' + Math.random().toString(36).substr(2, 9);
};

export const getCurrentTimestamp = () => {
  return new Date().toISOString();
};`,h=new Blob([f],{type:"text/javascript"}),p=URL.createObjectURL(h),g=document.createElement("a");g.href=p,g.download="dummyData.ts",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p),alert("Complete dummyData.ts file downloaded! Replace the existing file in src/data/ with this updated version.")}catch(n){console.error("Error exporting all data:",n),alert("Error exporting data")}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(JA,{className:"w-5 h-5"}),o.jsx("span",{children:"Export Data to Files"})]}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Download updated dummy data files with all your changes. Replace the original files in your project."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:t,className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2 transition-colors",children:[o.jsx(Ba,{className:"w-5 h-5"}),o.jsx("span",{children:"Download Complete dummyData.ts"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>e("dummyMessages","messages.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[o.jsx(Ba,{className:"w-4 h-4"}),o.jsx("span",{children:"Messages"})]}),o.jsxs("button",{onClick:()=>e("dummyPatientProfiles","patients.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[o.jsx(Ba,{className:"w-4 h-4"}),o.jsx("span",{children:"Patients"})]}),o.jsxs("button",{onClick:()=>e("dummyTasks","tasks.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[o.jsx(Ba,{className:"w-4 h-4"}),o.jsx("span",{children:"Tasks"})]}),o.jsxs("button",{onClick:()=>e("dummyAnnouncements","announcements.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[o.jsx(Ba,{className:"w-4 h-4"}),o.jsx("span",{children:"Announcements"})]}),o.jsxs("button",{onClick:()=>e("dummyDailyRecords","daily-records.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[o.jsx(Ba,{className:"w-4 h-4"}),o.jsx("span",{children:"Daily Records"})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("p",{className:"text-yellow-800 text-xs",children:[o.jsx("strong",{children:"Note:"})," After downloading, manually replace the files in your project's src/data/ folder to make the changes permanent."]})})]})},Ua=()=>{const{user:e}=$e(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,g]=x.useState(null),[y,j]=x.useState(!1),w=async()=>{if(e!=null&&e.id)try{const{data:C,error:U}=await Cl(e.id);U?console.error("Error fetching patient profile:",U):g(C)}catch(C){console.error("Error fetching patient profile:",C)}},S=async()=>{if(!p){alert("Patient profile not found. Please contact emergency services directly.");return}j(!0);try{const{data:C,error:U}=await Gr();if(U||!C)throw new Error("Unable to find healthcare providers");const W=C.filter(q=>q.role==="doctor"||q.role==="volunteer");if(W.length===0)throw new Error("No healthcare providers available");const G=` EMERGENCY - Immediate Assistance Needed

Patient: ${p.full_name}
Medical Record: ${p.medical_record_number}
Phone: ${p.phone_number}
Address: ${p.address}

Medical Conditions:
- Critical: ${p.patient_categories.critical?"Yes":"No"}
- Elderly: ${p.patient_categories.elderly?"Yes":"No"}
- Pregnant: ${p.patient_categories.pregnant?"Yes":"No"}
- Chronic Disease: ${p.patient_categories.chronic_disease?"Yes":"No"}
- Disability: ${p.patient_categories.disability?"Yes":"No"}

Emergency Contact: ${p.emergency_contact_name} - ${p.emergency_contact_phone}

This is an urgent request for immediate medical assistance. Please respond as soon as possible.`,R=W.map(q=>zd({sender_id:e.id,recipient_id:q.id,content:G,subject:" EMERGENCY - Immediate Assistance Needed",priority:"urgent"}));await Promise.all(R),alert(`Emergency message sent successfully to ${W.length} healthcare provider(s). They will be notified immediately.`)}catch(C){console.error("Error sending emergency message:",C),alert("Failed to send emergency message. Please call emergency services directly or try again.")}finally{j(!1)}};x.useEffect(()=>{_(),(e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer"?N():(e==null?void 0:e.role)==="patient"&&w()},[]);const _=async()=>{try{const{data:C,error:U}=await xM();U?console.error("Error fetching announcements:",U):n(C||[])}catch(C){console.error("Error fetching announcements:",C)}finally{l(!1)}},N=async()=>{try{const{data:C,error:U}=await tn();U?console.error("Error fetching patients:",U):i(C||[])}catch(C){console.error("Error fetching patients:",C)}finally{l(!1)}},b=C=>{h(C),d(!0)},k=async C=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{const{error:U}=await wM(C);U?console.error("Error deleting announcement:",U):_()}catch(U){console.error("Error deleting announcement:",U)}},T=()=>{d(!1),h(null)},A=()=>{_()},O=()=>{switch(e==null?void 0:e.role){case"doctor":return"Welcome to your medical dashboard. Manage patient records and communications.";case"volunteer":return"Welcome to your volunteer dashboard. Help manage patient information and provide support.";case"patient":return"Welcome to your patient portal. View your medical information and communicate with your healthcare team.";default:return"Welcome to MedConnect Portal."}},I=()=>{const C=r.filter(R=>R.patient_categories.critical).length,U=r.filter(R=>R.patient_categories.elderly).length,W=r.filter(R=>R.patient_categories.pregnant).length,G=r.length;return{critical:C,elderly:U,pregnant:W,total:G}},z=(()=>{switch(e==null?void 0:e.role){case"doctor":case"volunteer":return[{icon:xo,title:"Patient Management",description:"View and manage patient profiles",action:"patients"},{icon:ds,title:"Messages",description:"Communicate with patients and colleagues",action:"messages"},{icon:mi,title:"Create Profile",description:"Add new patient information",action:"create-patient"},{icon:us,title:"Task Management",description:"Create and manage tasks",action:"tasks"},{icon:ya,title:"Daily Records",description:"View patient daily records and symptoms",action:"records"},{icon:iv,title:"Geographic Map",description:"View location-based information",action:"map"}];case"patient":return[{icon:mi,title:"My Profile",description:"View your medical information",action:"profile"},{icon:ya,title:"Daily Records",description:"Track your daily symptoms and vital signs",action:"records"},{icon:ds,title:"Messages",description:"Communicate with your healthcare team",action:"messages"},{icon:pi,title:"Health Resources",description:"Access helpful health information",action:"resources"},{icon:ds,title:"Appointments",description:"View and request appointments",action:"appointments"}];default:return[]}})(),M=I(),$=C=>{switch(C){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=C=>{switch(C){case"urgent":return o.jsx(Mr,{className:"w-4 h-4"});case"high":return o.jsx(Mr,{className:"w-4 h-4"});default:return o.jsx(tu,{className:"w-4 h-4"})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Good ",new Date().getHours()<12?"morning":new Date().getHours()<17?"afternoon":"evening",", ",e==null?void 0:e.full_name]}),o.jsx("p",{className:"text-gray-600",children:O()})]}),(e==null?void 0:e.role)==="doctor"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:o.jsx(xo,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total}),o.jsx("p",{className:"text-sm text-gray-600",children:"Total Patients"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:o.jsx(Mr,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.critical}),o.jsx("p",{className:"text-sm text-gray-600",children:"Critical Patients"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:o.jsx(xo,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.elderly}),o.jsx("p",{className:"text-sm text-gray-600",children:"Elderly Patients"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(pi,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.pregnant}),o.jsx("p",{className:"text-sm text-gray-600",children:"Pregnant Patients"})]})]})})]}),(e==null?void 0:e.role)==="doctor"&&o.jsx(VU,{patients:r}),(e==null?void 0:e.role)==="volunteer"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:o.jsx(xo,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total}),o.jsx("p",{className:"text-sm text-gray-600",children:"Total Patients"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:o.jsx(Mr,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.critical}),o.jsx("p",{className:"text-sm text-gray-600",children:"Critical Patients"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:o.jsx(xo,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.elderly}),o.jsx("p",{className:"text-sm text-gray-600",children:"Elderly Patients"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(pi,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.pregnant}),o.jsx("p",{className:"text-sm text-gray-600",children:"Pregnant Patients"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(e==null?void 0:e.role)==="patient"&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 mb-4",children:o.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:o.jsx(Tu,{className:"w-8 h-8 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-red-800",children:"Emergency Assistance"}),o.jsx("p",{className:"text-red-700 text-sm",children:"Need immediate medical help? Click to send an urgent message to your healthcare team."}),o.jsx("p",{className:"text-red-600 text-xs mt-1",children:"For life-threatening emergencies, call emergency services immediately."})]})]}),o.jsx("button",{onClick:S,disabled:y||!p,className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 flex items-center space-x-2 font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 active:scale-95",children:y?o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(Tu,{className:"w-6 h-6"}),o.jsx("span",{children:"EMERGENCY"})]})})]})})}),z.map((C,U)=>{const W=C.icon;return o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all cursor-pointer group",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-lg group-hover:bg-blue-200 transition-colors",children:o.jsx(W,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:C.title}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.description})]})]})},U)})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(tu,{className:"w-6 h-6 text-blue-600"}),o.jsx("span",{children:"Announcements"})]}),(e==null?void 0:e.role)==="doctor"&&o.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[o.jsx($n,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Announcement"})]})]}),a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-6 h-6 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):t.length>0?o.jsx("div",{className:"space-y-4",children:t.slice(0,3).map(C=>{var U;return o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:C.title}),o.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border flex items-center space-x-1 ${$(C.priority)}`,children:[D(C.priority),o.jsx("span",{children:C.priority.charAt(0).toUpperCase()+C.priority.slice(1)})]})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:C.content}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["By: ",(U=C.created_by_user)==null?void 0:U.full_name]}),o.jsx("span",{children:new Date(C.created_at).toLocaleDateString()})]})]}),(e==null?void 0:e.role)==="doctor"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsx("button",{onClick:()=>b(C),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Announcement",children:o.jsx(b2,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>k(C.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Announcement",children:o.jsx(kl,{className:"w-4 h-4"})})]})]})},C.id)})}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(tu,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{children:"No announcements to display."}),(e==null?void 0:e.role)==="doctor"&&o.jsx("p",{className:"text-sm mt-1",children:"Create your first announcement to keep everyone informed."})]})]}),o.jsx(KU,{}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(pi,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{children:"No recent activity to display."}),o.jsx("p",{className:"text-sm mt-1",children:"Start by exploring the available features above."})]})]})]}),u&&o.jsx(AM,{announcement:f,onClose:T,onSuccess:A})]})};function bC(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function wC(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const qU=1;function GU(e){return Object.freeze({__version:qU,map:e})}function Mf(e,t){return Object.freeze({...e,...t})}const jC=x.createContext(null),NC=jC.Provider;function Lf(){const e=x.useContext(jC);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function PC(e){function t(n,r){const{instance:i,context:a}=e(n).current;return x.useImperativeHandle(r,()=>i),n.children==null?null:iu.createElement(NC,{value:a},n.children)}return x.forwardRef(t)}function YU(e){function t(n,r){const[i,a]=x.useState(!1),{instance:l}=e(n,a).current;x.useImperativeHandle(r,()=>l),x.useEffect(function(){i&&l.update()},[l,i,n.children]);const u=l._contentNode;return u?Id.createPortal(n.children,u):null}return x.forwardRef(t)}function XU(e){function t(n,r){const{instance:i}=e(n).current;return x.useImperativeHandle(r,()=>i),null}return x.forwardRef(t)}function Yy(e,t){const n=x.useRef();x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Df(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function QU(e,t){return function(r,i){const a=Lf(),l=e(Df(r,a),a);return bC(a.map,r.attribution),Yy(l.current,r.eventHandlers),t(l.current,a,r,i),l}}var sg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(sE,function(n){var r="1.9.4";function i(s){var c,m,v,P;for(m=1,v=arguments.length;m<v;m++){P=arguments[m];for(c in P)s[c]=P[c]}return s}var a=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function l(s,c){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var v=m.call(arguments,2);return function(){return s.apply(c,v.length?v.concat(m.call(arguments)):arguments)}}var u=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,c,m){var v,P,E,F;return F=function(){v=!1,P&&(E.apply(m,P),P=!1)},E=function(){v?P=arguments:(s.apply(m,arguments),setTimeout(F,c),v=!0)},E}function h(s,c,m){var v=c[1],P=c[0],E=v-P;return s===v&&m?s:((s-P)%E+E)%E+P}function p(){return!1}function g(s,c){if(c===!1)return s;var m=Math.pow(10,c===void 0?6:c);return Math.round(s*m)/m}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function j(s){return y(s).split(/\s+/)}function w(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var m in c)s.options[m]=c[m];return s.options}function S(s,c,m){var v=[];for(var P in s)v.push(encodeURIComponent(m?P.toUpperCase():P)+"="+encodeURIComponent(s[P]));return(!c||c.indexOf("?")===-1?"?":"&")+v.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function N(s,c){return s.replace(_,function(m,v){var P=c[v];if(P===void 0)throw new Error("No value provided for variable "+m);return typeof P=="function"&&(P=P(c)),P})}var b=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function k(s,c){for(var m=0;m<s.length;m++)if(s[m]===c)return m;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var O=0;function I(s){var c=+new Date,m=Math.max(0,16-(c-O));return O=c+m,window.setTimeout(s,m)}var B=window.requestAnimationFrame||A("RequestAnimationFrame")||I,z=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function M(s,c,m){if(m&&B===I)s.call(c);else return B.call(window,l(s,c))}function $(s){s&&z.call(window,s)}var D={__proto__:null,extend:i,create:a,bind:l,get lastId(){return u},stamp:d,throttle:f,wrapNum:h,falseFn:p,formatNum:g,trim:y,splitWords:j,setOptions:w,getParamString:S,template:N,isArray:b,indexOf:k,emptyImageUrl:T,requestFn:B,cancelFn:z,requestAnimFrame:M,cancelAnimFrame:$};function C(){}C.extend=function(s){var c=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,v=a(m);v.constructor=c,c.prototype=v;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(c[P]=this[P]);return s.statics&&i(c,s.statics),s.includes&&(U(s.includes),i.apply(null,[v].concat(s.includes))),i(v,s),delete v.statics,delete v.includes,v.options&&(v.options=m.options?a(m.options):{},i(v.options,s.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,F=v._initHooks.length;E<F;E++)v._initHooks[E].call(this)}},c},C.include=function(s){var c=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},C.mergeOptions=function(s){return i(this.prototype.options,s),this},C.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function U(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=b(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(s,c,m){if(typeof s=="object")for(var v in s)this._on(v,s[v],c);else{s=j(s);for(var P=0,E=s.length;P<E;P++)this._on(s[P],c,m)}return this},off:function(s,c,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var v in s)this._off(v,s[v],c);else{s=j(s);for(var P=arguments.length===1,E=0,F=s.length;E<F;E++)P?this._off(s[E]):this._off(s[E],c,m)}return this},_on:function(s,c,m,v){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,m)===!1){m===this&&(m=void 0);var P={fn:c,ctx:m};v&&(P.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(P)}},_off:function(s,c,m){var v,P,E;if(this._events&&(v=this._events[s],!!v)){if(arguments.length===1){if(this._firingCount)for(P=0,E=v.length;P<E;P++)v[P].fn=p;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(s,c,m);if(F!==!1){var H=v[F];this._firingCount&&(H.fn=p,this._events[s]=v=v.slice()),v.splice(F,1)}}},fire:function(s,c,m){if(!this.listens(s,m))return this;var v=i({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var P=this._events[s];if(P){this._firingCount=this._firingCount+1||1;for(var E=0,F=P.length;E<F;E++){var H=P[E],V=H.fn;H.once&&this.off(s,V,H.ctx),V.call(H.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(s,c,m,v){typeof s!="string"&&console.warn('"string" type argument expected');var P=c;typeof c!="function"&&(v=!!c,P=void 0,m=void 0);var E=this._events&&this._events[s];if(E&&E.length&&this._listens(s,P,m)!==!1)return!0;if(v){for(var F in this._eventParents)if(this._eventParents[F].listens(s,c,m,v))return!0}return!1},_listens:function(s,c,m){if(!this._events)return!1;var v=this._events[s]||[];if(!c)return!!v.length;m===this&&(m=void 0);for(var P=0,E=v.length;P<E;P++)if(v[P].fn===c&&v[P].ctx===m)return P;return!1},once:function(s,c,m){if(typeof s=="object")for(var v in s)this._on(v,s[v],c,!0);else{s=j(s);for(var P=0,E=s.length;P<E;P++)this._on(s[P],c,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var G=C.extend(W);function R(s,c,m){this.x=m?Math.round(s):s,this.y=m?Math.round(c):c}var q=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(s){return this.clone()._add(Y(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Y(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new R(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new R(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(s){s=Y(s);var c=s.x-this.x,m=s.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(s){return s=Y(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Y(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Y(s,c,m){return s instanceof R?s:b(s)?new R(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new R(s.x,s.y):new R(s,c,m)}function le(s,c){if(s)for(var m=c?[s,c]:s,v=0,P=m.length;v<P;v++)this.extend(m[v])}le.prototype={extend:function(s){var c,m;if(!s)return this;if(s instanceof R||typeof s[0]=="number"||"x"in s)c=m=Y(s);else if(s=te(s),c=s.min,m=s.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,m;return typeof s[0]=="number"||s instanceof R?s=Y(s):s=te(s),s instanceof le?(c=s.min,m=s.max):c=m=s,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=te(s);var c=this.min,m=this.max,v=s.min,P=s.max,E=P.x>=c.x&&v.x<=m.x,F=P.y>=c.y&&v.y<=m.y;return E&&F},overlaps:function(s){s=te(s);var c=this.min,m=this.max,v=s.min,P=s.max,E=P.x>c.x&&v.x<m.x,F=P.y>c.y&&v.y<m.y;return E&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,m=this.max,v=Math.abs(c.x-m.x)*s,P=Math.abs(c.y-m.y)*s;return te(Y(c.x-v,c.y-P),Y(m.x+v,m.y+P))},equals:function(s){return s?(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function te(s,c){return!s||s instanceof le?s:new le(s,c)}function Z(s,c){if(s)for(var m=c?[s,c]:s,v=0,P=m.length;v<P;v++)this.extend(m[v])}Z.prototype={extend:function(s){var c=this._southWest,m=this._northEast,v,P;if(s instanceof ee)v=s,P=s;else if(s instanceof Z){if(v=s._southWest,P=s._northEast,!v||!P)return this}else return s?this.extend(ae(s)||ne(s)):this;return!c&&!m?(this._southWest=new ee(v.lat,v.lng),this._northEast=new ee(P.lat,P.lng)):(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),m.lat=Math.max(P.lat,m.lat),m.lng=Math.max(P.lng,m.lng)),this},pad:function(s){var c=this._southWest,m=this._northEast,v=Math.abs(c.lat-m.lat)*s,P=Math.abs(c.lng-m.lng)*s;return new Z(new ee(c.lat-v,c.lng-P),new ee(m.lat+v,m.lng+P))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ee||"lat"in s?s=ae(s):s=ne(s);var c=this._southWest,m=this._northEast,v,P;return s instanceof Z?(v=s.getSouthWest(),P=s.getNorthEast()):v=P=s,v.lat>=c.lat&&P.lat<=m.lat&&v.lng>=c.lng&&P.lng<=m.lng},intersects:function(s){s=ne(s);var c=this._southWest,m=this._northEast,v=s.getSouthWest(),P=s.getNorthEast(),E=P.lat>=c.lat&&v.lat<=m.lat,F=P.lng>=c.lng&&v.lng<=m.lng;return E&&F},overlaps:function(s){s=ne(s);var c=this._southWest,m=this._northEast,v=s.getSouthWest(),P=s.getNorthEast(),E=P.lat>c.lat&&v.lat<m.lat,F=P.lng>c.lng&&v.lng<m.lng;return E&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=ne(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ne(s,c){return s instanceof Z?s:new Z(s,c)}function ee(s,c,m){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,m!==void 0&&(this.alt=+m)}ee.prototype={equals:function(s,c){if(!s)return!1;s=ae(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return Dt.distance(this,ae(s))},wrap:function(){return Dt.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ne([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function ae(s,c,m){return s instanceof ee?s:b(s)&&typeof s[0]!="object"?s.length===3?new ee(s[0],s[1],s[2]):s.length===2?new ee(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ee(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new ee(s,c,m)}var Te={latLngToPoint:function(s,c){var m=this.projection.project(s),v=this.scale(c);return this.transformation._transform(m,v)},pointToLatLng:function(s,c){var m=this.scale(c),v=this.transformation.untransform(s,m);return this.projection.unproject(v)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(s),v=this.transformation.transform(c.min,m),P=this.transformation.transform(c.max,m);return new le(v,P)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?h(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?h(s.lat,this.wrapLat,!0):s.lat,v=s.alt;return new ee(m,c,v)},wrapLatLngBounds:function(s){var c=s.getCenter(),m=this.wrapLatLng(c),v=c.lat-m.lat,P=c.lng-m.lng;if(v===0&&P===0)return s;var E=s.getSouthWest(),F=s.getNorthEast(),H=new ee(E.lat-v,E.lng-P),V=new ee(F.lat-v,F.lng-P);return new Z(H,V)}},Dt=i({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var m=Math.PI/180,v=s.lat*m,P=c.lat*m,E=Math.sin((c.lat-s.lat)*m/2),F=Math.sin((c.lng-s.lng)*m/2),H=E*E+Math.cos(v)*Math.cos(P)*F*F,V=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*V}}),ie=6378137,me={R:ie,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,s.lat),-m),P=Math.sin(v*c);return new R(this.R*s.lng*c,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(s){var c=180/Math.PI;return new ee((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=ie*Math.PI;return new le([-s,-s],[s,s])}()};function he(s,c,m,v){if(b(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=m,this._d=v}he.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new R((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Q(s,c,m,v){return new he(s,c,m,v)}var ut=i({},Dt,{code:"EPSG:3857",projection:me,transformation:function(){var s=.5/(Math.PI*me.R);return Q(s,.5,-s,.5)}()}),Ce=i({},ut,{code:"EPSG:900913"});function kt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ct(s,c){var m="",v,P,E,F,H,V;for(v=0,E=s.length;v<E;v++){for(H=s[v],P=0,F=H.length;P<F;P++)V=H[P],m+=(P?"L":"M")+V.x+" "+V.y;m+=c?ce.svg?"z":"x":""}return m||"M0 0"}var Vn=document.documentElement.style,zi="ActiveXObject"in window,LC=zi&&!document.addEventListener,t0="msLaunchUri"in navigator&&!("documentMode"in document),Bf=lr("webkit"),n0=lr("android"),r0=lr("android 2")||lr("android 3"),DC=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),IC=n0&&lr("Google")&&DC<537&&!("AudioNode"in window),Ff=!!window.opera,i0=!t0&&lr("chrome"),a0=lr("gecko")&&!Bf&&!Ff&&!zi,RC=!i0&&lr("safari"),s0=lr("phantom"),o0="OTransition"in Vn,zC=navigator.platform.indexOf("Win")===0,l0=zi&&"transition"in Vn,Uf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!r0,c0="MozPerspective"in Vn,$C=!window.L_DISABLE_3D&&(l0||Uf||c0)&&!o0&&!s0,Xs=typeof orientation<"u"||lr("mobile"),BC=Xs&&Bf,FC=Xs&&Uf,u0=!window.PointerEvent&&window.MSPointerEvent,d0=!!(window.PointerEvent||u0),f0="ontouchstart"in window||!!window.TouchEvent,UC=!window.L_NO_TOUCH&&(f0||d0),HC=Xs&&Ff,ZC=Xs&&a0,WC=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,VC=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return s}(),KC=function(){return!!document.createElement("canvas").getContext}(),Hf=!!(document.createElementNS&&kt("svg").createSVGRect),qC=!!Hf&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),GC=!Hf&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),YC=navigator.platform.indexOf("Mac")===0,XC=navigator.platform.indexOf("Linux")===0;function lr(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ce={ie:zi,ielt9:LC,edge:t0,webkit:Bf,android:n0,android23:r0,androidStock:IC,opera:Ff,chrome:i0,gecko:a0,safari:RC,phantom:s0,opera12:o0,win:zC,ie3d:l0,webkit3d:Uf,gecko3d:c0,any3d:$C,mobile:Xs,mobileWebkit:BC,mobileWebkit3d:FC,msPointer:u0,pointer:d0,touch:UC,touchNative:f0,mobileOpera:HC,mobileGecko:ZC,retina:WC,passiveEvents:VC,canvas:KC,svg:Hf,vml:GC,inlineSvg:qC,mac:YC,linux:XC},h0=ce.msPointer?"MSPointerDown":"pointerdown",m0=ce.msPointer?"MSPointerMove":"pointermove",p0=ce.msPointer?"MSPointerUp":"pointerup",g0=ce.msPointer?"MSPointerCancel":"pointercancel",Zf={touchstart:h0,touchmove:m0,touchend:p0,touchcancel:g0},v0={touchstart:rO,touchmove:Vl,touchend:Vl,touchcancel:Vl},Ea={},y0=!1;function QC(s,c,m){return c==="touchstart"&&nO(),v0[c]?(m=v0[c].bind(this,m),s.addEventListener(Zf[c],m,!1),m):(console.warn("wrong event specified:",c),p)}function JC(s,c,m){if(!Zf[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(Zf[c],m,!1)}function eO(s){Ea[s.pointerId]=s}function tO(s){Ea[s.pointerId]&&(Ea[s.pointerId]=s)}function x0(s){delete Ea[s.pointerId]}function nO(){y0||(document.addEventListener(h0,eO,!0),document.addEventListener(m0,tO,!0),document.addEventListener(p0,x0,!0),document.addEventListener(g0,x0,!0),y0=!0)}function Vl(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Ea)c.touches.push(Ea[m]);c.changedTouches=[c],s(c)}}function rO(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&xt(c),Vl(s,c)}function iO(s){var c={},m,v;for(v in s)m=s[v],c[v]=m&&m.bind?m.bind(s):m;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var aO=200;function sO(s,c){s.addEventListener("dblclick",c);var m=0,v;function P(E){if(E.detail!==1){v=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var F=N0(E);if(!(F.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!F.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var H=Date.now();H-m<=aO?(v++,v===2&&c(iO(E))):v=1,m=H}}}return s.addEventListener("click",P),{dblclick:c,simDblclick:P}}function oO(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var Wf=Gl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qs=Gl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_0=Qs==="webkitTransition"||Qs==="OTransition"?Qs+"End":"transitionend";function b0(s){return typeof s=="string"?document.getElementById(s):s}function Js(s,c){var m=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(s,null);m=v?v[c]:null}return m==="auto"?null:m}function je(s,c,m){var v=document.createElement(s);return v.className=c||"",m&&m.appendChild(v),v}function He(s){var c=s.parentNode;c&&c.removeChild(s)}function Kl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ta(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function Aa(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Vf(s,c){if(s.classList!==void 0)return s.classList.contains(c);var m=ql(s);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function ve(s,c){if(s.classList!==void 0)for(var m=j(c),v=0,P=m.length;v<P;v++)s.classList.add(m[v]);else if(!Vf(s,c)){var E=ql(s);Kf(s,(E?E+" ":"")+c)}}function Ge(s,c){s.classList!==void 0?s.classList.remove(c):Kf(s,y((" "+ql(s)+" ").replace(" "+c+" "," ")))}function Kf(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function ql(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function jn(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&lO(s,c)}function lO(s,c){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(v)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):s.style.filter+=" progid:"+v+"(opacity="+c+")"}function Gl(s){for(var c=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in c)return s[m];return!1}function $i(s,c,m){var v=c||new R(0,0);s.style[Wf]=(ce.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function Qe(s,c){s._leaflet_pos=c,ce.any3d?$i(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function Bi(s){return s._leaflet_pos||new R(0,0)}var eo,to,qf;if("onselectstart"in document)eo=function(){pe(window,"selectstart",xt)},to=function(){Ae(window,"selectstart",xt)};else{var no=Gl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);eo=function(){if(no){var s=document.documentElement.style;qf=s[no],s[no]="none"}},to=function(){no&&(document.documentElement.style[no]=qf,qf=void 0)}}function Gf(){pe(window,"dragstart",xt)}function Yf(){Ae(window,"dragstart",xt)}var Yl,Xf;function Qf(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Xl(),Yl=s,Xf=s.style.outlineStyle,s.style.outlineStyle="none",pe(window,"keydown",Xl))}function Xl(){Yl&&(Yl.style.outlineStyle=Xf,Yl=void 0,Xf=void 0,Ae(window,"keydown",Xl))}function w0(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Jf(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var cO={__proto__:null,TRANSFORM:Wf,TRANSITION:Qs,TRANSITION_END:_0,get:b0,getStyle:Js,create:je,remove:He,empty:Kl,toFront:Ta,toBack:Aa,hasClass:Vf,addClass:ve,removeClass:Ge,setClass:Kf,getClass:ql,setOpacity:jn,testProp:Gl,setTransform:$i,setPosition:Qe,getPosition:Bi,get disableTextSelection(){return eo},get enableTextSelection(){return to},disableImageDrag:Gf,enableImageDrag:Yf,preventOutline:Qf,restoreOutline:Xl,getSizedParentNode:w0,getScale:Jf};function pe(s,c,m,v){if(c&&typeof c=="object")for(var P in c)th(s,P,c[P],m);else{c=j(c);for(var E=0,F=c.length;E<F;E++)th(s,c[E],m,v)}return this}var cr="_leaflet_events";function Ae(s,c,m,v){if(arguments.length===1)j0(s),delete s[cr];else if(c&&typeof c=="object")for(var P in c)nh(s,P,c[P],m);else if(c=j(c),arguments.length===2)j0(s,function(H){return k(c,H)!==-1});else for(var E=0,F=c.length;E<F;E++)nh(s,c[E],m,v);return this}function j0(s,c){for(var m in s[cr]){var v=m.split(/\d/)[0];(!c||c(v))&&nh(s,v,null,null,m)}}var eh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function th(s,c,m,v){var P=c+d(m)+(v?"_"+d(v):"");if(s[cr]&&s[cr][P])return this;var E=function(H){return m.call(v||s,H||window.event)},F=E;!ce.touchNative&&ce.pointer&&c.indexOf("touch")===0?E=QC(s,c,E):ce.touch&&c==="dblclick"?E=sO(s,E):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(eh[c]||c,E,ce.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(E=function(H){H=H||window.event,ih(s,H)&&F(H)},s.addEventListener(eh[c],E,!1)):s.addEventListener(c,F,!1):s.attachEvent("on"+c,E),s[cr]=s[cr]||{},s[cr][P]=E}function nh(s,c,m,v,P){P=P||c+d(m)+(v?"_"+d(v):"");var E=s[cr]&&s[cr][P];if(!E)return this;!ce.touchNative&&ce.pointer&&c.indexOf("touch")===0?JC(s,c,E):ce.touch&&c==="dblclick"?oO(s,E):"removeEventListener"in s?s.removeEventListener(eh[c]||c,E,!1):s.detachEvent("on"+c,E),s[cr][P]=null}function Fi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function rh(s){return th(s,"wheel",Fi),this}function ro(s){return pe(s,"mousedown touchstart dblclick contextmenu",Fi),s._leaflet_disable_click=!0,this}function xt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ui(s){return xt(s),Fi(s),this}function N0(s){if(s.composedPath)return s.composedPath();for(var c=[],m=s.target;m;)c.push(m),m=m.parentNode;return c}function P0(s,c){if(!c)return new R(s.clientX,s.clientY);var m=Jf(c),v=m.boundingClientRect;return new R((s.clientX-v.left)/m.x-c.clientLeft,(s.clientY-v.top)/m.y-c.clientTop)}var uO=ce.linux&&ce.chrome?window.devicePixelRatio:ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function S0(s){return ce.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/uO:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ih(s,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var dO={__proto__:null,on:pe,off:Ae,stopPropagation:Fi,disableScrollPropagation:rh,disableClickPropagation:ro,preventDefault:xt,stop:Ui,getPropagationPath:N0,getMousePosition:P0,getWheelDelta:S0,isExternalTarget:ih,addListener:pe,removeListener:Ae},k0=G.extend({run:function(s,c,m,v){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Bi(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var m=this._startPos.add(this._offset.multiplyBy(s));c&&m._round(),Qe(this._el,m),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),be=G.extend({options:{crs:ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=w(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ae(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qs&&ce.any3d&&!ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pe(this._proxy,_0,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(ae(s),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,m.zoom):this._tryAnimatedPan(s,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,m){var v=this.getZoomScale(c),P=this.getSize().divideBy(2),E=s instanceof R?s:this.latLngToContainerPoint(s),F=E.subtract(P).multiplyBy(1-1/v),H=this.containerPointToLatLng(P.add(F));return this.setView(H,c,{zoom:m})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():ne(s);var m=Y(c.paddingTopLeft||c.padding||[0,0]),v=Y(c.paddingBottomRight||c.padding||[0,0]),P=this.getBoundsZoom(s,!1,m.add(v));if(P=typeof c.maxZoom=="number"?Math.min(c.maxZoom,P):P,P===1/0)return{center:s.getCenter(),zoom:P};var E=v.subtract(m).divideBy(2),F=this.project(s.getSouthWest(),P),H=this.project(s.getNorthEast(),P),V=this.unproject(F.add(H).divideBy(2).add(E),P);return{center:V,zoom:P}},fitBounds:function(s,c){if(s=ne(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=Y(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new k0,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){ve(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,m){if(m=m||{},m.animate===!1||!ce.any3d)return this.setView(s,c,m);this._stop();var v=this.project(this.getCenter()),P=this.project(s),E=this.getSize(),F=this._zoom;s=ae(s),c=c===void 0?F:c;var H=Math.max(E.x,E.y),V=H*this.getZoomScale(F,c),X=P.distanceTo(v)||1,re=1.42,fe=re*re;function ye(Je){var cc=Je?-1:1,JO=Je?V:H,eE=V*V-H*H+cc*fe*fe*X*X,tE=2*JO*fe*X,ph=eE/tE,ox=Math.sqrt(ph*ph+1)-ph,nE=ox<1e-9?-18:Math.log(ox);return nE}function It(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function dt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Pn(Je){return It(Je)/dt(Je)}var Wt=ye(0);function za(Je){return H*(dt(Wt)/dt(Wt+re*Je))}function GO(Je){return H*(dt(Wt)*Pn(Wt+re*Je)-It(Wt))/fe}function YO(Je){return 1-Math.pow(1-Je,1.5)}var XO=Date.now(),ax=(ye(1)-Wt)/re,QO=m.duration?1e3*m.duration:1e3*ax*.8;function sx(){var Je=(Date.now()-XO)/QO,cc=YO(Je)*ax;Je<=1?(this._flyToFrame=M(sx,this),this._move(this.unproject(v.add(P.subtract(v).multiplyBy(GO(cc)/X)),F),this.getScaleZoom(H/za(cc),F),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),sx.call(this),this},flyToBounds:function(s,c){var m=this._getBoundsCenterZoom(s,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(s){return s=ne(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,ne(s));return m.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var m=Y(c.paddingTopLeft||c.padding||[0,0]),v=Y(c.paddingBottomRight||c.padding||[0,0]),P=this.project(this.getCenter()),E=this.project(s),F=this.getPixelBounds(),H=te([F.min.add(m),F.max.subtract(v)]),V=H.getSize();if(!H.contains(E)){this._enforcingBounds=!0;var X=E.subtract(H.getCenter()),re=H.extend(E).getSize().subtract(V);P.x+=X.x<0?-re.x:re.x,P.y+=X.y<0?-re.y:re.y,this.panTo(this.unproject(P),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=c.divideBy(2).round(),P=m.divideBy(2).round(),E=v.subtract(P);return!E.x&&!E.y?this:(s.animate&&s.pan?this.panBy(E):(s.pan&&this._rawPanBy(E),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=l(this._handleGeolocationResponse,this),m=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,s):navigator.geolocation.getCurrentPosition(c,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,m=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,m=s.coords.longitude,v=new ee(c,m),P=v.toBounds(s.coords.accuracy*2),E=this._locateOptions;if(E.setView){var F=this.getBoundsZoom(P);this.setView(v,E.maxZoom?Math.min(F,E.maxZoom):F)}var H={latlng:v,bounds:P,timestamp:s.timestamp};for(var V in s.coords)typeof s.coords[V]=="number"&&(H[V]=s.coords[V]);this.fire("locationfound",H)}},addHandler:function(s,c){if(!c)return this;var m=this[s]=new c(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),He(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)He(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),v=je("div",m,c||this._mapPane);return s&&(this._panes[s]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new Z(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,m){s=ne(s),m=Y(m||[0,0]);var v=this.getZoom()||0,P=this.getMinZoom(),E=this.getMaxZoom(),F=s.getNorthWest(),H=s.getSouthEast(),V=this.getSize().subtract(m),X=te(this.project(H,v),this.project(F,v)).getSize(),re=ce.any3d?this.options.zoomSnap:1,fe=V.x/X.x,ye=V.y/X.y,It=c?Math.max(fe,ye):Math.min(fe,ye);return v=this.getScaleZoom(It,v),re&&(v=Math.round(v/(re/100))*(re/100),v=c?Math.ceil(v/re)*re:Math.floor(v/re)*re),Math.max(P,Math.min(E,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var m=this._getTopLeftPoint(s,c);return new le(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(s)/m.scale(c)},getScaleZoom:function(s,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var v=m.zoom(s*m.scale(c));return isNaN(v)?1/0:v},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ae(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Y(s),c)},layerPointToLatLng:function(s){var c=Y(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(ae(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ne(s))},distance:function(s,c){return this.options.crs.distance(ae(s),ae(c))},containerPointToLayerPoint:function(s){return Y(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Y(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(Y(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(s)))},mouseEventToContainerPoint:function(s){return P0(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=b0(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pe(c,"scroll",this._onScroll,this),this._containerId=d(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ce.any3d,ve(s,"leaflet-container"+(ce.touch?" leaflet-touch":"")+(ce.retina?" leaflet-retina":"")+(ce.ielt9?" leaflet-oldie":"")+(ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Js(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qe(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(s.markerPane,"leaflet-zoom-hide"),ve(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,m){Qe(this._mapPane,new R(0,0));var v=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var P=this._zoom!==c;this._moveStart(P,m)._move(s,c)._moveEnd(P),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,m,v){c===void 0&&(c=this._zoom);var P=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),v?m&&m.pinch&&this.fire("zoom",m):((P||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Qe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var c=s?Ae:pe;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ce.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var m=[],v,P=c==="mouseout"||c==="mouseover",E=s.target||s.srcElement,F=!1;E;){if(v=this._targets[d(E)],v&&(c==="click"||c==="preclick")&&this._draggableMoved(v)){F=!0;break}if(v&&v.listens(c,!0)&&(P&&!ih(E,s)||(m.push(v),P))||E===this._container)break;E=E.parentNode}return!m.length&&!F&&!P&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var m=s.type;m==="mousedown"&&Qf(c),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,m){if(s.type==="click"){var v=i({},s);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var P=this._findEventTargets(s,c);if(m){for(var E=[],F=0;F<m.length;F++)m[F].listens(c,!0)&&E.push(m[F]);P=E.concat(P)}if(P.length){c==="contextmenu"&&xt(s);var H=P[0],V={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var X=H.getLatLng&&(!H._radius||H._radius<=10);V.containerPoint=X?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(s),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=X?H.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(F=0;F<P.length;F++)if(P[F].fire(c,V,!0),V.originalEvent._stopped||P[F].options.bubblingMouseEvents===!1&&k(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return Bi(this._mapPane)||new R(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var m=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var m=this.getSize()._divideBy(2);return this.project(s,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,m){var v=this._getNewPixelOrigin(m,c);return this.project(s,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(s,c,m){var v=this._getNewPixelOrigin(m,c);return te([this.project(s.getSouthWest(),c)._subtract(v),this.project(s.getNorthWest(),c)._subtract(v),this.project(s.getSouthEast(),c)._subtract(v),this.project(s.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,m){if(!m)return s;var v=this.project(s,c),P=this.getSize().divideBy(2),E=new le(v.subtract(P),v.add(P)),F=this._getBoundsOffset(E,m,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?s:this.unproject(v.add(F),c)},_limitOffset:function(s,c){if(!c)return s;var m=this.getPixelBounds(),v=new le(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(s,c,m){var v=te(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),P=v.min.subtract(s.min),E=v.max.subtract(s.max),F=this._rebound(P.x,-E.x),H=this._rebound(P.y,-E.y);return new R(F,H)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),m=this.getMaxZoom(),v=ce.any3d?this.options.zoomSnap:1;return v&&(s=Math.round(s/v)*v),Math.max(c,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var m=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var s=this._proxy=je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var m=Wf,v=this._proxy.style[m];$i(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){He(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();$i(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),P=this._getCenterOffset(s)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(P)?!1:(M(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fO(s,c){return new be(s,c)}var Kn=C.extend({options:{position:"topright"},initialize:function(s){w(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),m=this.getPosition(),v=s._controlCorners[m];return ve(c,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(He(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),io=function(s){return new Kn(s)};be.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",m=this._controlContainer=je("div",c+"control-container",this._container);function v(P,E){var F=c+P+" "+c+E;s[P+E]=je("div",F,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)He(this._controlCorners[s]);He(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var C0=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,m,v){return m<v?-1:v<m?1:0}},initialize:function(s,c,m){w(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in s)this._addLayer(s[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Kn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(d(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=je("div",s),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),ro(c),rh(c);var v=this._section=je("section",s+"-list");m&&(this._map.on("click",this.collapse,this),pe(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=je("a",s+"-toggle",c);P.href="#",P.title="Layers",P.setAttribute("role","button"),pe(P,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){xt(E),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=je("div",s+"-base",v),this._separator=je("div",s+"-separator",v),this._overlaysList=je("div",s+"-overlays",v),c.appendChild(v)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&d(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(l(function(v,P){return this.options.sortFunction(v.layer,P.layer,v.name,P.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kl(this._baseLayersList),Kl(this._overlaysList),this._layerControlInputs=[];var s,c,m,v,P=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),c=c||v.overlay,s=s||!v.overlay,P+=v.overlay?0:1;return this.options.hideSingleBase&&(s=s&&P>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(d(s.target)),m=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(s,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(s){var c=document.createElement("label"),m=this._map.hasLayer(s.layer),v;s.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(v),v.layerId=d(s.layer),pe(v,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+s.name;var E=document.createElement("span");c.appendChild(E),E.appendChild(v),E.appendChild(P);var F=s.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,m,v=[],P=[];this._handlingClick=!0;for(var E=s.length-1;E>=0;E--)c=s[E],m=this._getLayer(c.layerId).layer,c.checked?v.push(m):c.checked||P.push(m);for(E=0;E<P.length;E++)this._map.hasLayer(P[E])&&this._map.removeLayer(P[E]);for(E=0;E<v.length;E++)this._map.hasLayer(v[E])||this._map.addLayer(v[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,m,v=this._map.getZoom(),P=s.length-1;P>=0;P--)c=s[P],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,pe(s,"click",xt),this.expand();var c=this;setTimeout(function(){Ae(s,"click",xt),c._preventClick=!1})}}),hO=function(s,c,m){return new C0(s,c,m)},ah=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",m=je("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,m,v,P){var E=je("a",m,v);return E.innerHTML=s,E.href="#",E.title=c,E.setAttribute("role","button"),E.setAttribute("aria-label",c),ro(E),pe(E,"click",Ui),pe(E,"click",P,this),pe(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";Ge(this._zoomInButton,c),Ge(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ve(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ve(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});be.mergeOptions({zoomControl:!0}),be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ah,this.addControl(this.zoomControl))});var mO=function(s){return new ah(s)},O0=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",m=je("div",c),v=this.options;return this._addScales(v,c+"-line",m),s.on(v.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,m){s.metric&&(this._mScale=je("div",c,m)),s.imperial&&(this._iScale=je("div",c,m))},_update:function(){var s=this._map,c=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/s)},_updateImperial:function(s){var c=s*3.2808399,m,v,P;c>5280?(m=c/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(P=this._getRoundNum(c),this._updateScale(this._iScale,P+" ft",P/c))},_updateScale:function(s,c,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),m=s/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),pO=function(s){return new O0(s)},gO='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sh=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ce.inlineSvg?gO+" ":"")+"Leaflet</a>"},initialize:function(s){w(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=je("div","leaflet-control-attribution"),ro(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});be.mergeOptions({attributionControl:!0}),be.addInitHook(function(){this.options.attributionControl&&new sh().addTo(this)});var vO=function(s){return new sh(s)};Kn.Layers=C0,Kn.Zoom=ah,Kn.Scale=O0,Kn.Attribution=sh,io.layers=hO,io.zoom=mO,io.scale=pO,io.attribution=vO;var ur=C.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ur.addTo=function(s,c){return s.addHandler(c,this),this};var yO={Events:W},E0=ce.touch?"touchstart mousedown":"mousedown",ni=G.extend({options:{clickTolerance:3},initialize:function(s,c,m,v){w(this,v),this._element=s,this._dragStartTarget=c||s,this._preventOutline=m},enable:function(){this._enabled||(pe(this._dragStartTarget,E0,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Ae(this._dragStartTarget,E0,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Vf(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ni._dragging=this,this._preventOutline&&Qf(this._element),Gf(),eo(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,m=w0(this._element);this._startPoint=new R(c.clientX,c.clientY),this._startPos=Bi(this._element),this._parentScale=Jf(m);var v=s.type==="mousedown";pe(document,v?"mousemove":"touchmove",this._onMove,this),pe(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,m=new R(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,xt(s),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Qe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ge(document.body,"leaflet-dragging"),this._lastTarget&&(Ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ae(document,"mousemove touchmove",this._onMove,this),Ae(document,"mouseup touchend touchcancel",this._onUp,this),Yf(),to();var c=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function T0(s,c,m){var v,P=[1,4,2,8],E,F,H,V,X,re,fe,ye;for(E=0,re=s.length;E<re;E++)s[E]._code=Hi(s[E],c);for(H=0;H<4;H++){for(fe=P[H],v=[],E=0,re=s.length,F=re-1;E<re;F=E++)V=s[E],X=s[F],V._code&fe?X._code&fe||(ye=Ql(X,V,fe,c,m),ye._code=Hi(ye,c),v.push(ye)):(X._code&fe&&(ye=Ql(X,V,fe,c,m),ye._code=Hi(ye,c),v.push(ye)),v.push(V));s=v}return s}function A0(s,c){var m,v,P,E,F,H,V,X,re;if(!s||s.length===0)throw new Error("latlngs not passed");Nn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var fe=ae([0,0]),ye=ne(s),It=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());It<1700&&(fe=oh(s));var dt=s.length,Pn=[];for(m=0;m<dt;m++){var Wt=ae(s[m]);Pn.push(c.project(ae([Wt.lat-fe.lat,Wt.lng-fe.lng])))}for(H=V=X=0,m=0,v=dt-1;m<dt;v=m++)P=Pn[m],E=Pn[v],F=P.y*E.x-E.y*P.x,V+=(P.x+E.x)*F,X+=(P.y+E.y)*F,H+=F*3;H===0?re=Pn[0]:re=[V/H,X/H];var za=c.unproject(Y(re));return ae([za.lat+fe.lat,za.lng+fe.lng])}function oh(s){for(var c=0,m=0,v=0,P=0;P<s.length;P++){var E=ae(s[P]);c+=E.lat,m+=E.lng,v++}return ae([c/v,m/v])}var xO={__proto__:null,clipPolygon:T0,polygonCenter:A0,centroid:oh};function M0(s,c){if(!c||!s.length)return s.slice();var m=c*c;return s=wO(s,m),s=bO(s,m),s}function L0(s,c,m){return Math.sqrt(ao(s,c,m,!0))}function _O(s,c,m){return ao(s,c,m)}function bO(s,c){var m=s.length,v=typeof Uint8Array<"u"?Uint8Array:Array,P=new v(m);P[0]=P[m-1]=1,lh(s,P,c,0,m-1);var E,F=[];for(E=0;E<m;E++)P[E]&&F.push(s[E]);return F}function lh(s,c,m,v,P){var E=0,F,H,V;for(H=v+1;H<=P-1;H++)V=ao(s[H],s[v],s[P],!0),V>E&&(F=H,E=V);E>m&&(c[F]=1,lh(s,c,m,v,F),lh(s,c,m,F,P))}function wO(s,c){for(var m=[s[0]],v=1,P=0,E=s.length;v<E;v++)jO(s[v],s[P])>c&&(m.push(s[v]),P=v);return P<E-1&&m.push(s[E-1]),m}var D0;function I0(s,c,m,v,P){var E=v?D0:Hi(s,m),F=Hi(c,m),H,V,X;for(D0=F;;){if(!(E|F))return[s,c];if(E&F)return!1;H=E||F,V=Ql(s,c,H,m,P),X=Hi(V,m),H===E?(s=V,E=X):(c=V,F=X)}}function Ql(s,c,m,v,P){var E=c.x-s.x,F=c.y-s.y,H=v.min,V=v.max,X,re;return m&8?(X=s.x+E*(V.y-s.y)/F,re=V.y):m&4?(X=s.x+E*(H.y-s.y)/F,re=H.y):m&2?(X=V.x,re=s.y+F*(V.x-s.x)/E):m&1&&(X=H.x,re=s.y+F*(H.x-s.x)/E),new R(X,re,P)}function Hi(s,c){var m=0;return s.x<c.min.x?m|=1:s.x>c.max.x&&(m|=2),s.y<c.min.y?m|=4:s.y>c.max.y&&(m|=8),m}function jO(s,c){var m=c.x-s.x,v=c.y-s.y;return m*m+v*v}function ao(s,c,m,v){var P=c.x,E=c.y,F=m.x-P,H=m.y-E,V=F*F+H*H,X;return V>0&&(X=((s.x-P)*F+(s.y-E)*H)/V,X>1?(P=m.x,E=m.y):X>0&&(P+=F*X,E+=H*X)),F=s.x-P,H=s.y-E,v?F*F+H*H:new R(P,E)}function Nn(s){return!b(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function R0(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nn(s)}function z0(s,c){var m,v,P,E,F,H,V,X;if(!s||s.length===0)throw new Error("latlngs not passed");Nn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var re=ae([0,0]),fe=ne(s),ye=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());ye<1700&&(re=oh(s));var It=s.length,dt=[];for(m=0;m<It;m++){var Pn=ae(s[m]);dt.push(c.project(ae([Pn.lat-re.lat,Pn.lng-re.lng])))}for(m=0,v=0;m<It-1;m++)v+=dt[m].distanceTo(dt[m+1])/2;if(v===0)X=dt[0];else for(m=0,E=0;m<It-1;m++)if(F=dt[m],H=dt[m+1],P=F.distanceTo(H),E+=P,E>v){V=(E-v)/P,X=[H.x-V*(H.x-F.x),H.y-V*(H.y-F.y)];break}var Wt=c.unproject(Y(X));return ae([Wt.lat+re.lat,Wt.lng+re.lng])}var NO={__proto__:null,simplify:M0,pointToSegmentDistance:L0,closestPointOnSegment:_O,clipSegment:I0,_getEdgeIntersection:Ql,_getBitCode:Hi,_sqClosestPointOnSegment:ao,isFlat:Nn,_flat:R0,polylineCenter:z0},ch={project:function(s){return new R(s.lng,s.lat)},unproject:function(s){return new ee(s.y,s.x)},bounds:new le([-180,-90],[180,90])},uh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,m=this.R,v=s.lat*c,P=this.R_MINOR/m,E=Math.sqrt(1-P*P),F=E*Math.sin(v),H=Math.tan(Math.PI/4-v/2)/Math.pow((1-F)/(1+F),E/2);return v=-m*Math.log(Math.max(H,1e-10)),new R(s.lng*c*m,v)},unproject:function(s){for(var c=180/Math.PI,m=this.R,v=this.R_MINOR/m,P=Math.sqrt(1-v*v),E=Math.exp(-s.y/m),F=Math.PI/2-2*Math.atan(E),H=0,V=.1,X;H<15&&Math.abs(V)>1e-7;H++)X=P*Math.sin(F),X=Math.pow((1-X)/(1+X),P/2),V=Math.PI/2-2*Math.atan(E*X)-F,F+=V;return new ee(F*c,s.x*c/m)}},PO={__proto__:null,LonLat:ch,Mercator:uh,SphericalMercator:me},SO=i({},Dt,{code:"EPSG:3395",projection:uh,transformation:function(){var s=.5/(Math.PI*uh.R);return Q(s,.5,-s,.5)}()}),$0=i({},Dt,{code:"EPSG:4326",projection:ch,transformation:Q(1/180,1,-1/180,.5)}),kO=i({},Te,{projection:ch,transformation:Q(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var m=c.lng-s.lng,v=c.lat-s.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Te.Earth=Dt,Te.EPSG3395=SO,Te.EPSG3857=ut,Te.EPSG900913=Ce,Te.EPSG4326=$0,Te.Simple=kO;var qn=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});be.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=d(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=d(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,c){for(var m in this._layers)s.call(c,this._layers[m]);return this},_addLayers:function(s){s=s?b(s)?s:[s]:[];for(var c=0,m=s.length;c<m;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=d(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var P=this._zoomBoundLayers[v].options;s=P.minZoom===void 0?s:Math.min(s,P.minZoom),c=P.maxZoom===void 0?c:Math.max(c,P.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ma=qn.extend({initialize:function(s,c){w(this,c),this._layers={};var m,v;if(s)for(m=0,v=s.length;m<v;m++)this.addLayer(s[m])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[s]&&v[s].apply(v,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var m in this._layers)s.call(c,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),CO=function(s,c){return new Ma(s,c)},jr=Ma.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ma.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ma.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Z;for(var c in this._layers){var m=this._layers[c];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),OO=function(s,c){return new jr(s,c)},La=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){w(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(v,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(s,c){var m=this.options,v=m[c+"Size"];typeof v=="number"&&(v=[v,v]);var P=Y(v),E=Y(c==="shadow"&&m.shadowAnchor||m.iconAnchor||P&&P.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(m.className||""),E&&(s.style.marginLeft=-E.x+"px",s.style.marginTop=-E.y+"px"),P&&(s.style.width=P.x+"px",s.style.height=P.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return ce.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function EO(s){return new La(s)}var so=La.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof so.imagePath!="string"&&(so.imagePath=this._detectIconPath()),(this.options.imagePath||so.imagePath)+La.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(m,v,P){var E=v.exec(m);return E&&E[P]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=je("div","leaflet-default-icon-path",document.body),c=Js(s,"background-image")||Js(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),B0=ur.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ni(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,m=c._map,v=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,E=Bi(c._icon),F=m.getPixelBounds(),H=m.getPixelOrigin(),V=te(F.min._subtract(H).add(P),F.max._subtract(H).subtract(P));if(!V.contains(E)){var X=Y((Math.max(V.max.x,E.x)-V.max.x)/(F.max.x-V.max.x)-(Math.min(V.min.x,E.x)-V.min.x)/(F.min.x-V.min.x),(Math.max(V.max.y,E.y)-V.max.y)/(F.max.y-V.max.y)-(Math.min(V.min.y,E.y)-V.min.y)/(F.min.y-V.min.y)).multiplyBy(v);m.panBy(X,{animate:!1}),this._draggable._newPos._add(X),this._draggable._startPos._add(X),Qe(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=M(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,m=c._shadow,v=Bi(c._icon),P=c._map.layerPointToLatLng(v);m&&Qe(m,v),c._latlng=P,s.latlng=P,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Jl=qn.extend({options:{icon:new so,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){w(this,c),this._latlng=ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=ae(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),ve(m,c),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(m,"focus",this._panOnFocus,this);var P=s.icon.createShadow(this._shadow),E=!1;P!==this._shadow&&(this._removeShadow(),E=!0),P&&(ve(P,c),P.alt=""),this._shadow=P,s.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&E&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(this._icon,"focus",this._panOnFocus,this),He(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&He(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Qe(this._icon,s),this._shadow&&Qe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),B0)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new B0(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&jn(this._icon,s),this._shadow&&jn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,m=c.iconSize?Y(c.iconSize):Y(0,0),v=c.iconAnchor?Y(c.iconAnchor):Y(0,0);s.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function TO(s,c){return new Jl(s,c)}var ri=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return w(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ec=ri.extend({options:{fill:!0,radius:10},initialize:function(s,c){w(this,c),this._latlng=ae(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=ae(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return ri.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,m=this._clickTolerance(),v=[s+m,c+m];this._pxBounds=new le(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function AO(s,c){return new ec(s,c)}var dh=ec.extend({initialize:function(s,c,m){if(typeof c=="number"&&(c=i({},m,{radius:c})),w(this,c),this._latlng=ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ri.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===Dt.distance){var P=Math.PI/180,E=this._mRadius/Dt.R/P,F=m.project([c+E,s]),H=m.project([c-E,s]),V=F.add(H).divideBy(2),X=m.unproject(V).lat,re=Math.acos((Math.cos(E*P)-Math.sin(c*P)*Math.sin(X*P))/(Math.cos(c*P)*Math.cos(X*P)))/P;(isNaN(re)||re===0)&&(re=E/Math.cos(Math.PI/180*c)),this._point=V.subtract(m.getPixelOrigin()),this._radius=isNaN(re)?0:V.x-m.project([X,s-re]).x,this._radiusY=V.y-F.y}else{var fe=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(fe).x}this._updateBounds()}});function MO(s,c,m){return new dh(s,c,m)}var Nr=ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){w(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,m=null,v=ao,P,E,F=0,H=this._parts.length;F<H;F++)for(var V=this._parts[F],X=1,re=V.length;X<re;X++){P=V[X-1],E=V[X];var fe=v(s,P,E,!0);fe<c&&(c=fe,m=v(s,P,E))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return z0(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=ae(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Z,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],m=Nn(s),v=0,P=s.length;v<P;v++)m?(c[v]=ae(s[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(s[v]);return c},_project:function(){var s=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new R(s,s);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,m){var v=s[0]instanceof ee,P=s.length,E,F;if(v){for(F=[],E=0;E<P;E++)F[E]=this._map.latLngToLayerPoint(s[E]),m.extend(F[E]);c.push(F)}else for(E=0;E<P;E++)this._projectLatlngs(s[E],c,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,v,P,E,F,H,V;for(m=0,P=0,E=this._rings.length;m<E;m++)for(V=this._rings[m],v=0,F=V.length;v<F-1;v++)H=I0(V[v],V[v+1],s,v,!0),H&&(c[P]=c[P]||[],c[P].push(H[0]),(H[1]!==V[v+1]||v===F-2)&&(c[P].push(H[1]),P++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,m=0,v=s.length;m<v;m++)s[m]=M0(s[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var m,v,P,E,F,H,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,E=this._parts.length;m<E;m++)for(H=this._parts[m],v=0,F=H.length,P=F-1;v<F;P=v++)if(!(!c&&v===0)&&L0(s,H[P],H[v])<=V)return!0;return!1}});function LO(s,c){return new Nr(s,c)}Nr._flat=R0;var Da=Nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return A0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=Nr.prototype._convertLatLngs.call(this,s),m=c.length;return m>=2&&c[0]instanceof ee&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(s){Nr.prototype._setLatLngs.call(this,s),Nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,m=new R(c,c);if(s=new le(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,P=this._rings.length,E;v<P;v++)E=T0(this._rings[v],s,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,m,v,P,E,F,H,V,X;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(E=0,V=this._parts.length;E<V;E++)for(m=this._parts[E],F=0,X=m.length,H=X-1;F<X;H=F++)v=m[F],P=m[H],v.y>s.y!=P.y>s.y&&s.x<(P.x-v.x)*(s.y-v.y)/(P.y-v.y)+v.x&&(c=!c);return c||Nr.prototype._containsPoint.call(this,s,!0)}});function DO(s,c){return new Da(s,c)}var Pr=jr.extend({initialize:function(s,c){w(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=b(s)?s:s.features,m,v,P;if(c){for(m=0,v=c.length;m<v;m++)P=c[m],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var E=this.options;if(E.filter&&!E.filter(s))return this;var F=tc(s,E);return F?(F.feature=ic(s),F.defaultOptions=F.options,this.resetStyle(F),E.onEachFeature&&E.onEachFeature(s,F),this.addLayer(F)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function tc(s,c){var m=s.type==="Feature"?s.geometry:s,v=m?m.coordinates:null,P=[],E=c&&c.pointToLayer,F=c&&c.coordsToLatLng||fh,H,V,X,re;if(!v&&!m)return null;switch(m.type){case"Point":return H=F(v),F0(E,s,H,c);case"MultiPoint":for(X=0,re=v.length;X<re;X++)H=F(v[X]),P.push(F0(E,s,H,c));return new jr(P);case"LineString":case"MultiLineString":return V=nc(v,m.type==="LineString"?0:1,F),new Nr(V,c);case"Polygon":case"MultiPolygon":return V=nc(v,m.type==="Polygon"?1:2,F),new Da(V,c);case"GeometryCollection":for(X=0,re=m.geometries.length;X<re;X++){var fe=tc({geometry:m.geometries[X],type:"Feature",properties:s.properties},c);fe&&P.push(fe)}return new jr(P);case"FeatureCollection":for(X=0,re=m.features.length;X<re;X++){var ye=tc(m.features[X],c);ye&&P.push(ye)}return new jr(P);default:throw new Error("Invalid GeoJSON object.")}}function F0(s,c,m,v){return s?s(c,m):new Jl(m,v&&v.markersInheritOptions&&v)}function fh(s){return new ee(s[1],s[0],s[2])}function nc(s,c,m){for(var v=[],P=0,E=s.length,F;P<E;P++)F=c?nc(s[P],c-1,m):(m||fh)(s[P]),v.push(F);return v}function hh(s,c){return s=ae(s),s.alt!==void 0?[g(s.lng,c),g(s.lat,c),g(s.alt,c)]:[g(s.lng,c),g(s.lat,c)]}function rc(s,c,m,v){for(var P=[],E=0,F=s.length;E<F;E++)P.push(c?rc(s[E],Nn(s[E])?0:c-1,m,v):hh(s[E],v));return!c&&m&&P.length>0&&P.push(P[0].slice()),P}function Ia(s,c){return s.feature?i({},s.feature,{geometry:c}):ic(c)}function ic(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var mh={toGeoJSON:function(s){return Ia(this,{type:"Point",coordinates:hh(this.getLatLng(),s)})}};Jl.include(mh),dh.include(mh),ec.include(mh),Nr.include({toGeoJSON:function(s){var c=!Nn(this._latlngs),m=rc(this._latlngs,c?1:0,!1,s);return Ia(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Da.include({toGeoJSON:function(s){var c=!Nn(this._latlngs),m=c&&!Nn(this._latlngs[0]),v=rc(this._latlngs,m?2:c?1:0,!0,s);return c||(v=[v]),Ia(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Ma.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(s).geometry.coordinates)}),Ia(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var m=c==="GeometryCollection",v=[];return this.eachLayer(function(P){if(P.toGeoJSON){var E=P.toGeoJSON(s);if(m)v.push(E.geometry);else{var F=ic(E);F.type==="FeatureCollection"?v.push.apply(v,F.features):v.push(F)}}}),m?Ia(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function U0(s,c){return new Pr(s,c)}var IO=U0,ac=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,m){this._url=s,this._bounds=ne(c),w(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){He(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ta(this._image),this},bringToBack:function(){return this._map&&Aa(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ne(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:je("img");if(ve(c,"leaflet-image-layer"),this._zoomAnimated&&ve(c,"leaflet-zoom-animated"),this.options.className&&ve(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=l(this.fire,this,"load"),c.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;$i(this._image,m,c)},_reset:function(){var s=this._image,c=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Qe(s,c.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){jn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),RO=function(s,c,m){return new ac(s,c,m)},H0=ac.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:je("video");if(ve(c,"leaflet-image-layer"),this._zoomAnimated&&ve(c,"leaflet-zoom-animated"),this.options.className&&ve(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=l(this.fire,this,"load"),s){for(var m=c.getElementsByTagName("source"),v=[],P=0;P<m.length;P++)v.push(m[P].src);this._url=m.length>0?v:[c.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var F=je("source");F.src=this._url[E],c.appendChild(F)}}});function zO(s,c,m){return new H0(s,c,m)}var Z0=ac.extend({_initImage:function(){var s=this._image=this._url;ve(s,"leaflet-image-layer"),this._zoomAnimated&&ve(s,"leaflet-zoom-animated"),this.options.className&&ve(s,this.options.className),s.onselectstart=p,s.onmousemove=p}});function $O(s,c,m){return new Z0(s,c,m)}var dr=qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof ee||b(s))?(this._latlng=ae(s),w(this,c)):(w(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&jn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&jn(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(jn(this._container,0),this._removeTimeout=setTimeout(l(He,void 0,this._container),200)):He(this._container),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ta(this._container),this},bringToBack:function(){return this._map&&Aa(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof jr){c=null;var m=this._source._layers;for(var v in m)if(m[v]._map){c=m[v];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=Y(this.options.offset),m=this._getAnchor();this._zoomAnimated?Qe(this._container,s.add(m)):c=c.add(s).add(m);var v=this._containerBottom=-c.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});be.include({_initOverlay:function(s,c,m,v){var P=c;return P instanceof s||(P=new s(v).setContent(c)),m&&P.setLatLng(m),P}}),qn.include({_initOverlay:function(s,c,m,v){var P=m;return P instanceof s?(w(P,v),P._source=this):(P=c&&!v?c:new s(v,this),P.setContent(m)),P}});var sc=dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,dr.prototype.openOn.call(this,s)},onAdd:function(s){dr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ri||this._source.on("preclick",Fi))},onRemove:function(s){dr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ri||this._source.off("preclick",Fi))},getEvents:function(){var s=dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=je("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=je("div",s+"-content-wrapper",c);if(this._contentNode=je("div",s+"-content",m),ro(c),rh(this._contentNode),pe(c,"contextmenu",Fi),this._tipContainer=je("div",s+"-tip-container",c),this._tip=je("div",s+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=je("a",s+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',pe(v,"click",function(P){xt(P),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var v=s.offsetHeight,P=this.options.maxHeight,E="leaflet-popup-scrolled";P&&v>P?(c.height=P+"px",ve(s,E)):Ge(s,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();Qe(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(Js(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,v=this._containerWidth,P=new R(this._containerLeft,-m-this._containerBottom);P._add(Bi(this._container));var E=s.layerPointToContainerPoint(P),F=Y(this.options.autoPanPadding),H=Y(this.options.autoPanPaddingTopLeft||F),V=Y(this.options.autoPanPaddingBottomRight||F),X=s.getSize(),re=0,fe=0;E.x+v+V.x>X.x&&(re=E.x+v-X.x+V.x),E.x-re-H.x<0&&(re=E.x-H.x),E.y+m+V.y>X.y&&(fe=E.y+m-X.y+V.y),E.y-fe-H.y<0&&(fe=E.y-H.y),(re||fe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([re,fe]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),BO=function(s,c){return new sc(s,c)};be.mergeOptions({closePopupOnClick:!0}),be.include({openPopup:function(s,c,m){return this._initOverlay(sc,s,c,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),qn.include({bindPopup:function(s,c){return this._popup=this._initOverlay(sc,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof jr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ui(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var oc=dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){dr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){dr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=dr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=je("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,m,v=this._map,P=this._container,E=v.latLngToContainerPoint(v.getCenter()),F=v.layerPointToContainerPoint(s),H=this.options.direction,V=P.offsetWidth,X=P.offsetHeight,re=Y(this.options.offset),fe=this._getAnchor();H==="top"?(c=V/2,m=X):H==="bottom"?(c=V/2,m=0):H==="center"?(c=V/2,m=X/2):H==="right"?(c=0,m=X/2):H==="left"?(c=V,m=X/2):F.x<E.x?(H="right",c=0,m=X/2):(H="left",c=V+(re.x+fe.x)*2,m=X/2),s=s.subtract(Y(c,m,!0)).add(re).add(fe),Ge(P,"leaflet-tooltip-right"),Ge(P,"leaflet-tooltip-left"),Ge(P,"leaflet-tooltip-top"),Ge(P,"leaflet-tooltip-bottom"),ve(P,"leaflet-tooltip-"+H),Qe(P,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&jn(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),FO=function(s,c){return new oc(s,c)};be.include({openTooltip:function(s,c,m){return this._initOverlay(oc,s,c,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),qn.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oc,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof jr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(pe(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),pe(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,m,v;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),v=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var W0=La.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Kl(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=Y(m.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function UO(s){return new W0(s)}La.Default=so;var oo=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){w(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),He(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ta(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Aa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof R?s:new R(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,m=-s(-1/0,1/0),v=0,P=c.length,E;v<P;v++)E=c[v].style.zIndex,c[v]!==this._container&&E&&(m=s(m,+E));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ce.ielt9){jn(this._container,this.options.opacity);var s=+new Date,c=!1,m=!1;for(var v in this._tiles){var P=this._tiles[v];if(!(!P.current||!P.loaded)){var E=Math.min(1,(s-P.loaded)/200);jn(P.el,E),E<1?c=!0:(P.active?m=!0:this._onOpaqueTile(P),P.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&($(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=c-Math.abs(s-m),this._onUpdateLevel(m)):(He(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[s],P=this._map;return v||(v=this._levels[s]={},v.el=je("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=P.project(P.unproject(P.getPixelOrigin()),s).round(),v.zoom=s,this._setZoomTransform(v,P.getCenter(),P.getZoom()),p(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var s,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)He(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,m,v){var P=Math.floor(s/2),E=Math.floor(c/2),F=m-1,H=new R(+P,+E);H.z=+F;var V=this._tileCoordsToKey(H),X=this._tiles[V];return X&&X.active?(X.retain=!0,!0):(X&&X.loaded&&(X.retain=!0),F>v?this._retainParent(P,E,F,v):!1)},_retainChildren:function(s,c,m,v){for(var P=2*s;P<2*s+2;P++)for(var E=2*c;E<2*c+2;E++){var F=new R(P,E);F.z=m+1;var H=this._tileCoordsToKey(F),V=this._tiles[H];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);m+1<v&&this._retainChildren(P,E,m+1,v)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,m,v){var P=Math.round(c);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var E=this.options.updateWhenZooming&&P!==this._tileZoom;(!v||E)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,c)},_setZoomTransform:function(s,c,m){var v=this._map.getZoomScale(m,s.zoom),P=s.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,m)).round();ce.any3d?$i(s.el,P,v):Qe(s.el,P)},_resetGrid:function(){var s=this._map,c=s.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],v).x/m.x),Math.ceil(s.project([0,c.wrapLng[1]],v).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],v).y/m.x),Math.ceil(s.project([c.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(m,this._tileZoom),P=c.project(s,this._tileZoom).floor(),E=c.getSize().divideBy(v*2);return new le(P.subtract(E),P.add(E))},_update:function(s){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(s),P=this._pxBoundsToTileRange(v),E=P.getCenter(),F=[],H=this.options.keepBuffer,V=new le(P.getBottomLeft().subtract([H,-H]),P.getTopRight().add([H,-H]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var X in this._tiles){var re=this._tiles[X].coords;(re.z!==this._tileZoom||!V.contains(new R(re.x,re.y)))&&(this._tiles[X].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var fe=P.min.y;fe<=P.max.y;fe++)for(var ye=P.min.x;ye<=P.max.x;ye++){var It=new R(ye,fe);if(It.z=this._tileZoom,!!this._isValidTile(It)){var dt=this._tiles[this._tileCoordsToKey(It)];dt?dt.current=!0:F.push(It)}}if(F.sort(function(Wt,za){return Wt.distanceTo(E)-za.distanceTo(E)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pn=document.createDocumentFragment();for(ye=0;ye<F.length;ye++)this._addTile(F[ye],Pn);this._level.el.appendChild(Pn)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!c.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(s);return ne(this.options.bounds).overlaps(v)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,m=this.getTileSize(),v=s.scaleBy(m),P=v.add(m),E=c.unproject(v,s.z),F=c.unproject(P,s.z);return[E,F]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),m=new Z(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),m=new R(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(s){var c=this._tiles[s];c&&(He(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ve(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=p,s.onmousemove=p,ce.ielt9&&this.options.opacity<1&&jn(s,this.options.opacity)},_addTile:function(s,c){var m=this._getTilePos(s),v=this._tileCoordsToKey(s),P=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(P),this.createTile.length<2&&M(l(this._tileReady,this,s,null,P)),Qe(P,m),this._tiles[v]={el:P,coords:s,current:!0},c.appendChild(P),this.fire("tileloadstart",{tile:P,coords:s})},_tileReady:function(s,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:s});var v=this._tileCoordsToKey(s);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(jn(m.el,0),$(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(ve(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ce.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new R(this._wrapX?h(s.x,this._wrapX):s.x,this._wrapY?h(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new le(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function HO(s){return new oo(s)}var Ra=oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=w(this,c),c.detectRetina&&ce.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var m=document.createElement("img");return pe(m,"load",l(this._tileOnLoad,this,c,m)),pe(m,"error",l(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var c={r:ce.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=m),c["-y"]=m}return N(this._url,i(c,this.options))},_tileOnLoad:function(s,c){ce.ielt9?setTimeout(l(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,m){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),s(m,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(s=c-s),s+v},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=p,c.onerror=p,!c.complete)){c.src=T;var m=this._tiles[s].coords;He(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",T),oo.prototype._removeTile.call(this,s)},_tileReady:function(s,c,m){if(!(!this._map||m&&m.getAttribute("src")===T))return oo.prototype._tileReady.call(this,s,c,m)}});function V0(s,c){return new Ra(s,c)}var K0=Ra.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var m=i({},this.defaultWmsParams);for(var v in c)v in this.options||(m[v]=c[v]);c=w(this,c);var P=c.detectRetina&&ce.retina?2:1,E=this.getTileSize();m.width=E.x*P,m.height=E.y*P,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ra.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),m=this._crs,v=te(m.project(c[0]),m.project(c[1])),P=v.min,E=v.max,F=(this._wmsVersion>=1.3&&this._crs===$0?[P.y,P.x,E.y,E.x]:[P.x,P.y,E.x,E.y]).join(","),H=Ra.prototype.getTileUrl.call(this,s);return H+S(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(s,c){return i(this.wmsParams,s),c||this.redraw(),this}});function ZO(s,c){return new K0(s,c)}Ra.WMS=K0,V0.wms=ZO;var Sr=qn.extend({options:{padding:.1},initialize:function(s){w(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var m=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,c),E=v.multiplyBy(-m).add(P).subtract(this._map._getNewPixelOrigin(s,c));ce.any3d?$i(this._container,E,m):Qe(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new le(m,m.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),q0=Sr.extend({options:{tolerance:0},getEvents:function(){var s=Sr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");pe(s,"mousemove",this._onMouseMove,this),pe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,He(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sr.prototype._update.call(this);var s=this._bounds,c=this._container,m=s.getSize(),v=ce.retina?2:1;Qe(c,s.min),c.width=v*m.x,c.height=v*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Sr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,m=c.next,v=c.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),m=[],v,P;for(P=0;P<c.length;P++){if(v=Number(c[P]),isNaN(v))return;m.push(v)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)s=v.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var m,v,P,E,F=s._parts,H=F.length,V=this._ctx;if(H){for(V.beginPath(),m=0;m<H;m++){for(v=0,P=F[m].length;v<P;v++)E=F[m][v],V[v?"lineTo":"moveTo"](E.x,E.y);c&&V.closePath()}this._fillStroke(V,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,m=this._ctx,v=Math.max(Math.round(s._radius),1),P=(Math.max(Math.round(s._radiusY),1)||v)/v;P!==1&&(m.save(),m.scale(1,P)),m.beginPath(),m.arc(c.x,c.y/P,v,0,Math.PI*2,!1),P!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,c){var m=c.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),m,v,P=this._drawFirst;P;P=P.next)m=P.layer,m.options.interactive&&m._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var m,v,P=this._drawFirst;P;P=P.next)m=P.layer,m.options.interactive&&m._containsPoint(c)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(s),v&&(ve(this._container,"leaflet-interactive"),this._fireEvent([v],s,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,m){this._map._fireDOMEvent(c,m||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var m=c.next,v=c.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var m=c.next,v=c.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function G0(s){return ce.canvas?new q0(s):null}var lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),WO={_initContainer:function(){this._container=je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=lo("shape");ve(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=lo("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;He(c),s.removeInteractiveTarget(c),delete this._layers[d(s)]},_updateStyle:function(s){var c=s._stroke,m=s._fill,v=s.options,P=s._container;P.stroked=!!v.stroke,P.filled=!!v.fill,v.stroke?(c||(c=s._stroke=lo("stroke")),P.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,v.dashArray?c.dashStyle=b(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(P.removeChild(c),s._stroke=null),v.fill?(m||(m=s._fill=lo("fill")),P.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(P.removeChild(m),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),m=Math.round(s._radius),v=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){Ta(s._container)},_bringToBack:function(s){Aa(s._container)}},lc=ce.vml?lo:kt,co=Sr.extend({_initContainer:function(){this._container=lc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){He(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sr.prototype._update.call(this);var s=this._bounds,c=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Qe(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=lc("path");s.options.className&&ve(c,s.options.className),s.options.interactive&&ve(c,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){He(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,m=s.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,Ct(s._parts,c))},_updateCircle:function(s){var c=s._point,m=Math.max(Math.round(s._radius),1),v=Math.max(Math.round(s._radiusY),1)||m,P="a"+m+","+v+" 0 1,0 ",E=s._empty()?"M0 0":"M"+(c.x-m)+","+c.y+P+m*2+",0 "+P+-m*2+",0 ";this._setPath(s,E)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){Ta(s._path)},_bringToBack:function(s){Aa(s._path)}});ce.vml&&co.include(WO);function Y0(s){return ce.svg||ce.vml?new co(s):null}be.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&G0(s)||Y0(s)}});var X0=Da.extend({initialize:function(s,c){Da.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ne(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function VO(s,c){return new X0(s,c)}co.create=lc,co.pointsToPath=Ct,Pr.geometryToLayer=tc,Pr.coordsToLatLng=fh,Pr.coordsToLatLngs=nc,Pr.latLngToCoords=hh,Pr.latLngsToCoords=rc,Pr.getFeature=Ia,Pr.asFeature=ic,be.mergeOptions({boxZoom:!0});var Q0=ur.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){He(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),eo(),Gf(),this._startPoint=this._map.mouseEventToContainerPoint(s),pe(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=je("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new le(this._point,this._startPoint),m=c.getSize();Qe(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(He(this._box),Ge(this._container,"leaflet-crosshair")),to(),Yf(),Ae(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var c=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});be.addInitHook("addHandler","boxZoom",Q0),be.mergeOptions({doubleClickZoom:!0});var J0=ur.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,m=c.getZoom(),v=c.options.zoomDelta,P=s.originalEvent.shiftKey?m-v:m+v;c.options.doubleClickZoom==="center"?c.setZoom(P):c.setZoomAround(s.containerPoint,P)}});be.addInitHook("addHandler","doubleClickZoom",J0),be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ex=ur.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ni(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ge(this._map._container,"leaflet-grab"),Ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ne(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,P=(v-c+m)%s+c-m,E=(v+c+m)%s-c-m,F=Math.abs(P+m)<Math.abs(E+m)?P:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(s){var c=this._map,m=c.options,v=!m.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),v)c.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,F=m.easeLinearity,H=P.multiplyBy(F/E),V=H.distanceTo([0,0]),X=Math.min(m.inertiaMaxSpeed,V),re=H.multiplyBy(X/V),fe=X/(m.inertiaDeceleration*F),ye=re.multiplyBy(-fe/2).round();!ye.x&&!ye.y?c.fire("moveend"):(ye=c._limitOffset(ye,c.options.maxBounds),M(function(){c.panBy(ye,{duration:fe,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});be.addInitHook("addHandler","dragging",ex),be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tx=ur.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),pe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,m=s.scrollTop||c.scrollTop,v=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},m=this.keyCodes,v,P;for(v=0,P=m.left.length;v<P;v++)c[m.left[v]]=[-1*s,0];for(v=0,P=m.right.length;v<P;v++)c[m.right[v]]=[s,0];for(v=0,P=m.down.length;v<P;v++)c[m.down[v]]=[0,s];for(v=0,P=m.up.length;v<P;v++)c[m.up[v]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},m=this.keyCodes,v,P;for(v=0,P=m.zoomIn.length;v<P;v++)c[m.zoomIn[v]]=s;for(v=0,P=m.zoomOut.length;v<P;v++)c[m.zoomOut[v]]=-s},_addHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,m=this._map,v;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[c],s.shiftKey&&(v=Y(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(Y(v),m.options.maxBounds)),m.options.worldCopyJump){var P=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(P)}else m.panBy(v)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ui(s)}}});be.addInitHook("addHandler","keyboard",tx),be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nx=ur.extend({addHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=S0(s),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),v),Ui(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,E=m?Math.ceil(P/m)*m:P,F=s._limitZoom(c+(this._delta>0?E:-E))-c;this._delta=0,this._startTime=null,F&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+F):s.setZoomAround(this._lastMousePos,c+F))}});be.addInitHook("addHandler","scrollWheelZoom",nx);var KO=600;be.mergeOptions({tapHold:ce.touchNative&&ce.safari&&ce.mobile,tapTolerance:15});var rx=ur.extend({addHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new R(c.clientX,c.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(pe(document,"touchend",xt),pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),KO),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ae(document,"touchend",xt),Ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new R(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});be.addInitHook("addHandler","tapHold",rx),be.mergeOptions({touchZoom:ce.touch,bounceAtZoomLimits:!0});var ix=ur.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(s.touches[0]),v=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),xt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(s.touches[0]),v=c.mouseEventToContainerPoint(s.touches[1]),P=m.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(P,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&P<1||this._zoom>c.getMaxZoom()&&P>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var E=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(P===1&&E.x===0&&E.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var F=l(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(F,this,!0),xt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});be.addInitHook("addHandler","touchZoom",ix),be.BoxZoom=Q0,be.DoubleClickZoom=J0,be.Drag=ex,be.Keyboard=tx,be.ScrollWheelZoom=nx,be.TapHold=rx,be.TouchZoom=ix,n.Bounds=le,n.Browser=ce,n.CRS=Te,n.Canvas=q0,n.Circle=dh,n.CircleMarker=ec,n.Class=C,n.Control=Kn,n.DivIcon=W0,n.DivOverlay=dr,n.DomEvent=dO,n.DomUtil=cO,n.Draggable=ni,n.Evented=G,n.FeatureGroup=jr,n.GeoJSON=Pr,n.GridLayer=oo,n.Handler=ur,n.Icon=La,n.ImageOverlay=ac,n.LatLng=ee,n.LatLngBounds=Z,n.Layer=qn,n.LayerGroup=Ma,n.LineUtil=NO,n.Map=be,n.Marker=Jl,n.Mixin=yO,n.Path=ri,n.Point=R,n.PolyUtil=xO,n.Polygon=Da,n.Polyline=Nr,n.Popup=sc,n.PosAnimation=k0,n.Projection=PO,n.Rectangle=X0,n.Renderer=Sr,n.SVG=co,n.SVGOverlay=Z0,n.TileLayer=Ra,n.Tooltip=oc,n.Transformation=he,n.Util=D,n.VideoOverlay=H0,n.bind=l,n.bounds=te,n.canvas=G0,n.circle=MO,n.circleMarker=AO,n.control=io,n.divIcon=UO,n.extend=i,n.featureGroup=OO,n.geoJSON=U0,n.geoJson=IO,n.gridLayer=HO,n.icon=EO,n.imageOverlay=RO,n.latLng=ae,n.latLngBounds=ne,n.layerGroup=CO,n.map=fO,n.marker=TO,n.point=Y,n.polygon=DO,n.polyline=LO,n.popup=BO,n.rectangle=VO,n.setOptions=w,n.stamp=d,n.svg=Y0,n.svgOverlay=$O,n.tileLayer=V0,n.tooltip=FO,n.transformation=Q,n.version=r,n.videoOverlay=zO;var qO=window.L;n.noConflict=function(){return window.L=qO,this},window.L=n})})(sg,sg.exports);var Ri=sg.exports;const Vo=wr(Ri);function Ys(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function If(e,t){return t==null?function(r,i){const a=x.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=x.useRef();a.current||(a.current=e(r,i));const l=x.useRef(r),{instance:u}=a.current;return x.useEffect(function(){l.current!==r&&(t(u,r,l.current),l.current=r)},[u,r,i]),a}}function SC(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function kC(e){return function(n){const r=Lf(),i=e(Df(n,r),r);return bC(r.map,n.attribution),Yy(i.current,n.eventHandlers),SC(i.current,r),i}}function JU(e,t){const n=x.useRef();x.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function eH(e){return function(n){const r=Lf(),i=e(Df(n,r),r);return Yy(i.current,n.eventHandlers),SC(i.current,r),JU(i.current,n),i}}function tH(e,t){const n=If(e,t),r=kC(n);return PC(r)}function nH(e,t){const n=If(e),r=QU(n,t);return YU(r)}function Xy(e,t){const n=If(e,t),r=eH(n);return PC(r)}function rH(e,t){const n=If(e,t),r=kC(n);return XU(r)}function iH(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Qy(){return Lf().map}function Jy(e){const t=Qy();return x.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const aH=Xy(function({center:t,children:n,...r},i){const a=new Ri.Circle(t,r);return Ys(a,Mf(i,{overlayContainer:a}))},wC),CC=Xy(function({center:t,children:n,...r},i){const a=new Ri.CircleMarker(t,r);return Ys(a,Mf(i,{overlayContainer:a}))},wC);function og(){return og=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(this,arguments)}function sH({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:l,style:u,whenReady:d,zoom:f,...h},p){const[g]=x.useState({className:i,id:a,style:u}),[y,j]=x.useState(null);x.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const w=x.useCallback(_=>{if(_!==null&&y===null){const N=new Ri.Map(_,h);n!=null&&f!=null?N.setView(n,f):e!=null&&N.fitBounds(e,t),d!=null&&N.whenReady(d),j(GU(N))}},[]);x.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const S=y?iu.createElement(NC,{value:y},r):l??null;return iu.createElement("div",og({},g,{ref:w}),S)}const Rf=x.forwardRef(sH),ns=tH(function({position:t,...n},r){const i=new Ri.Marker(t,n);return Ys(i,Mf(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),bl=Xy(function({positions:t,...n},r){const i=new Ri.Polygon(t,n);return Ys(i,Mf(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),Yi=nH(function(t,n){const r=new Ri.Popup(t,n.overlayContainer);return Ys(r,n)},function(t,n,{position:r},i){x.useEffect(function(){const{instance:l}=t;function u(f){f.popup===l&&(l.update(),i(!0))}function d(f){f.popup===l&&i(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var h;n.map.off({popupopen:u,popupclose:d}),(h=n.overlayContainer)==null||h.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,r])}),zf=rH(function({url:t,...n},r){const i=new Ri.TileLayer(t,Df(n,r));return Ys(i,r)},function(t,n,r){iH(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),OC="dummyMapAreas",e0=e=>{try{localStorage.setItem(OC,JSON.stringify(e))}catch(t){console.error("Failed saving areas to localStorage",t)}},$f=()=>{try{const e=localStorage.getItem(OC);return e?JSON.parse(e):[...hp]}catch(e){return console.error("Failed loading areas from localStorage",e),[...hp]}},Wl=async()=>({data:$f().sort((t,n)=>t.name.localeCompare(n.name)),error:null}),oH=async e=>{const t=$f(),n={...e,id:gn(),created_at:xe(),updated_at:xe()};return t.push(n),e0(t),{data:n,error:null}},lH=async(e,t)=>{const n=$f(),r=n.findIndex(i=>i.id===e);return r===-1?{data:null,error:{message:"Area not found"}}:(n[r]={...n[r],...t,updated_at:xe()},e0(n),{data:n[r],error:null})},cH=async e=>{const t=$f(),n=t.findIndex(i=>i.id===e);if(n===-1)return{error:{message:"Area not found"}};const[r]=t.splice(n,1);e0(t);try{const i=await Pa();await Promise.all((i.data||[]).filter(a=>a.area_id===e||a.area_name===(r==null?void 0:r.name)).map(a=>C2(a.id,{area_id:void 0,area_name:void 0})))}catch{}try{const i=await tn();await Promise.all((i.data||[]).filter(a=>a.area_id===e||a.area_name===(r==null?void 0:r.name)).map(a=>Mu(a.id,{area_id:void 0,area_name:void 0})))}catch{}return{error:null}},uH=async e=>{const[t,n]=await Promise.all([Pa(),tn()]);return{volunteerCount:(t.data||[]).filter(r=>r.area_id===e).length,patientCount:(n.data||[]).filter(r=>r.area_id===e).length,error:null}},gm=new Map,dH=async e=>{if(!e||e.trim().length===0)return null;const t=e.toLowerCase().trim();if(gm.has(t))return gm.get(t);try{const n=encodeURIComponent(e),r=await fetch(`https://nominatim.openstreetmap.org/search?q=${n}&format=json&limit=1`,{headers:{"User-Agent":"HealthcareApp/1.0"}});if(!r.ok)return console.error("Geocoding API error:",r.statusText),null;const i=await r.json();if(!i||i.length===0)return console.warn("No geocoding results for address:",e),null;const a={lat:parseFloat(i[0].lat),lng:parseFloat(i[0].lon),display_name:i[0].display_name,confidence:parseFloat(i[0].importance||"0.5")};return gm.set(t,a),a}catch(n){return console.error("Error geocoding address:",n),null}},fH=(e,t)=>{const n=e[1],r=e[0];let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a][1],d=t[a][0],f=t[l][1],h=t[l][0];d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i},EC=(e,t,n)=>{const r=[e,t];for(const i of n)if(i.geometry&&i.geometry.coordinates&&i.geometry.coordinates.length>0){const a=i.geometry.coordinates[0];if(fH(r,a))return i}return null},hH=async(e,t,n)=>{if(typeof e!="number"||typeof t!="number")return{area:null,method:"none",confidence:"low"};const r=EC(e,t,n);return r?{area:r,method:"gps",confidence:"high"}:{area:null,method:"none",confidence:"low"}},mH=async(e,t)=>{const n=await dH(e);if(!n)return{area:null,method:"none",confidence:"low"};const r=EC(n.lat,n.lng,t);return r?{area:r,method:"address",confidence:n.confidence>.7?"high":n.confidence>.4?"medium":"low",geocodedLat:n.lat,geocodedLng:n.lng}:{area:null,method:"none",confidence:"low",geocodedLat:n.lat,geocodedLng:n.lng}},TC=async(e,t,n,r)=>{const i=await hH(e,t,r);if(i.area&&i.confidence==="high")return i;const a=await mH(n,r);return a.area?a:i.area?i:{area:null,method:"none",confidence:"low"}},AC=["Amnat Charoen","Ang Thong","Bangkok","Bueng Kan","Buri Ram","Chachoengsao","Chai Nat","Chaiyaphum","Chanthaburi","Chiang Mai","Chiang Rai","Chon Buri","Chumphon","Kalasin","Kamphaeng Phet","Kanchanaburi","Khon Kaen","Krabi","Lampang","Lamphun","Loei","Lop Buri","Mae Hong Son","Maha Sarakham","Mukdahan","Nakhon Nayok","Nakhon Pathom","Nakhon Phanom","Nakhon Ratchasima","Nakhon Sawan","Nakhon Si Thammarat","Nan","Narathiwat","Nong Bua Lam Phu","Nong Khai","Nonthaburi","Pathum Thani","Pattani","Phangnga","Phatthalung","Phayao","Phetchabun","Phetchaburi","Phichit","Phitsanulok","Phrae","Phuket","Prachin Buri","Prachuap Khiri Khan","Ranong","Ratchaburi","Rayong","Roi Et","Sa Kaeo","Sakon Nakhon","Samut Prakan","Samut Sakhon","Samut Songkhram","Saraburi","Satun","Sing Buri","Si Sa Ket","Songkhla","Sukhothai","Suphan Buri","Surat Thani","Surin","Tak","Trang","Trat","Ubon Ratchathani","Udon Thani","Uthai Thani","Uttaradit","Yala","Yasothon"],pH=({patient:e,onClose:t})=>{const{user:n}=$e(),[r,i]=x.useState(!1),[a,l]=x.useState({name:"",doe:"",gender:"male",address:"",province:"",district:"",subdistrict:"",addressLine:"",phone_number:"",caregivers_contact:"",caregiver_name:"",caregiver_phone:"",assigned_doctor:"",last_record_date:"",today_date:new Date().toISOString().split("T")[0],assigned_vhv_name:"",medical_record_number:"",patient_categories:{critical:!1,elderly:!1,pregnant:!1},personal_health_history:"",doctor_diagnosed:"",medications_history:"",food_allergies:"",medication_allergies:"",height:"",weight:"",bmi:"",temperature:"",pulse:"",blood_pressure:"",diabetes:"",mental_health_status:"",other_symptoms:"",pregnancy_details:"",smoker:!1,doctors_note:"",photo_url:"",lat:void 0,lng:void 0,patient_email:""}),[u,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState({}),[y,j]=x.useState([]),[w,S]=x.useState(null),[_,N]=x.useState(!1);x.useEffect(()=>{var B,z,M;(async()=>{const{data:$}=await Gr(),D=($||[]).filter(W=>W.role==="doctor").map(W=>({id:W.id,full_name:W.full_name}));d(D);const C=await Pa();h(C.data||[]);try{const W=await tn(),G={};for(const R of W.data||[]){const q=(R.assigned_vhv_name||"").toLowerCase().trim();q&&(G[q]=(G[q]||0)+1)}g(G)}catch{}const U=await Wl();j(U.data||[])})(),e&&l({name:e.name,doe:e.doe,gender:e.gender,address:e.address,province:e.address.split(",").map($=>$.trim()).slice(-1)[0]||"",district:e.address.split(",").map($=>$.trim()).slice(-2,-1)[0]||"",subdistrict:e.address.split(",").map($=>$.trim()).slice(-3,-2)[0]||"",addressLine:e.address.split(",").slice(0,-3).join(", ").trim(),phone_number:e.phone_number||"",caregivers_contact:e.caregivers_contact,caregiver_name:((B=e.caregivers_contact.split("-")[0])==null?void 0:B.trim())||"",caregiver_phone:((z=e.caregivers_contact.split("-")[1])==null?void 0:z.trim())||"",assigned_doctor:e.assigned_doctor,last_record_date:e.last_record_date,today_date:e.today_date,assigned_vhv_name:e.assigned_vhv_name,medical_record_number:e.medical_record_number,patient_categories:e.patient_categories,personal_health_history:e.personal_health_history,doctor_diagnosed:e.doctor_diagnosed,medications_history:e.medications_history,food_allergies:e.food_allergies,medication_allergies:e.medication_allergies,height:e.height,weight:e.weight,bmi:e.bmi,temperature:e.temperature,pulse:e.pulse,blood_pressure:e.blood_pressure,diabetes:e.diabetes,mental_health_status:e.mental_health_status,other_symptoms:e.other_symptoms,pregnancy_details:e.pregnancy_details,smoker:e.smoker,doctors_note:e.doctors_note,lat:e.lat,lng:e.lng,patient_email:e.user_id&&((M=oa(e.user_id))==null?void 0:M.email)||""})},[e]),x.useEffect(()=>{const B=[a.addressLine,a.subdistrict,a.district,a.province].filter(Boolean).join(", ");if(a.lat&&a.lng||B.length>5){const z=setTimeout(async()=>{N(!0);const M=await TC(a.lat,a.lng,B,y);S(M),M.geocodedLat&&M.geocodedLng&&!a.lat&&!a.lng&&l($=>({...$,lat:M.geocodedLat,lng:M.geocodedLng})),N(!1)},600);return()=>clearTimeout(z)}else S(null)},[a.lat,a.lng,a.addressLine,a.subdistrict,a.district,a.province,y]),x.useEffect(()=>{e||(async()=>{const B=await P2();l(z=>({...z,medical_record_number:B}))})()},[e]),x.useEffect(()=>{const B=parseFloat(a.height),z=parseFloat(a.weight);if(B>0&&z>0&&!Number.isNaN(B)&&!Number.isNaN(z)){const M=z/Math.pow(B/100,2);l($=>({...$,bmi:M.toFixed(1)}))}},[a.height,a.weight]);const b=async B=>{var z,M;B.preventDefault(),i(!0);try{const $=[a.addressLine,a.subdistrict,a.district,a.province].filter(Boolean).join(", "),D=[a.caregiver_name,a.caregiver_phone].filter(Boolean).join(" - "),C={name:a.name,doe:a.doe,gender:a.gender,address:$||a.address,phone_number:a.phone_number,caregivers_contact:D||a.caregivers_contact,assigned_doctor:a.assigned_doctor,last_record_date:a.last_record_date,today_date:a.today_date,assigned_vhv_name:a.assigned_vhv_name,medical_record_number:a.medical_record_number,patient_categories:a.patient_categories,personal_health_history:a.personal_health_history,doctor_diagnosed:a.doctor_diagnosed,medications_history:a.medications_history,food_allergies:a.food_allergies,medication_allergies:a.medication_allergies,height:a.height,weight:a.weight,bmi:a.bmi,temperature:a.temperature,pulse:a.pulse,blood_pressure:a.blood_pressure,diabetes:a.diabetes,mental_health_status:a.mental_health_status,other_symptoms:a.other_symptoms,pregnancy_details:a.pregnancy_details,smoker:a.smoker,doctors_note:a.doctors_note,lat:a.lat,lng:a.lng,photo_url:a.photo_url,area_id:(z=w==null?void 0:w.area)==null?void 0:z.id,area_name:(M=w==null?void 0:w.area)==null?void 0:M.name};if(e){let U={...C};if((!e.user_id||!oa(e.user_id))&&a.patient_email){const{data:G}=await x_(a.patient_email,a.name);G!=null&&G.id&&(U.user_id=G.id)}else if(e.user_id&&a.patient_email){const G=e.user_id?oa(e.user_id):void 0;if(G&&G.email.toLowerCase()!==a.patient_email.toLowerCase()){const{error:R}=await WA(e.user_id,a.patient_email);R&&console.error("Error updating user email:",R)}}const{error:W}=await Mu(e.id,U);if(W){console.error("Error updating patient:",W);return}}else{const{data:U}=await x_(a.patient_email,a.name),{error:W}=await dM({...C,created_by:(n==null?void 0:n.id)||"",user_id:(U==null?void 0:U.id)||""});if(W){console.error("Error creating patient:",W);return}}t()}catch($){console.error("Error saving patient:",$)}finally{i(!1)}},k=B=>{const{name:z,value:M,type:$}=B.target;if($==="checkbox"){const D=B.target;if(z.startsWith("patient_categories.")){const C=z.split(".")[1];l({...a,patient_categories:{...a.patient_categories,[C]:D.checked}})}else l({...a,[z]:D.checked})}else l({...a,[z]:M})},T=!1,A=x.useMemo(()=>a.lat&&a.lng?[a.lat,a.lng]:[13.793,100.321],[a.lat,a.lng]),O=x.useMemo(()=>Vo.divIcon({className:"patient-pin",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#a21caf;border:2px solid #fff;box-shadow:0 0 0 3px rgba(162,28,175,0.25);color:#fff;font-size:14px;line-height:1"></div>',iconSize:[26,26],iconAnchor:[13,13],popupAnchor:[0,-13]}),[]),I=()=>(Jy({click(B){l(z=>({...z,lat:B.latlng.lat,lng:B.latlng.lng}))}}),null);return o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx(Rd,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(Fe,{className:"w-6 h-6 text-blue-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Patient":"New Patient"})]})]})}),o.jsxs("form",{onSubmit:b,className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),o.jsx("input",{type:"text",name:"name",required:!0,value:a.name,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Entry (DOE) *"}),o.jsx("input",{type:"date",name:"doe",required:!0,value:a.doe,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),o.jsxs("select",{name:"gender",required:!0,value:a.gender,onChange:k,disabled:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",children:[o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical Record Number (auto)"}),o.jsx("input",{type:"text",name:"medical_record_number",required:!0,value:a.medical_record_number,onChange:k,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province"}),o.jsxs("select",{name:"province",value:a.province,onChange:k,disabled:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[o.jsx("option",{value:"",children:"Select Province"}),AC.map(B=>o.jsx("option",{value:B,children:B},B))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District / Amphoe"}),o.jsx("input",{name:"district",value:a.district,onChange:k,readOnly:T,placeholder:"District (Amphoe)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-District / Tambon"}),o.jsx("input",{name:"subdistrict",value:a.subdistrict,onChange:k,readOnly:T,placeholder:"Sub-district (Tambon)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),o.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),o.jsx("input",{type:"text",name:"addressLine",placeholder:"House number, street, village",value:a.addressLine,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),o.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:B=>{var $;const z=($=B.target.files)==null?void 0:$[0];if(!z)return;const M=new FileReader;M.onload=()=>l(D=>({...D,photo_url:String(M.result)})),M.readAsDataURL(z)},disabled:T}),o.jsx("span",{className:"text-sm text-gray-500",children:"or"}),o.jsx("input",{type:"text",name:"photo_url",placeholder:"Image URL",value:a.photo_url||"",onChange:k,readOnly:T,className:"flex-1 px-3 py-2 border rounded"})]}),a.photo_url&&o.jsx("img",{src:a.photo_url,alt:"preview",className:"mt-2 w-20 h-20 rounded-full object-cover"})]}),o.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Email (for login)"}),o.jsx("input",{type:"email",name:"patient_email",value:a.patient_email,onChange:k,readOnly:T,required:!e,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caregiver's Name"}),o.jsx("input",{type:"text",name:"caregiver_name",value:a.caregiver_name,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caregiver's Contact Number"}),o.jsx("input",{type:"text",name:"caregiver_phone",value:a.caregiver_phone,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),o.jsx("input",{type:"text",name:"phone_number",value:a.phone_number,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Doctor *"}),o.jsxs("select",{name:"assigned_doctor",required:!0,value:a.assigned_doctor,onChange:k,disabled:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[o.jsx("option",{value:"",children:"Select"}),u.map(B=>o.jsx("option",{value:B.full_name,children:B.full_name},B.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned VHV"}),o.jsxs("select",{name:"assigned_vhv_name",value:a.assigned_vhv_name,onChange:k,disabled:!a.lat||!a.lng||!(w!=null&&w.area),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[o.jsx("option",{value:"",children:a.lat&&a.lng&&(w!=null&&w.area)?"Select":"Pin location on map first"}),(()=>{var D;const B=(D=w==null?void 0:w.area)==null?void 0:D.name,M=(f||[]).filter(C=>(C.area_name||"").toLowerCase()===(B||"").toLowerCase()).map(C=>{var U;return{id:C.user_id||C.id,name:((U=C.user)==null?void 0:U.full_name)||C.name}}),$=new Set(M.map(C=>C.name));return a.assigned_vhv_name&&!$.has(a.assigned_vhv_name)&&M.unshift({id:"current",name:a.assigned_vhv_name}),M.map(C=>{const U=C.name.toLowerCase(),W=p[U]||0;return o.jsxs("option",{value:C.name,children:[C.name," (",W,")"]},C.id+C.name)})})()]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Today's Date"}),o.jsx("input",{type:"date",name:"today_date",value:a.today_date,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Record Date"}),o.jsx("input",{type:"date",name:"last_record_date",value:a.last_record_date,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Location"}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Click on the map to set the patient's exact location."}),o.jsx("div",{className:"h-72 w-full border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs(Rf,{center:A,zoom:14,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[o.jsx(zf,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),o.jsx(I,{}),y.map(B=>{var $,D,C;if(!((D=($=B.geometry)==null?void 0:$.coordinates)!=null&&D[0]))return null;const z=B.geometry.coordinates[0].map(U=>[U[0],U[1]]),M=((C=w==null?void 0:w.area)==null?void 0:C.id)===B.id;return o.jsx(bl,{positions:z,pathOptions:{color:B.color,fillColor:B.color,fillOpacity:M?.3:.1,weight:M?3:2}},B.id)}),typeof a.lat=="number"&&typeof a.lng=="number"&&o.jsx(ns,{position:[a.lat,a.lng],icon:O})]})}),w&&o.jsx("div",{className:`mt-3 p-3 rounded border ${w.area?"bg-green-50 border-green-200 text-green-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:w.area?o.jsxs(o.Fragment,{children:["Assigned Area: ",o.jsx("strong",{children:w.area.name}),o.jsxs("span",{className:"ml-2 text-xs opacity-70",children:[w.confidence," (",w.method,")"]})]}):o.jsx(o.Fragment,{children:"No matching area for this location"})}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Latitude"}),o.jsx("input",{type:"number",step:"any",name:"lat",value:a.lat??"",onChange:k,className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Longitude"}),o.jsx("input",{type:"number",step:"any",name:"lng",value:a.lng??"",onChange:k,className:"w-full px-3 py-2 border rounded"})]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Medical Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Categories"}),o.jsxs("div",{className:"flex space-x-6",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"patient_categories.critical",checked:a.patient_categories.critical,onChange:k,disabled:T,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Critical"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"patient_categories.elderly",checked:a.patient_categories.elderly,onChange:k,disabled:T,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Elderly"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"patient_categories.pregnant",checked:a.patient_categories.pregnant,onChange:k,disabled:T,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Pregnant"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal Health History"}),o.jsx("textarea",{name:"personal_health_history",rows:3,value:a.personal_health_history,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor Diagnosed"}),o.jsx("textarea",{name:"doctor_diagnosed",rows:3,value:a.doctor_diagnosed,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medications History"}),o.jsx("textarea",{name:"medications_history",rows:3,value:a.medications_history,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Allergies"}),o.jsx("input",{type:"text",name:"food_allergies",value:a.food_allergies,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medication Allergies"}),o.jsx("input",{type:"text",name:"medication_allergies",value:a.medication_allergies,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),o.jsx("input",{type:"text",name:"height",value:a.height,onChange:k,readOnly:T,placeholder:"e.g., 175 cm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),o.jsx("input",{type:"text",name:"weight",value:a.weight,onChange:k,readOnly:T,placeholder:"e.g., 70 kg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BMI"}),o.jsx("input",{type:"text",name:"bmi",value:a.bmi,onChange:k,readOnly:!0,placeholder:"Auto-calculated",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),o.jsx("input",{type:"text",name:"temperature",value:a.temperature,onChange:k,readOnly:T,placeholder:"e.g., 98.6F",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pulse"}),o.jsx("input",{type:"text",name:"pulse",value:a.pulse,onChange:k,readOnly:T,placeholder:"e.g., 72 bpm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Pressure"}),o.jsx("input",{type:"text",name:"blood_pressure",value:a.blood_pressure,onChange:k,readOnly:T,placeholder:"e.g., 120/80 mmHg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diabetes"}),o.jsx("input",{type:"text",name:"diabetes",value:a.diabetes,onChange:k,readOnly:T,placeholder:"e.g., Type 2, HbA1c: 7.2%",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mental Health Status"}),o.jsx("div",{className:"flex flex-wrap gap-4",children:["Normal","Anxiety","Depression","Stress","Other"].map(B=>{const z=(a.mental_health_status||"").split(",").map(M=>M.trim()).includes(B);return o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[o.jsx("input",{type:"checkbox",checked:z,onChange:M=>{const $=new Set((a.mental_health_status||"").split(",").map(D=>D.trim()).filter(Boolean));M.target.checked?$.add(B):$.delete(B),l(D=>({...D,mental_health_status:Array.from($).join(", ")}))},disabled:T,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),B]},B)})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Any Other Symptoms"}),o.jsx("textarea",{name:"other_symptoms",rows:2,value:a.other_symptoms,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pregnancy Details"}),o.jsx("textarea",{name:"pregnancy_details",rows:3,value:a.pregnancy_details,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",placeholder:"Include gestational age, due date, complications, etc."})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Smoker"}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"smoker",checked:a.smoker===!0,onChange:()=>l(B=>({...B,smoker:!0})),disabled:T}),"Yes"]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"smoker",checked:a.smoker===!1,onChange:()=>l(B=>({...B,smoker:!1})),disabled:T}),"No"]})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor's Notes"}),o.jsx("textarea",{name:"doctors_note",rows:4,value:a.doctors_note,onChange:k,readOnly:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",placeholder:"Doctor's observations, recommendations, and notes..."})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx($s,{className:"w-5 h-5"}),o.jsx("span",{children:e?"Update Patient":"Create Patient"})]})})]})]})]})})},gH=()=>{const{user:e}=$e(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,l]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,g]=x.useState(!1),[y,j]=x.useState(""),[w,S]=x.useState("");x.useEffect(()=>{_(),(async()=>{var U;if((e==null?void 0:e.role)!=="volunteer")return;const{data:D}=await Pa(),C=(D||[]).find(W=>W.user_id===e.id);C&&(j(((U=C.user)==null?void 0:U.full_name)||C.name),S(C.area_name||""))})()},[]);const _=async()=>{try{const{data:D,error:C}=await tn();C?console.error("Error fetching patients:",C):n((D||[]).map(U=>({...U,created_by_user:U.created_by_user})))}catch(D){console.error("Error fetching patients:",D)}finally{i(!1)}},N=x.useMemo(()=>{const D=a.toLowerCase();let C=t;if((e==null?void 0:e.role)==="volunteer"&&w){const U=w.toLowerCase();C=C.filter(W=>(W.area_name||"").toLowerCase()===U)}return(e==null?void 0:e.role)==="volunteer"&&p&&y&&(C=C.filter(U=>(U.assigned_vhv_name||"").toLowerCase().includes(y.toLowerCase()))),C.filter(U=>{var W,G;return U.name.toLowerCase().includes(D)||U.medical_record_number.toLowerCase().includes(D)||((W=U.assigned_vhv_name)==null?void 0:W.toLowerCase().includes(D))||((G=U.assigned_doctor)==null?void 0:G.toLowerCase().includes(D))||U.doctor_diagnosed.toLowerCase().includes(D)})},[t,a,e==null?void 0:e.role,p,y,w]),[b,k]=x.useState(1),T=10,A=Math.max(1,Math.ceil(N.length/T)),O=x.useMemo(()=>{const D=(b-1)*T;return N.slice(D,D+T)},[N,b]);x.useEffect(()=>{k(1)},[a]);const I=D=>{const C=[];return D.patient_categories.critical&&C.push("Critical"),D.patient_categories.elderly&&C.push("Elderly"),D.patient_categories.pregnant&&C.push("Pregnant"),C.length?C.join(", "):"Normal"},B=D=>{h(D),d(!0)},z=()=>{d(!1),h(null),_()};if(r)return o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})});if(u)return o.jsx(pH,{patient:f,onClose:z});const M=(e==null?void 0:e.role)==="doctor",$=(e==null?void 0:e.role)==="volunteer";return M||$?o.jsxs("div",{className:"py-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"relative w-full max-w-xl",children:[o.jsx(ki,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search",value:a,onChange:D=>l(D.target.value),className:"w-full pl-10 pr-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"ml-3 flex items-center gap-3",children:[$&&o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:D=>g(D.target.checked)}),"Assigned to me"]}),((e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer")&&o.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-sky-100 text-sky-700 hover:bg-sky-200 border border-sky-200",children:[o.jsx($n,{className:"w-4 h-4"}),o.jsx("span",{children:"create new patient"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-sky-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Patient ID"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Assigned VHV"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Action"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[O.map(D=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:D.medical_record_number}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:D.name}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:I(D)}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:D.assigned_vhv_name||"-"}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>B(D),className:"text-sky-700 hover:underline inline-flex items-center gap-1",children:[o.jsx(w2,{className:"w-4 h-4"}),"View Detail"]}),o.jsxs("button",{onClick:()=>{localStorage.setItem("records_selected_patient",D.id);try{window.dispatchEvent(new CustomEvent("codex:setView",{detail:"records"}))}catch{}window.setAppView&&window.setAppView("records")},className:"text-green-700 hover:underline inline-flex items-center gap-1",children:[o.jsx(ya,{className:"w-4 h-4"}),"Records"]})]})})]},D.id)),O.length===0&&o.jsx("tr",{children:o.jsx("td",{className:"px-4 py-6 text-center text-gray-500",colSpan:5,children:"No patients found."})})]})]})}),o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Math.min(b*T,N.length)," of ",N.length," patients"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{className:"px-2 py-1 rounded hover:bg-gray-100 disabled:text-gray-300",onClick:()=>k(D=>Math.max(1,D-1)),disabled:b===1,"aria-label":"Previous page",children:"<"}),o.jsx("button",{className:`px-3 py-1 rounded ${b===1?"bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>k(1),children:"1"}),A>2&&o.jsxs(o.Fragment,{children:[b>2&&o.jsx("span",{className:"px-1",children:""}),b>1&&b<A&&o.jsx("button",{className:"px-3 py-1 rounded bg-gray-200",children:b}),b<A-1&&o.jsx("span",{className:"px-1",children:""})]}),A>1&&o.jsx("button",{className:`px-3 py-1 rounded ${b===A?"bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>k(A),children:A}),o.jsx("button",{className:"px-2 py-1 rounded hover:bg-gray-100 disabled:text-gray-300",onClick:()=>k(D=>Math.min(A,D+1)),disabled:b===A,"aria-label":"Next page",children:">"})]})]})]})]}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Management"}),((e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer")&&o.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[o.jsx($n,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Patient"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search patients by name, MRN, or condition...",value:a,onChange:D=>l(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(D=>{var C,U;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all cursor-pointer",onClick:()=>B(D),children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:o.jsx(Fe,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:D.name}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["MRN: ",D.medical_record_number]}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.doctor_diagnosed})]})]}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(ln,{className:"w-4 h-4"}),o.jsxs("span",{children:["Gender: ",D.gender]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(Tu,{className:"w-4 h-4"}),o.jsx("span",{children:D.caregivers_contact})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsxs("span",{children:["Dr: ",D.assigned_doctor]})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-3",children:["Created by: ",(C=D.created_by_user)==null?void 0:C.full_name," (",(U=D.created_by_user)==null?void 0:U.role,")"]}),(D.patient_categories.critical||D.patient_categories.elderly||D.patient_categories.pregnant)&&o.jsxs("div",{className:"flex space-x-1 mt-2",children:[D.patient_categories.critical&&o.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Critical"}),D.patient_categories.elderly&&o.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full",children:"Elderly"}),D.patient_categories.pregnant&&o.jsx("span",{className:"px-2 py-1 bg-pink-100 text-pink-800 text-xs rounded-full",children:"Pregnant"})]})]})]},D.id)})}),N.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:a?"No patients found matching your search.":"No patients found."})]})]})},vH=()=>{var l,u;const{user:e}=$e(),[t,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{a()},[e]);const a=async()=>{if(e)try{const{data:d,error:f}=await Cl(e.id);f&&f.code!=="PGRST116"?console.error("Error fetching patient profile:",f):n(d)}catch(d){console.error("Error fetching patient profile:",d)}finally{i(!1)}};return r?o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):t?o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:o.jsx(Fe,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),o.jsxs("p",{className:"text-gray-600",children:["Medical Record: ",t.medical_record_number]})]})]})}),o.jsxs("div",{className:"p-6",children:[(t.patient_categories.critical||t.patient_categories.elderly||t.patient_categories.pregnant)&&o.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Patient Categories"}),o.jsxs("div",{className:"flex space-x-2",children:[t.patient_categories.critical&&o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:"Critical"}),t.patient_categories.elderly&&o.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:"Elderly"}),t.patient_categories.pregnant&&o.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 text-sm rounded-full",children:"Pregnant"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-5 h-5"}),o.jsx("span",{children:"Basic Information"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ln,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Gender"}),o.jsx("p",{className:"text-gray-900 capitalize",children:t.gender})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(mi,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Address"}),o.jsx("p",{className:"text-gray-900",children:t.address})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tu,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Caregiver's Contact"}),o.jsx("p",{className:"text-gray-900",children:t.caregivers_contact})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Fe,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Assigned Doctor"}),o.jsx("p",{className:"text-gray-900",children:t.assigned_doctor})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Fe,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Assigned VHV"}),o.jsx("p",{className:"text-gray-900",children:t.assigned_vhv_name||"Not assigned"})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(pi,{className:"w-5 h-5"}),o.jsx("span",{children:"Vital Signs"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Height / Weight / BMI"}),o.jsxs("p",{className:"text-gray-900",children:[t.height," / ",t.weight," / ",t.bmi]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Temperature"}),o.jsx("p",{className:"text-gray-900",children:t.temperature})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Pulse"}),o.jsx("p",{className:"text-gray-900",children:t.pulse})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Blood Pressure"}),o.jsx("p",{className:"text-gray-900",children:t.blood_pressure})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Diabetes Status"}),o.jsx("p",{className:"text-gray-900",children:t.diabetes||"None"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Smoker"}),o.jsx("p",{className:"text-gray-900",children:t.smoker?"Yes":"No"})]})]})]})]}),t.personal_health_history&&o.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-blue-800 flex items-center space-x-2 mb-3",children:[o.jsx(mi,{className:"w-5 h-5"}),o.jsx("span",{children:"Personal Health History"})]}),o.jsx("p",{className:"text-blue-700",children:t.personal_health_history})]}),t.doctor_diagnosed&&o.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-green-800 flex items-center space-x-2 mb-3",children:[o.jsx(mi,{className:"w-5 h-5"}),o.jsx("span",{children:"Doctor Diagnosed"})]}),o.jsx("p",{className:"text-green-700",children:t.doctor_diagnosed})]}),(t.food_allergies||t.medication_allergies)&&o.jsxs("div",{className:"mt-8 p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-red-800 flex items-center space-x-2 mb-3",children:[o.jsx(Mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Allergies"})]}),t.food_allergies&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Food Allergies:"}),o.jsx("p",{className:"text-red-700",children:t.food_allergies})]}),t.medication_allergies&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Medication Allergies:"}),o.jsx("p",{className:"text-red-700",children:t.medication_allergies})]})]}),t.medications_history&&o.jsxs("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-purple-800 flex items-center space-x-2 mb-3",children:[o.jsx(rM,{className:"w-5 h-5"}),o.jsx("span",{children:"Medications History"})]}),o.jsx("p",{className:"text-purple-700",children:t.medications_history})]}),t.mental_health_status&&o.jsxs("div",{className:"mt-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 flex items-center space-x-2 mb-3",children:[o.jsx(pi,{className:"w-5 h-5"}),o.jsx("span",{children:"Mental Health Status"})]}),o.jsx("p",{className:"text-indigo-700",children:t.mental_health_status})]}),t.other_symptoms&&o.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-yellow-800 flex items-center space-x-2 mb-3",children:[o.jsx(Mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Other Symptoms"})]}),o.jsx("p",{className:"text-yellow-700",children:t.other_symptoms})]}),t.pregnancy_details&&o.jsxs("div",{className:"mt-6 p-4 bg-pink-50 rounded-lg border border-pink-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-pink-800 flex items-center space-x-2 mb-3",children:[o.jsx(pi,{className:"w-5 h-5"}),o.jsx("span",{children:"Pregnancy Details"})]}),o.jsx("p",{className:"text-pink-700",children:t.pregnancy_details})]}),t.doctors_note&&o.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2 mb-3",children:[o.jsx(mi,{className:"w-5 h-5"}),o.jsx("span",{children:"Doctor's Notes"})]}),o.jsx("p",{className:"text-gray-700",children:t.doctors_note})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-sm text-gray-500",children:[o.jsxs("p",{children:["Date of Entry: ",new Date(t.doe).toLocaleDateString()]}),o.jsxs("p",{children:["Last Record Date: ",t.last_record_date?new Date(t.last_record_date).toLocaleDateString():"N/A"]}),o.jsxs("p",{children:["Profile created by: ",(l=t.created_by_user)==null?void 0:l.full_name," (",(u=t.created_by_user)==null?void 0:u.role,")"]}),o.jsxs("p",{children:["Created: ",new Date(t.created_at).toLocaleDateString()]}),t.updated_at&&o.jsxs("p",{children:["Last updated: ",new Date(t.updated_at).toLocaleDateString()]})]})]})]})}):o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[o.jsx(Fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Profile Found"}),o.jsx("p",{className:"text-gray-600",children:"Your medical profile hasn't been created yet. Please contact your healthcare provider to set up your profile."})]})})},yH=()=>{var G,R,q,Y,le,te;const{user:e}=$e(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,l]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(!1),[p,g]=x.useState(""),[y,j]=x.useState(""),[w,S]=x.useState(!0),[_,N]=x.useState(""),[b,k]=x.useState(null),[T,A]=x.useState(null);x.useEffect(()=>{O(),I()},[e]);const O=async()=>{if(e)try{const{data:Z,error:ne}=await mM(e.id);ne?console.error("Error fetching messages:",ne):n(Z||[])}catch(Z){console.error("Error fetching messages:",Z)}finally{S(!1)}},I=async()=>{try{const{data:Z,error:ne}=await Gr(e==null?void 0:e.id);ne?console.error("Error fetching users:",ne):i(Z||[])}catch(Z){console.error("Error fetching users:",Z)}},B=()=>{const Z=new Map;return t.forEach(ne=>{const ee=ne.sender_id===(e==null?void 0:e.id)?ne.recipient_id:ne.sender_id,ae=ne.sender_id===(e==null?void 0:e.id)?ne.recipient:ne.sender;Z.has(ee)||Z.set(ee,{userId:ee,user:ae,lastMessage:ne,messages:[]}),Z.get(ee).messages.push(ne)}),Array.from(Z.values()).sort((ne,ee)=>new Date(ee.lastMessage.created_at).getTime()-new Date(ne.lastMessage.created_at).getTime())},z=Z=>{var ee;const ne=(ee=Z.target.files)==null?void 0:ee[0];if(ne){if(ne.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!ne.type.startsWith("image/")){alert("Please select an image file");return}k(ne);const ae=new FileReader;ae.onload=Te=>{var Dt;A((Dt=Te.target)==null?void 0:Dt.result)},ae.readAsDataURL(ne)}},M=()=>{k(null),A(null)},$=async()=>{if(!u.trim()&&!b)return;const Z=f?p:a;if(!Z)return;let ne,ee;b&&(ne=T,ee=b.name);try{const{data:ae,error:Te}=await zd({sender_id:(e==null?void 0:e.id)||"",recipient_id:Z,subject:f?y:"Re: Conversation",content:u||(b?`[Image: ${b.name}]`:""),image_url:ne,image_name:ee,is_read:!1});Te?(console.error("Error sending message:",Te),alert("Failed to send message. Please try again.")):(d(""),M(),f&&(j(""),h(!1),g(""),N("")),await O())}catch(ae){console.error("Error sending message:",ae),alert("Failed to send message. Please try again.")}},D=async Z=>{try{await pM(Z,(e==null?void 0:e.id)||"")}catch(ne){console.error("Error marking message as read:",ne)}},C=B(),U=a?((G=C.find(Z=>Z.userId===a))==null?void 0:G.messages)||[]:[],W=r.filter(Z=>Z.full_name.toLowerCase().includes(_.toLowerCase())||Z.email.toLowerCase().includes(_.toLowerCase()));return w?o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),o.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[o.jsx($n,{className:"w-5 h-5"}),o.jsx("span",{children:"New Message"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("div",{className:"flex h-[600px]",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsx("h3",{className:"font-semibold text-gray-900",children:"Conversations"})}),o.jsx("div",{className:"overflow-y-auto",style:{height:"calc(600px - 60px)"},children:C.map(Z=>{var ne,ee;return o.jsx("div",{onClick:()=>{l(Z.userId),h(!1),Z.messages.filter(ae=>ae.recipient_id===(e==null?void 0:e.id)&&!ae.is_read).forEach(ae=>D(ae.id))},className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${a===Z.userId?"bg-blue-50":""}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:o.jsx(Fe,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900 truncate",children:(ne=Z.user)==null?void 0:ne.full_name}),o.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(ee=Z.user)==null?void 0:ee.role}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:Z.lastMessage.content})]}),Z.messages.some(ae=>ae.recipient_id===(e==null?void 0:e.id)&&!ae.is_read)&&o.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})},Z.userId)})})]}),o.jsx("div",{className:"flex-1",children:f?o.jsxs("div",{className:"p-4 h-full flex flex-col",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"New Message"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search users...",value:_,onChange:Z=>N(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),o.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-lg",children:W.map(Z=>o.jsxs("div",{onClick:()=>{g(Z.id),N(Z.full_name)},className:`p-2 cursor-pointer hover:bg-gray-50 ${p===Z.id?"bg-blue-50":""}`,children:[o.jsx("p",{className:"text-sm font-medium",children:Z.full_name}),o.jsx("p",{className:"text-xs text-gray-600 capitalize",children:Z.role})]},Z.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),o.jsx("input",{type:"text",value:y,onChange:Z=>j(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Message subject..."})]})]}),o.jsxs("div",{className:"flex-1 mt-4 flex flex-col",children:[T&&o.jsxs("div",{className:"mb-4 relative inline-block",children:[o.jsx("img",{src:T,alt:"Preview",className:"max-w-xs max-h-32 rounded-lg border border-gray-300"}),o.jsx("button",{onClick:M,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:o.jsx(ws,{className:"w-3 h-3"})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b==null?void 0:b.name})]}),o.jsx("textarea",{value:u,onChange:Z=>d(Z.target.value),placeholder:b?"Add a caption (optional)...":"Type your message...",className:"flex-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none"}),o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsx("div",{className:"flex space-x-2",children:o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"}),o.jsxs("div",{className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all flex items-center space-x-1",children:[o.jsx(YA,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Image"})]})]})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:$,disabled:!u.trim()&&!b||!p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(v_,{className:"w-4 h-4"}),o.jsx("span",{children:"Send"})]})]})]})]})]}):a?o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsx("p",{className:"font-semibold text-gray-900",children:((R=U[0])==null?void 0:R.sender_id)===(e==null?void 0:e.id)?(Y=(q=U[0])==null?void 0:q.recipient)==null?void 0:Y.full_name:(te=(le=U[0])==null?void 0:le.sender)==null?void 0:te.full_name})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:U.sort((Z,ne)=>new Date(Z.created_at).getTime()-new Date(ne.created_at).getTime()).map(Z=>o.jsx("div",{className:`flex ${Z.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Z.sender_id===(e==null?void 0:e.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[Z.image_url&&o.jsxs("div",{className:"mb-2",children:[o.jsx("img",{src:Z.image_url,alt:Z.image_name||"Shared image",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(Z.image_url,"_blank")}),Z.image_name&&o.jsx("p",{className:`text-xs mt-1 ${Z.sender_id===(e==null?void 0:e.id)?"text-blue-200":"text-gray-500"}`,children:Z.image_name})]}),Z.content&&Z.content!==`[Image: ${Z.image_name}]`&&o.jsx("p",{className:"text-sm",children:Z.content}),o.jsx("p",{className:`text-xs mt-1 ${Z.sender_id===(e==null?void 0:e.id)?"text-blue-200":"text-gray-500"}`,children:new Date(Z.created_at).toLocaleString()})]})},Z.id))}),o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[T&&o.jsxs("div",{className:"mb-3 relative inline-block",children:[o.jsx("img",{src:T,alt:"Preview",className:"max-w-xs max-h-24 rounded-lg border border-gray-300"}),o.jsx("button",{onClick:M,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:o.jsx(ws,{className:"w-3 h-3"})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b==null?void 0:b.name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("label",{className:"cursor-pointer self-end",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"}),o.jsx("div",{className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:o.jsx(eM,{className:"w-5 h-5"})})]}),o.jsx("textarea",{value:u,onChange:Z=>d(Z.target.value),placeholder:b?"Add a caption (optional)...":"Type your reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none",rows:2,onKeyPress:Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),$())}}),o.jsx("button",{onClick:$,disabled:!u.trim()&&!b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(v_,{className:"w-5 h-5"})})]})]})]}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ds,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{children:"Select a conversation to start messaging"})]})})})]})})]})},MC=({task:e,onClose:t,rolesFilter:n,forceAssignedToUserId:r,hideAssignedTo:i})=>{const{user:a}=$e(),[l,u]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState([]),[g,y]=x.useState([]),[j,w]=x.useState("general"),[S,_]=x.useState({title:"",description:"",priority:"medium",status:"pending",assigned_to:r||"",patient_id:"",due_date:""}),[N,b]=x.useState([]);x.useEffect(()=>{if(k(),A(),T(),e){const M=!!(e.patient_id&&e.due_date);w(M?"appointment":"general"),_({title:e.title,description:e.description,priority:e.priority,status:e.status,assigned_to:r||e.assigned_to,patient_id:e.patient_id||"",due_date:e.due_date||""}),e.form_fields&&Array.isArray(e.form_fields)&&b(e.form_fields.map($=>{var D;return{...$,options:((D=$.options)==null?void 0:D.join(", "))||""}}))}},[e]);const k=async()=>{try{const{data:M,error:$}=await Gr();if($)console.error("Error fetching users:",$);else{let D=(M||[]).filter(C=>C.role==="doctor"||C.role==="volunteer");n&&n.length&&(D=D.filter(C=>n.includes(C.role))),f(D)}}catch(M){console.error("Error fetching users:",M)}},T=async()=>{try{const{data:M,error:$}=await Pa();$||y(M||[])}catch(M){console.error("Error fetching volunteers:",M)}},A=async()=>{try{const{data:M,error:$}=await tn();$?console.error("Error fetching patients:",$):p(M||[])}catch(M){console.error("Error fetching patients:",M)}},O=async M=>{if(M.preventDefault(),u(!0),j==="appointment"){if(!S.patient_id){alert("Please select a patient for the appointment."),u(!1);return}if(!S.due_date){alert("Please select a date for the appointment."),u(!1);return}}try{const $=N.map(D=>({id:D.id,label:D.label,type:D.type,required:!!D.required,options:D.options?D.options.split(",").map(C=>C.trim()).filter(Boolean):void 0}));if(e){const{error:D}=await pr(e.id,{...S,form_fields:$});if(D){console.error("Error updating task:",D);return}}else{const D={...S,assigned_to:r||S.assigned_to,assigned_by:(a==null?void 0:a.id)||"",patient_id:j==="appointment"?S.patient_id:void 0,form_fields:$,form_responses:{}},{error:C}=await $d(D);if(C){console.error("Error creating task:",C);return}}t()}catch($){console.error("Error saving task:",$)}finally{u(!1)}},I=M=>{const{name:$,value:D}=M.target;$==="assigned_to"&&r||_({...S,[$]:D})},B=M=>{w(M),M==="general"&&_({...S,patient_id:""})},z=(n==null?void 0:n.includes("volunteer"))&&!e;return o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx(Rd,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(us,{className:"w-6 h-6 text-blue-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Task":"Create New Task"})]})]})}),o.jsxs("form",{onSubmit:O,className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Type *"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"taskType",value:"general",checked:j==="general",onChange:()=>B("general"),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700",children:"General Task"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"taskType",value:"appointment",checked:j==="appointment",onChange:()=>B("appointment"),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Appointment"})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j==="appointment"?`Appointments require a patient and date, and will appear in the volunteer's "Today's Appointments" tab.`:`General tasks will appear in the volunteer's "Today's To-Do" tab when due today.`})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),o.jsx("input",{type:"text",name:"title",required:!0,value:S.title,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter task title..."})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{name:"description",required:!0,rows:4,value:S.description,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Describe the task in detail..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),o.jsxs("select",{name:"priority",required:!0,value:S.priority,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"urgent",children:"Urgent"})]})]}),(!(n!=null&&n.includes("volunteer"))||!!e)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),o.jsxs("select",{name:"status",required:!0,value:S.status,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{className:j==="general"?"opacity-50":"",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:j==="appointment"?"Patient *":"Related Patient (Optional)"}),o.jsxs("select",{name:"patient_id",value:S.patient_id,onChange:I,required:j==="appointment",disabled:j==="general",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"",children:"Select patient..."}),h.map(M=>o.jsxs("option",{value:M.id,children:[M.name," - ",M.medical_record_number]},M.id))]}),j==="general"&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"General tasks don't require a patient assignment"})]}),i?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To"}),o.jsx("div",{className:"px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:"You"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To *"}),o.jsxs("select",{name:"assigned_to",required:!0,value:S.assigned_to,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"",children:"Select user..."}),(()=>{let M=d;if(n!=null&&n.includes("volunteer")){let $="";if(S.patient_id){const D=h.find(C=>C.id===S.patient_id);$=((D==null?void 0:D.area_name)||"").toLowerCase()}if($){const D=g.filter(C=>(C.area_name||"").toLowerCase()===$).map(C=>C.user_id);M=d.filter(C=>C.role==="volunteer"&&D.includes(C.id))}else M=d.filter(D=>D.role==="volunteer")}return M.map($=>o.jsxs("option",{value:$.id,children:[$.full_name," (",$.role,")"]},$.id))})()]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:j==="appointment"?"Appointment Date *":"Due Date (Optional)"}),o.jsx("input",{type:"date",name:"due_date",value:S.due_date,onChange:I,required:j==="appointment",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),j==="appointment"&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Appointment date is required and will appear in the volunteer's appointment schedule"})]}),(n==null?void 0:n.includes("volunteer"))&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Form Fields (for volunteer to fill)"}),o.jsxs("div",{className:"space-y-3",children:[N.map((M,$)=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-center",children:[o.jsx("input",{className:"px-3 py-2 border rounded md:col-span-2",placeholder:"Field label",value:M.label,onChange:D=>{const C=D.target.value;b(U=>U.map((W,G)=>G===$?{...W,label:C}:W))}}),o.jsxs("select",{className:"px-3 py-2 border rounded",value:M.type,onChange:D=>{const C=D.target.value;b(U=>U.map((W,G)=>G===$?{...W,type:C}:W))},children:[o.jsx("option",{value:"text",children:"Text"}),o.jsx("option",{value:"textarea",children:"Textarea"}),o.jsx("option",{value:"number",children:"Number"}),o.jsx("option",{value:"date",children:"Date"}),o.jsx("option",{value:"select",children:"Select"}),o.jsx("option",{value:"checkbox",children:"Checkbox"}),o.jsx("option",{value:"radio",children:"Radio"})]}),o.jsx("input",{className:"px-3 py-2 border rounded md:col-span-2",placeholder:"Options (comma separated)",value:M.options||"",onChange:D=>{const C=D.target.value;b(U=>U.map((W,G)=>G===$?{...W,options:C}:W))}}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!M.required,onChange:D=>{const C=D.target.checked;b(U=>U.map((W,G)=>G===$?{...W,required:C}:W))}})," Required"]}),o.jsx("button",{type:"button",className:"text-red-600 text-sm",onClick:()=>b(D=>D.filter((C,U)=>U!==$)),children:"Remove"})]})]},M.id)),o.jsx("button",{type:"button",className:"px-3 py-2 border rounded text-sm",onClick:()=>b(M=>[...M,{id:"f-"+Math.random().toString(36).slice(2,9),label:"",type:"text",options:""}]),children:"+ Add Field"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"These fields will appear on the volunteer side when they open the task to complete it."})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx($s,{className:"w-5 h-5"}),o.jsx("span",{children:e?"Update Task":"Create Task"})]})})]})]})]})})},t1=({personalOnly:e=!1,title:t})=>{const{user:n}=$e(),[r,i]=x.useState([]),[a,l]=x.useState(!0),[u,d]=x.useState(""),[f,h]=x.useState("all"),[p,g]=x.useState("all"),[y,j]=x.useState(!1),[w,S]=x.useState(null);x.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:z,error:M}=await Lr(n==null?void 0:n.id);if(M)console.error("Error fetching tasks:",M);else{let $=z||[];e&&(n!=null&&n.id)&&($=$.filter(D=>D.assigned_to===n.id)),i($)}}catch(z){console.error("Error fetching tasks:",z)}finally{l(!1)}},N=async(z,M)=>{try{const{error:$}=await pr(z,{status:M});$?console.error("Error updating task:",$):_()}catch($){console.error("Error updating task:",$)}},b=async z=>{if(window.confirm("Are you sure you want to delete this task?"))try{const{error:M}=await O2(z);M?console.error("Error deleting task:",M):_()}catch(M){console.error("Error deleting task:",M)}},k=z=>{S(z),j(!0)},T=()=>{j(!1),S(null),_()},A=r.filter(z=>{var C;const M=z.title.toLowerCase().includes(u.toLowerCase())||z.description.toLowerCase().includes(u.toLowerCase())||((C=z.assigned_to_user)==null?void 0:C.full_name.toLowerCase().includes(u.toLowerCase())),$=f==="all"||z.status===f,D=p==="all"||z.priority===p;return M&&$&&D}),O=z=>{switch(z){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=z=>{switch(z){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=z=>{switch(z){case"completed":return o.jsx(cs,{className:"w-4 h-4"});case"in_progress":return o.jsx(Ou,{className:"w-4 h-4"});case"pending":return o.jsx(Mr,{className:"w-4 h-4"});default:return o.jsx(Ou,{className:"w-4 h-4"})}};return a?o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):y?o.jsx(MC,{task:w,onClose:T,forceAssignedToUserId:e?n==null?void 0:n.id:void 0,hideAssignedTo:e}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t||(e?"My Tasks":"Task Management")}),o.jsxs("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[o.jsx($n,{className:"w-5 h-5"}),o.jsx("span",{children:e?"Add Task":"Create Task"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search tasks...",value:u,onChange:z=>d(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("select",{value:f,onChange:z=>h(z.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]}),o.jsxs("select",{value:p,onChange:z=>g(z.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Priority"}),o.jsx("option",{value:"urgent",children:"Urgent"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:A.map(z=>{var M,$;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2",children:z.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:z.description})]}),o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsx("button",{onClick:()=>k(z),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Task",children:o.jsx(Au,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>b(z.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Task",children:o.jsx(kl,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(z.priority)}`,children:[z.priority.charAt(0).toUpperCase()+z.priority.slice(1)," Priority"]}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${I(z.status)}`,children:[B(z.status),o.jsx("span",{children:z.status.replace("_"," ").charAt(0).toUpperCase()+z.status.replace("_"," ").slice(1)})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsxs("span",{children:["Assigned to: ",(M=z.assigned_to_user)==null?void 0:M.full_name]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsxs("span",{children:["Created by: ",($=z.assigned_by_user)==null?void 0:$.full_name]})]}),z.patient&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsxs("span",{children:["Patient: ",z.patient.name]})]}),z.due_date&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ln,{className:"w-4 h-4"}),o.jsxs("span",{children:["Due: ",new Date(z.due_date).toLocaleDateString()]})]})]}),z.status!=="completed"&&z.status!=="cancelled"&&o.jsxs("div",{className:"flex space-x-2",children:[z.status==="pending"&&o.jsx("button",{onClick:()=>N(z.id,"in_progress"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Start Task"}),z.status==="in_progress"&&o.jsx("button",{onClick:()=>N(z.id,"completed"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Complete"}),o.jsx("button",{onClick:()=>N(z.id,"cancelled"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Cancel"})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:[o.jsxs("p",{children:["Created: ",new Date(z.created_at).toLocaleDateString()]}),z.completed_at&&o.jsxs("p",{children:["Completed: ",new Date(z.completed_at).toLocaleDateString()]})]})]},z.id)})}),A.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(cs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:u||f!=="all"||p!=="all"?"No tasks found matching your filters.":"No tasks found."})]})]})},xd=({open:e,title:t,onClose:n,children:r})=>e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:n}),o.jsxs("div",{className:"relative bg-white w-[95vw] max-w-3xl max-h-[85vh] rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200 bg-gray-50",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900",children:t}),o.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 px-2 py-1",children:""})]}),o.jsx("div",{className:"p-5 overflow-auto",children:r})]})]}):null,xH=e=>e?new Date(e).toLocaleDateString():"",vm=(e,t)=>{if(!e)return"";const n=new Date(e).toLocaleDateString();return t?`${n} ${t}`:n},_H=()=>{const{user:e}=$e(),[t,n]=x.useState("appointments"),[r,i]=x.useState([]),[a,l]=x.useState(!0),[u,d]=x.useState([]),[f,h]=x.useState(()=>new Date().toISOString().slice(0,10)),[p,g]=x.useState(""),[y,j]=x.useState([]),[w,S]=x.useState(!1),[_,N]=x.useState({patientId:"",doctorId:"",date:new Date().toISOString().slice(0,10),time:"09:00",title:"Appointment",description:""}),[b,k]=x.useState(!1),[T,A]=x.useState(null),[O,I]=x.useState({patientId:"",doctorId:"",date:"",time:"09:00",title:"",description:""}),B=async()=>{l(!0);const[{data:R},{data:q},{data:Y}]=await Promise.all([Lr(),Gr(),tn()]),le=(R||[]).filter(te=>te.assigned_to===(e==null?void 0:e.id));i(le),d((q||[]).filter(te=>te.role==="doctor")),j(Y||[]),l(!1)};x.useEffect(()=>{B()},[]);const z=x.useMemo(()=>r.filter(R=>!!R.patient_id),[r]),M=x.useMemo(()=>r.filter(R=>!R.patient_id),[r]),$=x.useMemo(()=>{const R=p.toLowerCase();return z.filter(q=>{var Y;return q.status==="pending"&&((q.title||"").toLowerCase().includes(R)||(((Y=q.patient)==null?void 0:Y.name)||"").toLowerCase().includes(R))})},[z,p]),D=x.useMemo(()=>{const R=p.toLowerCase();return z.filter(q=>{var Y;return(q.status==="in_progress"||q.status==="completed")&&(f?q.due_date===f:!0)&&((q.title||"").toLowerCase().includes(R)||(((Y=q.patient)==null?void 0:Y.name)||"").toLowerCase().includes(R))})},[z,f,p]),C=x.useMemo(()=>{const R=p.toLowerCase();return z.filter(q=>{var Y;return q.status==="cancelled"&&((q.title||"").toLowerCase().includes(R)||(((Y=q.patient)==null?void 0:Y.name)||"").toLowerCase().includes(R))})},[z,p]),U=x.useMemo(()=>{const R=p.toLowerCase();return M.filter(q=>(q.title||"").toLowerCase().includes(R)||(q.description||"").toLowerCase().includes(R))},[M,p]),W=async R=>{await pr(R.id,{status:"in_progress"}),B()},G=R=>{A(R),I({patientId:R.patient_id||"",doctorId:R.assigned_to,date:R.due_date||new Date().toISOString().slice(0,10),time:R.due_time||"09:00",title:R.title||"Appointment",description:R.description||""}),k(!0)};return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"inline-flex rounded-lg overflow-hidden border border-gray-200",children:[o.jsxs("button",{className:`px-4 py-2 text-sm inline-flex items-center gap-2 whitespace-nowrap ${t==="appointments"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>n("appointments"),children:[o.jsx(bs,{className:"w-4 h-4"})," Appointments"]}),o.jsxs("button",{className:`px-4 py-2 text-sm border-l border-gray-200 inline-flex items-center gap-2 whitespace-nowrap ${t==="general"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>n("general"),children:[o.jsx(us,{className:"w-4 h-4"})," General Tasks"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[t==="appointments"&&o.jsx("input",{type:"date",className:"px-3 py-2 border rounded",value:f,onChange:R=>h(R.target.value)}),o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"w-4 h-4 absolute left-2 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{className:"pl-7 pr-3 py-2 border rounded",placeholder:"Search...",value:p,onChange:R=>g(R.target.value)})]}),t==="appointments"&&o.jsxs("button",{className:"px-3 py-2 bg-blue-600 text-white rounded inline-flex items-center gap-1",onClick:()=>{N({patientId:"",doctorId:(e==null?void 0:e.id)||"",date:new Date().toISOString().slice(0,10),title:"Appointment",description:""}),S(!0)},children:[o.jsx($n,{className:"w-4 h-4"})," Create"]})]})]}),a?o.jsx("div",{className:"py-10 text-center",children:"Loading"}):t==="appointments"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white border rounded-xl overflow-hidden mb-6",children:[o.jsx("div",{className:"px-4 py-2 bg-red-50 border-b border-red-100 text-sm text-red-800",children:"Needs Approval"}),o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Patient"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Title"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Requested Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[$.map(R=>{var q;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((q=R.patient)==null?void 0:q.name)||""}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:R.title||"Appointment"}),o.jsx("td",{className:"px-4 py-2 text-sm",children:vm(R.due_date,R.due_time)}),o.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[o.jsxs("button",{onClick:()=>W(R),className:"px-3 py-1 bg-green-600 text-white rounded inline-flex items-center gap-1",children:[o.jsx(cs,{className:"w-4 h-4"}),"Approve"]}),o.jsxs("button",{onClick:()=>G(R),className:"px-3 py-1 bg-blue-600 text-white rounded inline-flex items-center gap-1",children:[o.jsx(Au,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>pr(R.id,{status:"cancelled"}).then(B),className:"px-3 py-1 bg-red-600 text-white rounded inline-flex items-center gap-1",children:[o.jsx(y_,{className:"w-4 h-4"}),"Cancel"]})]})]},R.id)}),$.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No pending requests."})})]})]})]}),o.jsxs("div",{className:"bg-white border rounded-xl overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-2 bg-blue-50 border-b border-blue-100 text-sm text-blue-800",children:["Approved  ",f||"All Dates"]}),o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Patient"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Title"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[D.map(R=>{var q;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((q=R.patient)==null?void 0:q.name)||""}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:R.title||"Appointment"}),o.jsx("td",{className:"px-4 py-2 text-sm",children:vm(R.due_date,R.due_time)}),o.jsx("td",{className:"px-4 py-2 text-sm capitalize",children:R.status.replace("_"," ")}),o.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[o.jsxs("button",{onClick:()=>G(R),className:"px-3 py-1 bg-blue-600 text-white rounded inline-flex items-center gap-1",children:[o.jsx(Au,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>pr(R.id,{status:"cancelled"}).then(B),className:"px-3 py-1 bg-red-600 text-white rounded inline-flex items-center gap-1",children:[o.jsx(y_,{className:"w-4 h-4"}),"Cancel"]})]})]},R.id)}),D.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No approved appointments for this date."})})]})]})]}),o.jsxs("div",{className:"bg-white border rounded-xl overflow-hidden mt-6",children:[o.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-100 text-sm text-gray-800",children:"Cancelled"}),o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Patient"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Title"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Date"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[C.map(R=>{var q;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((q=R.patient)==null?void 0:q.name)||""}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:R.title||"Appointment"}),o.jsx("td",{className:"px-4 py-2 text-sm",children:vm(R.due_date,R.due_time)})]},R.id)}),C.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500",children:"No cancelled appointments."})})]})]})]})]}):o.jsx("div",{className:"bg-white border rounded-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Title"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Due"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Priority"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Status"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[U.map(R=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:R.title}),o.jsx("td",{className:"px-4 py-2 text-sm",children:xH(R.due_date)}),o.jsx("td",{className:"px-4 py-2 text-sm capitalize",children:R.priority}),o.jsx("td",{className:"px-4 py-2 text-sm capitalize",children:R.status.replace("_"," ")})]},R.id)),U.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500",children:"No general tasks."})})]})]})}),o.jsx(xd,{open:w,title:"Create Appointment",onClose:()=>S(!1),children:o.jsxs("form",{onSubmit:async R=>{R.preventDefault(),!(!_.patientId||!_.doctorId||!_.date)&&(await $d({title:_.title||"Appointment",description:_.description||"Doctor scheduled appointment",priority:"medium",status:"in_progress",assigned_to:_.doctorId,assigned_by:(e==null?void 0:e.id)||"",patient_id:_.patientId,due_date:_.date,due_time:_.time}),S(!1),B())},className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),o.jsxs("select",{className:"w-full px-3 py-2 border rounded",value:_.patientId,onChange:R=>N({..._,patientId:R.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select patient"}),y.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Doctor"}),o.jsxs("select",{className:"w-full px-3 py-2 border rounded",value:_.doctorId,onChange:R=>N({..._,doctorId:R.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select doctor"}),u.map(R=>o.jsx("option",{value:R.id,children:R.full_name},R.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded",value:_.date,onChange:R=>N({..._,date:R.target.value}),required:!0}),o.jsx("input",{type:"time",className:"w-full px-3 py-2 border rounded",value:_.time,onChange:R=>N({..._,time:R.target.value}),required:!0})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{className:"w-full px-3 py-2 border rounded",value:_.title,onChange:R=>N({..._,title:R.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border rounded",value:_.description,onChange:R=>N({..._,description:R.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 border rounded",onClick:()=>S(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Create"})]})]})}),o.jsx(xd,{open:b,title:"Edit Appointment",onClose:()=>k(!1),children:o.jsxs("form",{onSubmit:async R=>{R.preventDefault(),T&&(await pr(T.id,{title:O.title,description:O.description,assigned_to:O.doctorId,due_date:O.date,due_time:O.time,status:T.status==="pending"?"in_progress":T.status}),k(!1),B())},className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Doctor"}),o.jsxs("select",{className:"w-full px-3 py-2 border rounded",required:!0,value:O.doctorId,onChange:R=>I({...O,doctorId:R.target.value}),children:[o.jsx("option",{value:"",children:"Select doctor"}),u.map(R=>o.jsx("option",{value:R.id,children:R.full_name},R.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded",required:!0,value:O.date,onChange:R=>I({...O,date:R.target.value})}),o.jsx("input",{type:"time",className:"w-full px-3 py-2 border rounded",required:!0,value:O.time,onChange:R=>I({...O,time:R.target.value})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{className:"w-full px-3 py-2 border rounded",value:O.title,onChange:R=>I({...O,title:R.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border rounded",value:O.description,onChange:R=>I({...O,description:R.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 border rounded",onClick:()=>k(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})]})},bH=()=>{var z;const{user:e}=$e(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,l]=x.useState(""),[u,d]=x.useState("all"),[f,h]=x.useState("all"),[p,g]=x.useState(!1),[y,j]=x.useState(null),[w,S]=x.useState(null);x.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:M}=await Lr(),$=(M||[]).filter(D=>{var C;return((C=D.assigned_to_user)==null?void 0:C.role)==="volunteer"});n($)}finally{i(!1)}},N=async(M,$)=>{const{error:D}=await pr(M,{status:$});D||_()},b=async M=>{if(!window.confirm("Delete this task?"))return;const{error:$}=await O2(M);$||_()},k=M=>{j(M),g(!0)},T=()=>{g(!1),j(null),_()},A=t.filter(M=>{var U;const $=M.title.toLowerCase().includes(a.toLowerCase())||M.description.toLowerCase().includes(a.toLowerCase())||((U=M.assigned_to_user)==null?void 0:U.full_name.toLowerCase().includes(a.toLowerCase())),D=u==="all"||M.status===u,C=f==="all"||M.priority===f;return $&&D&&C}),O=M=>{switch(M){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=M=>{switch(M){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=M=>{switch(M){case"completed":return o.jsx(cs,{className:"w-4 h-4"});case"in_progress":return o.jsx(Ou,{className:"w-4 h-4"});case"pending":return o.jsx(Mr,{className:"w-4 h-4"});default:return o.jsx(Ou,{className:"w-4 h-4"})}};return r?o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):p?o.jsx(MC,{task:y,onClose:T,rolesFilter:["volunteer"]}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Volunteer Tasks"}),(e==null?void 0:e.role)==="doctor"&&o.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[o.jsx($n,{className:"w-5 h-5"}),o.jsx("span",{children:"Assign Task"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search tasks...",value:a,onChange:M=>l(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("select",{value:u,onChange:M=>d(M.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]}),o.jsxs("select",{value:f,onChange:M=>h(M.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Priority"}),o.jsx("option",{value:"urgent",children:"Urgent"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:A.map(M=>{var $;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2",children:M.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:M.description})]}),o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsx("button",{onClick:()=>k(M),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Task",children:o.jsx(Au,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>b(M.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Task",children:o.jsx(kl,{className:"w-4 h-4"})}),(M.report||M.form_responses&&Object.keys(M.form_responses).length>0)&&o.jsx("button",{onClick:()=>S(M),className:"p-2 text-gray-500 hover:text-green-700 hover:bg-green-50 rounded-lg transition-all",title:"Review Submission",children:o.jsx(cs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(M.priority)}`,children:[M.priority.charAt(0).toUpperCase()+M.priority.slice(1)," Priority"]}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${I(M.status)}`,children:[B(M.status),o.jsx("span",{children:M.status.replace("_"," ").charAt(0).toUpperCase()+M.status.replace("_"," ").slice(1)})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsxs("span",{children:["Volunteer: ",($=M.assigned_to_user)==null?void 0:$.full_name]})]}),M.patient&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsxs("span",{children:["Patient: ",M.patient.name]})]}),M.due_date&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ln,{className:"w-4 h-4"}),o.jsxs("span",{children:["Due: ",new Date(M.due_date).toLocaleDateString()]})]}),M.report&&o.jsxs("div",{className:"text-gray-700 bg-gray-50 border border-gray-200 rounded p-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Volunteer Report"}),o.jsx("div",{children:M.report})]})]}),M.status!=="completed"&&M.status!=="cancelled"&&o.jsxs("div",{className:"flex space-x-2",children:[M.status==="pending"&&o.jsx("button",{onClick:()=>N(M.id,"in_progress"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Start"}),M.status==="in_progress"&&o.jsx("button",{onClick:()=>N(M.id,"completed"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Complete"}),o.jsx("button",{onClick:()=>N(M.id,"cancelled"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Cancel"})]})]},M.id)})}),A.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(cs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No volunteer tasks found."})]}),o.jsx(xd,{open:!!w,title:w?`Review Submission: ${w.title}`:"",onClose:()=>S(null),children:w?o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"text-gray-700",children:["Volunteer: ",o.jsx("span",{className:"font-medium",children:(z=w.assigned_to_user)==null?void 0:z.full_name})]}),w.patient&&o.jsxs("div",{className:"text-gray-700",children:["Patient: ",o.jsx("span",{className:"font-medium",children:w.patient.name})]}),w.due_date&&o.jsxs("div",{className:"text-gray-700",children:["Due: ",o.jsx("span",{className:"font-medium",children:new Date(w.due_date).toLocaleDateString()})]}),o.jsxs("div",{className:"text-gray-700",children:["Status: ",o.jsx("span",{className:"font-medium capitalize",children:w.status.replace("_"," ")})]})]}),w.report?o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Volunteer Report"}),o.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:w.report})]}):o.jsx("div",{className:"text-gray-500",children:"No written report provided."}),w.form_fields&&w.form_fields.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Form Responses"}),o.jsx("div",{className:"space-y-2",children:w.form_fields.map(M=>{const $=(w.form_responses||{})[M.id],D=Array.isArray($)?$.join(", "):$??"";return o.jsxs("div",{className:"flex justify-between gap-4 border-b border-gray-100 pb-1",children:[o.jsx("div",{className:"text-gray-600",children:M.label}),o.jsx("div",{className:"text-gray-900 text-right break-words",children:String(D)||""})]},M.id)})})]})]}):null})]})},n1=e=>{if(!e)return!1;const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()},wH=()=>{const{user:e}=$e(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,l]=x.useState("appointments"),[u,d]=x.useState(null),[f,h]=x.useState(""),[p,g]=x.useState({});x.useEffect(()=>{y()},[]);const y=async()=>{const{data:C}=await Lr(e==null?void 0:e.id),U=(C||[]).filter(W=>W.assigned_to===(e==null?void 0:e.id));n(U),i(!1)},j=C=>C.status==="completed"&&!(C.report&&String(C.report).trim().length>0)?"in_progress":C.status,w=x.useMemo(()=>t.filter(C=>n1(C.due_date)&&!!C.patient),[t]),S=x.useMemo(()=>t.filter(C=>n1(C.due_date)&&!C.patient),[t]),_=C=>{if(!C)return!1;const U=new Date(C),W=new Date;return U.setHours(0,0,0,0)>W.setHours(0,0,0,0)},N=C=>{if(!C)return!1;const U=new Date(C),W=new Date;return U.setHours(0,0,0,0)<W.setHours(0,0,0,0)},b=x.useMemo(()=>t.filter(C=>!!C.patient&&_(C.due_date)&&j(C)!=="completed"&&C.status!=="cancelled"),[t]),k=x.useMemo(()=>t.filter(C=>!!C.patient&&N(C.due_date)&&j(C)!=="completed"&&C.status!=="cancelled"),[t]),T=x.useMemo(()=>t.filter(C=>!!C.patient&&C.status==="completed"&&!!(C.report&&String(C.report).trim().length>0)),[t]),A=x.useMemo(()=>t.filter(C=>!C.patient&&_(C.due_date)&&j(C)!=="completed"&&C.status!=="cancelled"),[t]),O=x.useMemo(()=>t.filter(C=>!C.patient&&N(C.due_date)&&j(C)!=="completed"&&C.status!=="cancelled"),[t]),I=x.useMemo(()=>t.filter(C=>!C.patient&&C.status==="completed"&&!!(C.report&&String(C.report).trim().length>0)),[t]),B=async C=>{await pr(C.id,{status:"in_progress"}),y()},z=C=>{d(C),h(C.report||""),g(C.form_responses||{})},M=async()=>{u&&(await pr(u.id,{status:"completed",report:f,form_responses:p}),d(null),h(""),g({}),y())},$=a==="appointments"?w:S,D=({title:C,items:U})=>o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:C}),U.length===0?o.jsx("div",{className:"text-gray-500 text-sm",children:"No items."}):o.jsx("div",{className:"space-y-3",children:U.map(W=>o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:W.title}),o.jsx("div",{className:"text-gray-600 mt-1",children:W.description}),o.jsxs("div",{className:"text-gray-700 mt-2",children:["Due ",W.due_date?new Date(W.due_date).toLocaleDateString():""," ",W.patient&&o.jsxs("span",{children:[" Patient: ",W.patient.name]})]})]}),o.jsx("div",{className:"flex gap-2",children:j(W)!=="completed"&&W.status!=="cancelled"&&o.jsx("button",{onClick:()=>z(W),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Open"})})]})},W.id))})]});return r?o.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Tasks"}),o.jsxs("div",{className:"inline-flex rounded-lg overflow-hidden border border-gray-200",children:[o.jsxs("button",{className:`px-4 py-2 text-sm flex items-center gap-2 ${a==="appointments"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>l("appointments"),children:[o.jsx(bs,{className:"w-4 h-4"})," Todays Appointments"]}),o.jsxs("button",{className:`px-4 py-2 text-sm border-l border-gray-200 flex items-center gap-2 ${a==="todos"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>l("todos"),children:[o.jsx(tM,{className:"w-4 h-4"})," Todays ToDo"]})]})]}),$.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Mr,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),"No tasks for today in this tab."]}):o.jsx("div",{className:"space-y-4",children:$.map(C=>o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:C.title}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:C.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-3",children:[o.jsx(ln,{className:"w-4 h-4"})," Due ",C.due_date?new Date(C.due_date).toLocaleDateString():"",C.patient&&o.jsxs("span",{children:[" Patient: ",C.patient.name]})]}),C.report&&o.jsxs("div",{className:"text-gray-700 bg-gray-50 border border-gray-200 rounded p-3 mt-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Submitted report"}),o.jsx("div",{children:C.report})]})]}),o.jsxs("div",{className:"flex gap-2",children:[j(C)==="pending"&&o.jsx("button",{onClick:()=>B(C),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Start"}),j(C)!=="completed"&&C.status!=="cancelled"&&o.jsx("button",{onClick:()=>z(C),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Open"})]})]})},C.id))}),a==="appointments"?o.jsxs(o.Fragment,{children:[o.jsx(D,{title:"Upcoming Appointments",items:b}),o.jsx(D,{title:"Overdue Appointments",items:k}),o.jsx(D,{title:"Finished Appointments",items:T})]}):o.jsxs(o.Fragment,{children:[o.jsx(D,{title:"Upcoming ToDo",items:A}),o.jsx(D,{title:"Overdue ToDo",items:O}),o.jsx(D,{title:"Finished ToDo",items:I})]}),o.jsx(xd,{open:!!u,title:u?`Complete Task: ${u.title}`:"",onClose:()=>d(null),children:o.jsxs("div",{className:"space-y-4",children:[(u==null?void 0:u.form_fields)&&u.form_fields.length>0&&o.jsx("div",{className:"space-y-3",children:u.form_fields.map(C=>{const U=p[C.id]??"",W=G=>g(R=>({...R,[C.id]:G}));switch(C.type){case"textarea":return o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[C.label,C.required&&" *"]}),o.jsx("textarea",{rows:3,className:"w-full border border-gray-300 rounded-lg p-2",value:U,onChange:G=>W(G.target.value)})]},C.id);case"number":case"date":case"text":return o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[C.label,C.required&&" *"]}),o.jsx("input",{type:C.type,className:"w-full border border-gray-300 rounded-lg p-2",value:U,onChange:G=>W(G.target.value)})]},C.id);case"select":return o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[C.label,C.required&&" *"]}),o.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2",value:U,onChange:G=>W(G.target.value),children:[o.jsx("option",{value:"",children:"Select"}),(C.options||[]).map(G=>o.jsx("option",{value:G,children:G},G))]})]},C.id);case"checkbox":return o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-1",children:[C.label,C.required&&" *"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:(C.options||[]).map(G=>{const R=Array.isArray(U)?U:[],q=R.includes(G);return o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:q,onChange:Y=>{const le=new Set(R);Y.target.checked?le.add(G):le.delete(G),W(Array.from(le))}})," ",G]},G)})})]},C.id);case"radio":return o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-1",children:[C.label,C.required&&" *"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:(C.options||[]).map(G=>o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:C.id,checked:U===G,onChange:()=>W(G)})," ",G]},G))})]},C.id);default:return null}})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Report / Notes"}),o.jsx("textarea",{value:f,onChange:C=>h(C.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"Write your visit notes, actions taken, observations, etc."})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg",onClick:()=>d(null),children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg",onClick:M,children:"Submit & Complete"})]})]})})]})},ym=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"],jH=({onClose:e,onAreaChanged:t})=>{const{user:n}=$e(),[r,i]=x.useState([]),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState([]);x.useState(null);const[p,g]=x.useState(!1),[y,j]=x.useState(""),[w,S]=x.useState(ym[0]),[_,N]=x.useState(null),[b,k]=x.useState(null),T=x.useCallback(async()=>{l(!0);const{data:C,error:U}=await Wl();!U&&C&&i(C),l(!1)},[]);x.useEffect(()=>{T()},[T]),x.useEffect(()=>{_?uH(_.id).then(C=>{k(C)}):k(null)},[_]);const A=()=>{d(!0),h([])},O=()=>{f.length>=3?g(!0):(alert("Please draw at least 3 points to create an area"),d(!1),h([]))},I=()=>{d(!1),h([])},B=async()=>{if(!y.trim()){alert("Please enter a name for the area");return}if(f.length<3){alert("Area must have at least 3 points");return}const C={type:"Polygon",coordinates:[[...f.map(G=>[G[0],G[1]]),f[0]].map(G=>[G[0],G[1]])]},{data:U,error:W}=await oH({name:y,color:w,geometry:C,created_by:(n==null?void 0:n.id)||""});if(W){console.error("Error creating area:",W),alert("Failed to create area: "+W.message);return}g(!1),d(!1),h([]),j(""),S(ym[0]),await T(),t&&t()},z=async C=>{if(!confirm("Are you sure you want to delete this area? Volunteers and patients will be unassigned."))return;const{error:U}=await cH(C);if(U){console.error("Error deleting area:",U),alert("Failed to delete area: "+U.message);return}N(null),await T(),t&&t()},M=async(C,U)=>{const{error:W}=await lH(C,{color:U});if(W){console.error("Error updating area color:",W);return}await T(),t&&t()},$=()=>(Jy({click(C){u&&h(U=>[...U,[C.latlng.lat,C.latlng.lng]])}}),null),D=()=>{const C=Qy();return x.useEffect(()=>{C.setView([13.793,100.321],13)},[C]),null};return a?o.jsx("div",{className:"py-10 text-center",children:"Loading areas..."}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Map Area Management"}),o.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:o.jsx(ws,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4 flex items-center gap-3",children:u?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx($s,{className:"w-4 h-4"}),"Finish Drawing"]}),o.jsxs("button",{onClick:I,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[o.jsx(ws,{className:"w-4 h-4"}),"Cancel"]}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Click on map to add points (",f.length," points)"]})]}):o.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[o.jsx($n,{className:"w-4 h-4"}),"Draw New Area"]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"lg:col-span-3",children:o.jsx("div",{className:"h-[600px] w-full border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs(Rf,{center:[13.793,100.321],zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[o.jsx(D,{}),o.jsx(zf,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx($,{}),r.map(C=>{var W,G;if(!((G=(W=C.geometry)==null?void 0:W.coordinates)!=null&&G[0]))return null;const U=C.geometry.coordinates[0].map(R=>[R[0],R[1]]);return o.jsx(bl,{positions:U,pathOptions:{color:C.color,fillColor:C.color,fillOpacity:(_==null?void 0:_.id)===C.id?.4:.2,weight:(_==null?void 0:_.id)===C.id?3:2},eventHandlers:{click:()=>N(C)},children:o.jsx(Yi,{children:o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"font-semibold text-lg mb-2",children:C.name}),b&&(_==null?void 0:_.id)===C.id&&o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{children:["Volunteers: ",b.volunteerCount]}),o.jsxs("div",{children:["Patients: ",b.patientCount]})]})]})})},`area-polygon-${C.id}`)}),u&&f.length>0&&o.jsxs(o.Fragment,{children:[f.length>=2&&o.jsx(bl,{positions:f,pathOptions:{color:w,fillColor:w,fillOpacity:.3,weight:2,dashArray:"5, 5"}}),f.map((C,U)=>o.jsx(CC,{center:C,radius:8,pathOptions:{color:w,fillColor:w,fillOpacity:.8,weight:2}},`drawing-point-${U}`))]})]})})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Areas (",r.length,")"]}),o.jsxs("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:[r.map(C=>o.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(_==null?void 0:_.id)===C.id?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>N(C),children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:C.color}}),o.jsx("span",{className:"font-medium text-sm",children:C.name})]})}),(_==null?void 0:_.id)===C.id&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Color:"}),o.jsx("input",{type:"color",value:C.color,onChange:U=>M(C.id,U.target.value),className:"w-8 h-6 rounded cursor-pointer"})]}),o.jsxs("button",{onClick:U=>{U.stopPropagation(),z(C.id)},className:"w-full inline-flex items-center justify-center gap-2 px-3 py-1.5 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100",children:[o.jsx(kl,{className:"w-3 h-3"}),"Delete Area"]})]})]},C.id)),r.length===0&&o.jsx("div",{className:"text-sm text-gray-500 text-center py-8",children:'No areas yet. Click "Draw New Area" to create one.'})]})]})})]})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Name Your Area"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area Name"}),o.jsx("input",{type:"text",value:y,onChange:C=>j(C.target.value),placeholder:"e.g., North District Zone 1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:w,onChange:C=>S(C.target.value),className:"w-12 h-10 rounded cursor-pointer"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ym.map(C=>o.jsx("button",{onClick:()=>S(C),className:`w-8 h-8 rounded ${w===C?"ring-2 ring-blue-500":""}`,style:{backgroundColor:C}},C))})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{g(!1),d(!1),h([])},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Area"})]})]})]})})]})},Co=[13.793,100.321];function xm(e,t){const n=f=>f*Math.PI/180,i=n(t[0]-e[0]),a=n(t[1]-e[1]),l=n(e[0]),u=n(t[0]),d=Math.sin(i/2)*Math.sin(i/2)+Math.cos(l)*Math.cos(u)*Math.sin(a/2)*Math.sin(a/2);return 2*6371*Math.asin(Math.sqrt(d))}const NH=({onBack:e})=>{const{user:t}=$e(),[n,r]=x.useState("all"),[i,a]=x.useState(10),[l,u]=x.useState([]),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(Co),[j,w]=x.useState([]),[S,_]=x.useState([]),[N,b]=x.useState([]),[k,T]=x.useState(""),[A,O]=x.useState(null),[I,B]=x.useState([]),[z,M]=x.useState(!0),[$,D]=x.useState(!1);x.useEffect(()=>{(async()=>{const{data:Z}=await yM();u(Z||[])})()},[]);const C=x.useCallback(async()=>{const{data:Z}=await Wl();B(Z||[])},[]);x.useEffect(()=>{C()},[C]),x.useEffect(()=>{(async()=>{if((t==null?void 0:t.role)!=="volunteer")return;const[{data:Z},ne]=await Promise.all([tn(),Pa()]),ee=(ne.data||[]).find(he=>he.user_id===t.id),ae=((ee==null?void 0:ee.area_name)||"").toLowerCase();T((ee==null?void 0:ee.area_name)||""),O(ee!=null&&ee.lat&&(ee!=null&&ee.lng)?[ee.lat,ee.lng]:null);const Te=t.full_name,Dt=(Z||[]).filter(he=>typeof he.assigned_vhv_name=="string"&&he.assigned_vhv_name.toLowerCase().includes(Te.toLowerCase()));w(Dt);const ie=(Z||[]).filter(he=>(he.area_name||"").toLowerCase()===ae);_(ie);const me=(ne.data||[]).filter(he=>(he.area_name||"").toLowerCase()===ae);b(me)})()},[t]);const U=x.useMemo(()=>(l||[]).filter(Z=>n==="patients"||n!=="all"&&n!=="patients"&&Z.type!==n||(t==null?void 0:t.role)==="volunteer"&&n==="all"&&Z.type==="volunteer"?!1:xm(d||A||Co,[Z.lat,Z.lng])<=i),[l,n,i,d,A,t]),W=x.useMemo(()=>{if((t==null?void 0:t.role)!=="volunteer")return[];const Z=d||A||Co;return(n==="patients"?j||[]:S||[]).filter(ee=>typeof ee.lat=="number"&&typeof ee.lng=="number").filter(ee=>xm(Z,[ee.lat,ee.lng])<=i)},[j,S,n,d,A,i,t]),G=x.useMemo(()=>{if((t==null?void 0:t.role)!=="volunteer"||n!=="all")return[];const Z=d||A||Co;return(N||[]).filter(ne=>typeof ne.lat=="number"&&typeof ne.lng=="number").filter(ne=>xm(Z,[ne.lat,ne.lng])<=i)},[N,n,d,A,i,t]),R=Z=>Z==="volunteer"?"#22c55e":Z==="center"?"#0ea5e9":"#ef4444",q=x.useMemo(()=>Vo.divIcon({className:"custom-my-location-icon",html:'<div style="display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:#2563eb;border:2px solid #fff;box-shadow:0 0 0 3px rgba(37,99,235,0.25);color:#fff;font-size:16px;line-height:1"></div>',iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),[]),Y=()=>{if(p(null),!("geolocation"in navigator)){p("Geolocation not supported by this browser");return}navigator.geolocation.getCurrentPosition(Z=>{const ne=[Z.coords.latitude,Z.coords.longitude];f(ne),y(ne)},Z=>{p(Z.message||"Unable to get current location")},{enableHighAccuracy:!0,timeout:1e4})},le=()=>{y(Co)},te=({center:Z})=>{const ne=Qy();return x.useEffect(()=>{ne.setView(Z)},[Z]),null};return $?o.jsx(jH,{onClose:()=>D(!1),onAreaChanged:C}):o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx(Rd,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(iv,{className:"w-6 h-6 text-green-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nearby Care Network"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{value:n,onChange:Z=>r(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"volunteer",children:"Volunteers"}),o.jsx("option",{value:"center",children:"Centers"}),o.jsx("option",{value:"hospital",children:"Hospitals"}),(t==null?void 0:t.role)==="volunteer"&&o.jsx("option",{value:"patients",children:"My Patients"})]}),o.jsxs("select",{value:i,onChange:Z=>a(parseInt(Z.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[o.jsx("option",{value:5,children:"5 km"}),o.jsx("option",{value:10,children:"10 km"}),o.jsx("option",{value:20,children:"20 km"})]}),o.jsx("button",{onClick:Y,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50",children:"Use My Location"}),o.jsx("button",{onClick:le,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50",children:"Reset"}),o.jsxs("button",{onClick:()=>M(!z),className:`px-3 py-2 text-sm rounded-lg border ${z?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 hover:bg-gray-50"}`,children:[z?"Hide":"Show"," Areas"]}),(t==null?void 0:t.role)==="doctor"&&o.jsxs("button",{onClick:()=>D(!0),className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 inline-flex items-center gap-2",children:[o.jsx(iM,{className:"w-4 h-4"}),"Manage Areas"]})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"h-[600px] w-full border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs(Rf,{center:g,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[o.jsx(te,{center:g}),o.jsx(zf,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(aH,{center:g,radius:i*1e3,pathOptions:{color:"#0ea5e9",weight:1}}),z&&I.map(Z=>{var ee,ae;if(!((ae=(ee=Z.geometry)==null?void 0:ee.coordinates)!=null&&ae[0]))return null;const ne=Z.geometry.coordinates[0].map(Te=>[Te[0],Te[1]]);return o.jsx(bl,{positions:ne,pathOptions:{color:Z.color,fillColor:Z.color,fillOpacity:.15,weight:2},children:o.jsx(Yi,{children:o.jsx("div",{className:"font-semibold",children:Z.name})})},`area-${Z.id}`)}),d&&o.jsx(ns,{position:d,icon:q,children:o.jsx(Yi,{children:o.jsx("div",{className:"font-semibold",children:"You are here"})})}),!d&&A&&o.jsx(ns,{position:A,icon:q,children:o.jsx(Yi,{children:o.jsx("div",{className:"font-semibold",children:"Your saved location"})})}),U.map(Z=>o.jsx(CC,{center:[Z.lat,Z.lng],radius:10,pathOptions:{color:R(Z.type),weight:2,fillOpacity:.6},children:o.jsx(Yi,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-semibold",children:Z.name}),o.jsx("div",{className:"text-xs text-gray-600 capitalize",children:Z.type}),Z.address&&o.jsx("div",{className:"text-xs text-gray-700",children:Z.address}),Z.phone&&o.jsxs("div",{className:"text-xs text-gray-700",children:[" ",Z.phone]})]})})},Z.id)),(t==null?void 0:t.role)==="volunteer"&&(n==="all"||n==="patients")&&W.map(Z=>o.jsx(ns,{position:[Z.lat,Z.lng],icon:Vo.divIcon({className:"custom-patient-icon",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#a21caf;border:2px solid #fff;box-shadow:0 0 0 3px rgba(162,28,175,0.25);color:#fff;font-size:14px;line-height:1"></div>',iconSize:[26,26],iconAnchor:[13,13],popupAnchor:[0,-13]}),children:o.jsx(Yi,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-semibold",children:Z.name}),o.jsx("div",{className:"text-xs text-gray-600",children:"Patient"}),o.jsxs("div",{className:"text-xs text-gray-700",children:["MRN: ",Z.medical_record_number]}),Z.phone_number&&o.jsxs("div",{className:"text-xs text-gray-700",children:[" ",Z.phone_number]})]})})},`pat-${Z.id}`)),(t==null?void 0:t.role)==="volunteer"&&n==="all"&&G.map(Z=>o.jsx(ns,{position:[Z.lat,Z.lng],icon:Vo.divIcon({className:"custom-volunteer-icon",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#22c55e;border:2px solid #fff;box-shadow:0 0 0 3px rgba(34,197,94,0.25);color:#fff;font-size:14px;line-height:1"></div>',iconSize:[26,26],iconAnchor:[13,13],popupAnchor:[0,-13]}),children:o.jsx(Yi,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-semibold",children:Z.name}),o.jsx("div",{className:"text-xs text-gray-600",children:"Volunteer"}),Z.email&&o.jsx("div",{className:"text-xs text-gray-700",children:Z.email})]})})},`vol-${Z.id}`))]})}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"About this map"}),o.jsxs("div",{className:"text-blue-700 text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Center:"})," Salaya, Nakhon Pathom"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Filters:"})," ",n,"  ",i," km radius"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Legend:"})," ",o.jsx("span",{className:"text-green-700",children:"Volunteers"}),", ",o.jsx("span",{className:"text-sky-700",children:"Centers"}),", ",o.jsx("span",{className:"text-red-700",children:"Hospitals"})]}),h&&o.jsxs("p",{className:"text-red-700",children:["Location error: ",h]})]})]})]})]})})},PH=({record:e,patientId:t,onClose:n})=>{const{user:r}=$e(),[i,a]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState([]),[h,p]=x.useState({patient_id:t||"",record_date:new Date().toISOString().split("T")[0],temperature:"",pulse:"",blood_pressure:"",weight:"",blood_sugar:"",oxygen_saturation:"",pain_level:0,fatigue_level:0,mood:"good",appetite:"good",sleep_quality:"good",symptoms_description:"",medications_taken:"",activities:"",notes:"",dr_instructions:"",custom_fields:[],custom_values:{}}),[g,y]=x.useState([]);x.useEffect(()=>{(r==null?void 0:r.role)==="patient"?j():((r==null?void 0:r.role)==="doctor"||(r==null?void 0:r.role)==="volunteer")&&w(),e&&(p({patient_id:e.patient_id,record_date:e.record_date,temperature:e.temperature||"",pulse:e.pulse||"",blood_pressure:e.blood_pressure||"",weight:e.weight||"",blood_sugar:e.blood_sugar||"",oxygen_saturation:e.oxygen_saturation||"",pain_level:e.pain_level||0,fatigue_level:e.fatigue_level||0,mood:e.mood||"good",appetite:e.appetite||"good",sleep_quality:e.sleep_quality||"good",symptoms_description:e.symptoms_description||"",medications_taken:e.medications_taken||"",activities:e.activities||"",notes:e.notes||"",dr_instructions:e.dr_instructions||"",custom_fields:e.custom_fields||[],custom_values:e.custom_values||{}}),y((e.custom_fields||[]).map(k=>({...k,options:(k.options||[]).join(", ")}))))},[e,r]);const j=async()=>{if(r)try{const{data:k,error:T}=await Cl(r.id);!T&&k&&(u(k),p(A=>({...A,patient_id:k.id})))}catch(k){console.error("Error fetching patient profile:",k)}},w=async()=>{try{const{data:k,error:T}=await tn();if(!T&&k){if((r==null?void 0:r.role)==="volunteer"){const A=(r.full_name||"").toLowerCase(),O=(k||[]).filter(I=>typeof I.assigned_vhv_name=="string"&&I.assigned_vhv_name.toLowerCase().includes(A));f(O)}else f(k);t&&p(A=>({...A,patient_id:t}))}}catch(k){console.error("Error fetching patients:",k)}},S=async k=>{k.preventDefault(),a(!0);try{const T=h.patient_id||t||(l==null?void 0:l.id);if(!T){alert("Please select a patient before saving the record."),a(!1);return}if(e){const{error:A}=await PM(e.id,{...h,custom_fields:g.map(O=>({id:O.id,label:O.label,type:O.type,options:(O.options||"").split(",").map(I=>I.trim()).filter(Boolean)}))});if(A){console.error("Error updating daily record:",A);return}}else{const{error:A}=await NM({...h,custom_fields:g.map(O=>({id:O.id,label:O.label,type:O.type,options:(O.options||"").split(",").map(I=>I.trim()).filter(Boolean)})),patient_id:T,recorded_by:(r==null?void 0:r.id)||""});if(A){console.error("Error creating daily record:",A);return}}n()}catch(T){console.error("Error saving daily record:",T)}finally{a(!1)}},_=k=>{const{name:T,value:A,type:O}=k.target;p(O==="range"||O==="number"?{...h,[T]:parseInt(A)||0}:{...h,[T]:A})},N=k=>k===0?"None":k<=3?"Mild":k<=6?"Moderate":k<=8?"Severe":"Extreme",b=k=>k===0?"text-green-600":k<=3?"text-yellow-600":k<=6?"text-orange-600":k<=8?"text-red-600":"text-red-800";return o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx(Rd,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(ya,{className:"w-6 h-6 text-green-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Daily Record":"New Daily Record"})]})]})}),o.jsxs("form",{onSubmit:S,className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 pb-2 border-b border-gray-200",children:"Basic Information"}),((r==null?void 0:r.role)==="doctor"||(r==null?void 0:r.role)==="volunteer")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Patient *"}),o.jsxs("select",{name:"patient_id",required:!0,value:h.patient_id,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"",children:"Choose a patient..."}),d.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Date *"}),o.jsx("input",{type:"date",name:"record_date",required:!0,value:h.record_date,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsx("h4",{className:"text-md font-semibold text-gray-800 mt-6",children:"Vital Signs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),o.jsx("input",{type:"text",name:"temperature",value:h.temperature,onChange:_,placeholder:"e.g., 98.6F",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pulse"}),o.jsx("input",{type:"text",name:"pulse",value:h.pulse,onChange:_,placeholder:"e.g., 72 bpm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Pressure"}),o.jsx("input",{type:"text",name:"blood_pressure",value:h.blood_pressure,onChange:_,placeholder:"e.g., 120/80 mmHg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),o.jsx("input",{type:"text",name:"weight",value:h.weight,onChange:_,placeholder:"e.g., 70 kg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Sugar"}),o.jsx("input",{type:"text",name:"blood_sugar",value:h.blood_sugar,onChange:_,placeholder:"e.g., 110 mg/dL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Oxygen Saturation"}),o.jsx("input",{type:"text",name:"oxygen_saturation",value:h.oxygen_saturation,onChange:_,placeholder:"e.g., 98%",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 pb-2 border-b border-gray-200",children:"Symptoms & Well-being"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pain Level: ",o.jsxs("span",{className:`font-semibold ${b(h.pain_level)}`,children:[h.pain_level," - ",N(h.pain_level)]})]}),o.jsx("input",{type:"range",name:"pain_level",min:"0",max:"10",value:h.pain_level,onChange:_,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0 - No Pain"}),o.jsx("span",{children:"10 - Extreme Pain"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor Instructions"}),o.jsx("textarea",{name:"dr_instructions",rows:3,value:h.dr_instructions,onChange:_,readOnly:(r==null?void 0:r.role)!=="doctor",placeholder:"Guidance for patient/volunteer (visible to them, not editable)",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all ${(r==null?void 0:r.role)!=="doctor"?"bg-gray-50":""}`})]}),(r==null?void 0:r.role)==="doctor"&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Fields"}),o.jsxs("div",{className:"space-y-3",children:[g.map((k,T)=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-center",children:[o.jsx("input",{className:"px-3 py-2 border rounded md:col-span-2",placeholder:"Label",value:k.label,onChange:A=>{const O=A.target.value;y(I=>I.map((B,z)=>z===T?{...B,label:O}:B))}}),o.jsxs("select",{className:"px-3 py-2 border rounded",value:k.type,onChange:A=>{const O=A.target.value;y(I=>I.map((B,z)=>z===T?{...B,type:O}:B))},children:[o.jsx("option",{value:"text",children:"Text"}),o.jsx("option",{value:"textarea",children:"Textarea"}),o.jsx("option",{value:"number",children:"Number"}),o.jsx("option",{value:"date",children:"Date"}),o.jsx("option",{value:"select",children:"Select"}),o.jsx("option",{value:"checkbox",children:"Checkbox"}),o.jsx("option",{value:"radio",children:"Radio"})]}),o.jsx("input",{className:"px-3 py-2 border rounded md:col-span-2",placeholder:"Options (comma separated)",value:k.options||"",onChange:A=>{const O=A.target.value;y(I=>I.map((B,z)=>z===T?{...B,options:O}:B))}}),o.jsx("button",{type:"button",className:"text-red-600 text-sm",onClick:()=>y(A=>A.filter((O,I)=>I!==T)),children:"Remove"})]},k.id)),o.jsx("button",{type:"button",className:"px-3 py-2 border rounded text-sm",onClick:()=>y(k=>[...k,{id:"cf-"+Math.random().toString(36).slice(2,9),label:"",type:"text",options:""}]),children:"+ Add Field"})]})]}),(g.length>0||(h.custom_fields||[]).length>0)&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Values"}),o.jsx("div",{className:"space-y-3",children:(((r==null?void 0:r.role)==="doctor"?g:h.custom_fields)||[]).map(k=>{const T=k.id,A=h.custom_values[T]??"",O=I=>p(B=>({...B,custom_values:{...B.custom_values||{},[T]:I}}));return k.type==="textarea"?o.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border rounded",value:A,onChange:I=>O(I.target.value),readOnly:(r==null?void 0:r.role)!=="doctor",placeholder:k.label},T):k.type==="number"?o.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded",value:A,onChange:I=>O(I.target.value),readOnly:(r==null?void 0:r.role)!=="doctor",placeholder:k.label},T):k.type==="date"?o.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded",value:A,onChange:I=>O(I.target.value),readOnly:(r==null?void 0:r.role)!=="doctor"},T):k.type==="select"?o.jsxs("select",{className:"w-full px-3 py-2 border rounded",value:A,onChange:I=>O(I.target.value),disabled:(r==null?void 0:r.role)!=="doctor",children:[o.jsx("option",{value:"",children:"Select"}),(k.options||"").split(",").map(I=>I.trim()).filter(Boolean).map(I=>o.jsx("option",{value:I,children:I},I))]},T):k.type==="checkbox"?o.jsx("div",{className:"flex flex-wrap gap-3",children:(k.options||"").split(",").map(I=>I.trim()).filter(Boolean).map(I=>{const B=Array.isArray(A)?A:[],z=B.includes(I);return o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:z,disabled:(r==null?void 0:r.role)!=="doctor",onChange:M=>{const $=new Set(B);M.target.checked?$.add(I):$.delete(I),O(Array.from($))}})," ",I]},I)})},T):k.type==="radio"?o.jsx("div",{className:"flex flex-wrap gap-3",children:(k.options||"").split(",").map(I=>I.trim()).filter(Boolean).map(I=>o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:T,value:I,checked:A===I,disabled:(r==null?void 0:r.role)!=="doctor",onChange:()=>O(I)})," ",I]},I))},T):o.jsx("input",{className:"w-full px-3 py-2 border rounded",value:A,onChange:I=>O(I.target.value),readOnly:(r==null?void 0:r.role)!=="doctor",placeholder:k.label},T)})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fatigue Level: ",o.jsxs("span",{className:`font-semibold ${b(h.fatigue_level)}`,children:[h.fatigue_level," - ",N(h.fatigue_level)]})]}),o.jsx("input",{type:"range",name:"fatigue_level",min:"0",max:"10",value:h.fatigue_level,onChange:_,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0 - No Fatigue"}),o.jsx("span",{children:"10 - Extreme Fatigue"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood"}),o.jsxs("select",{name:"mood",value:h.mood,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"excellent",children:"Excellent"}),o.jsx("option",{value:"good",children:"Good"}),o.jsx("option",{value:"fair",children:"Fair"}),o.jsx("option",{value:"poor",children:"Poor"}),o.jsx("option",{value:"very_poor",children:"Very Poor"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appetite"}),o.jsxs("select",{name:"appetite",value:h.appetite,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"excellent",children:"Excellent"}),o.jsx("option",{value:"good",children:"Good"}),o.jsx("option",{value:"fair",children:"Fair"}),o.jsx("option",{value:"poor",children:"Poor"}),o.jsx("option",{value:"very_poor",children:"Very Poor"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sleep Quality"}),o.jsxs("select",{name:"sleep_quality",value:h.sleep_quality,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[o.jsx("option",{value:"excellent",children:"Excellent"}),o.jsx("option",{value:"good",children:"Good"}),o.jsx("option",{value:"fair",children:"Fair"}),o.jsx("option",{value:"poor",children:"Poor"}),o.jsx("option",{value:"very_poor",children:"Very Poor"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symptoms Description"}),o.jsx("textarea",{name:"symptoms_description",rows:3,value:h.symptoms_description,onChange:_,placeholder:"Describe any symptoms you're experiencing...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medications Taken"}),o.jsx("textarea",{name:"medications_taken",rows:2,value:h.medications_taken,onChange:_,placeholder:"List medications taken today...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activities"}),o.jsx("textarea",{name:"activities",rows:2,value:h.activities,onChange:_,placeholder:"Describe your activities today...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),o.jsx("textarea",{name:"notes",rows:3,value:h.notes,onChange:_,placeholder:"Any additional notes or observations...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx($s,{className:"w-5 h-5"}),o.jsx("span",{children:e?"Update Record":"Save Record"})]})})]})]})]})})},SH=()=>{const{user:e}=$e(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,l]=x.useState(!0),[u,d]=x.useState(""),[f,h]=x.useState("all"),[p,g]=x.useState(!1),[y,j]=x.useState(null);x.useEffect(()=>{const O=localStorage.getItem("records_selected_patient");O&&(h(O),localStorage.removeItem("records_selected_patient")),w(),(e==null?void 0:e.role)!=="patient"&&S()},[e]);const w=async()=>{try{const{data:O,error:I}=await jM(void 0,(e==null?void 0:e.role)==="patient"?e.id:void 0);if(I)console.error("Error fetching daily records:",I);else{let B=O||[];if((e==null?void 0:e.role)==="volunteer"){const z=(e.full_name||"").toLowerCase();B=B.filter(M=>M.patient&&typeof M.patient.assigned_vhv_name=="string"&&M.patient.assigned_vhv_name.toLowerCase().includes(z))}n(B)}}catch(O){console.error("Error fetching daily records:",O)}finally{l(!1)}},S=async()=>{try{const{data:O,error:I}=await tn();if(I)console.error("Error fetching patients:",I);else if((e==null?void 0:e.role)==="volunteer"){const B=(e.full_name||"").toLowerCase(),z=(O||[]).filter(M=>typeof M.assigned_vhv_name=="string"&&M.assigned_vhv_name.toLowerCase().includes(B));i(z)}else i(O||[])}catch(O){console.error("Error fetching patients:",O)}},_=O=>{j(O),g(!0)},N=async O=>{if(window.confirm("Are you sure you want to delete this daily record?"))try{const{error:I}=await SM(O);I?console.error("Error deleting record:",I):w()}catch(I){console.error("Error deleting record:",I)}},b=()=>{g(!1),j(null),w()},k=t.filter(O=>{var z,M,$;const I=((z=O.patient)==null?void 0:z.name.toLowerCase().includes(u.toLowerCase()))||((M=O.symptoms_description)==null?void 0:M.toLowerCase().includes(u.toLowerCase()))||(($=O.notes)==null?void 0:$.toLowerCase().includes(u.toLowerCase())),B=f==="all"||O.patient_id===f;return I&&B}),T=O=>{switch(O){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-orange-100 text-orange-800";case"very_poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=O=>!O||O===0?"text-green-600":O<=3?"text-yellow-600":O<=6?"text-orange-600":O<=8?"text-red-600":"text-red-800";return a?o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full animate-spin"})})}):p?o.jsx(PH,{record:y,onClose:b}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Daily Records"}),o.jsxs("button",{onClick:()=>g(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2 transition-colors",children:[o.jsx($n,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Record"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search records...",value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(e==null?void 0:e.role)!=="patient"&&o.jsxs("select",{value:f,onChange:O=>h(O.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Patients"}),r.map(O=>o.jsxs("option",{value:O.id,children:[O.name," - ",O.medical_record_number]},O.id))]})]})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:k.map(O=>{var I,B,z,M;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(ya,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.role)==="patient"?"My Record":(I=O.patient)==null?void 0:I.name}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(ln,{className:"w-4 h-4"}),o.jsx("span",{children:new Date(O.record_date).toLocaleDateString()})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[((e==null?void 0:e.role)==="doctor"||O.recorded_by===(e==null?void 0:e.id))&&o.jsx("button",{onClick:()=>_(O),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit Record",children:o.jsx(b2,{className:"w-4 h-4"})}),((e==null?void 0:e.role)==="doctor"||O.recorded_by===(e==null?void 0:e.id))&&o.jsx("button",{onClick:()=>N(O.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Record",children:o.jsx(kl,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vital Signs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[O.temperature&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Temp:"}),o.jsx("span",{className:"ml-1 font-medium",children:O.temperature})]}),O.pulse&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Pulse:"}),o.jsx("span",{className:"ml-1 font-medium",children:O.pulse})]}),O.blood_pressure&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"BP:"}),o.jsx("span",{className:"ml-1 font-medium",children:O.blood_pressure})]}),O.weight&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Weight:"}),o.jsx("span",{className:"ml-1 font-medium",children:O.weight})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Mood:"}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(O.mood)}`,children:((B=O.mood)==null?void 0:B.replace("_"," ").charAt(0).toUpperCase())+((z=O.mood)==null?void 0:z.replace("_"," ").slice(1))})]}),O.pain_level!==void 0&&O.pain_level>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Pain Level:"}),o.jsxs("span",{className:`font-medium ${A(O.pain_level)}`,children:[O.pain_level,"/10"]})]}),O.fatigue_level!==void 0&&O.fatigue_level>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Fatigue:"}),o.jsxs("span",{className:`font-medium ${A(O.fatigue_level)}`,children:[O.fatigue_level,"/10"]})]}),O.symptoms_description&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Symptoms:"}),o.jsx("p",{className:"text-sm text-gray-900 mt-1 line-clamp-2",children:O.symptoms_description})]}),O.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Notes:"}),o.jsx("p",{className:"text-sm text-gray-900 mt-1 line-clamp-2",children:O.notes})]}),O.dr_instructions&&o.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("div",{className:"text-sm font-semibold text-blue-900",children:"Doctor Instructions"}),o.jsx("div",{className:"text-sm text-blue-800 mt-1 whitespace-pre-wrap",children:O.dr_instructions})]}),Array.isArray(O.custom_fields)&&O.custom_fields.length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Additional Information"}),o.jsx("div",{className:"space-y-1 text-sm",children:O.custom_fields.map($=>{const D=O.custom_values?O.custom_values[$.id]:void 0,C=Array.isArray(D)?D.join(", "):D??"";return o.jsxs("div",{className:"flex justify-between gap-3",children:[o.jsx("span",{className:"text-gray-600",children:$.label}),o.jsx("span",{className:"text-gray-900 text-right break-words",children:String(C)||""})]},$.id)})})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-3 h-3"}),o.jsxs("span",{children:["Recorded by: ",(M=O.recorded_by_user)==null?void 0:M.full_name]})]}),o.jsxs("p",{className:"mt-1",children:["Created: ",new Date(O.created_at).toLocaleDateString()]})]})]},O.id)})}),k.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ya,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:u||f!=="all"?"No records found matching your filters.":"No daily records found."}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Start tracking daily symptoms and vital signs by creating your first record."})]})]})},kH=()=>{const{user:e}=$e(),[t,n]=x.useState(!0),[r,i]=x.useState(null),[a,l]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState([]),[p,g]=x.useState({doctorId:"",date:"",time:"09:00",title:"",message:""}),[y,j]=x.useState(!1);x.useEffect(()=>{(async()=>{try{if(!(e!=null&&e.id))return;const[{data:b},{data:k}]=await Promise.all([Cl(e.id),Gr()]),T=(b==null?void 0:b.id)||null;i(T);const A=(k||[]).filter(B=>B.role==="doctor");h(A);const{data:O}=await Lr(),I=(O||[]).filter(B=>B.patient_id===T);l(I)}finally{n(!1)}})()},[e]),x.useEffect(()=>{if(!r)return;const b=setInterval(async()=>{const{data:k}=await Lr(),T=(k||[]).filter(A=>A.patient_id===r);l(T)},8e3);return()=>clearInterval(b)},[r]);const w=x.useMemo(()=>{const b=new Date;return b.setHours(0,0,0,0),b.getTime()},[]),S=x.useMemo(()=>{const b=[],k=[],T=[],A=[],O=[];for(const B of a){if(!B.due_date){O.push(B);continue}const z=new Date(B.due_date).getTime();B.status==="completed"?T.push(B):B.status==="cancelled"?A.push(B):z<w?b.push(B):k.push(B)}const I=(B,z)=>{const M=B.due_date?new Date(B.due_date).getTime():0,$=z.due_date?new Date(z.due_date).getTime():0;return M-$};return{overdue:b.sort(I),upcoming:k.sort(I),completed:T.sort(I),cancelled:A.sort(I),undated:O}},[a,w]),_=async b=>{if(!b||!window.confirm("Cancel this appointment?"))return;await pr(b,{status:"cancelled"});const{data:k}=await Lr(),T=(k||[]).filter(A=>A.patient_id===r);l(T)},N=async b=>{if(b.preventDefault(),!(!r||!(e!=null&&e.id))&&!(!p.doctorId||!p.date)){j(!0);try{await $d({title:p.title||"Appointment Request",description:p.message||"Patient requested an appointment",priority:"medium",status:"pending",assigned_to:p.doctorId,assigned_by:e.id,patient_id:r,due_date:p.date,due_time:p.time}),await zd({sender_id:e.id,recipient_id:p.doctorId,subject:"Appointment Request",content:`Patient requests an appointment on ${p.date}.

Message: ${p.message||"(no additional message)"}
`}),d(!1),g({doctorId:"",date:"",time:"09:00",title:"",message:""});const{data:k}=await Lr(),T=(k||[]).filter(A=>A.patient_id===r);l(T),alert("Appointment request sent")}finally{j(!1)}}};return t?o.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(bs,{className:"w-6 h-6 text-blue-600"})," Appointments"]}),o.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",onClick:()=>d(!0),children:[o.jsx($n,{className:"w-4 h-4"})," Request Appointment"]})]}),a.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(ln,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),"No appointments found."]}):o.jsxs("div",{className:"space-y-6",children:[S.overdue.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-red-700 mb-2",children:"Overdue"}),o.jsx("div",{className:"space-y-3",children:S.overdue.map(b=>o.jsx("div",{className:"bg-white border border-red-200 rounded-xl p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:b.title||"Appointment"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:b.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[o.jsx(ln,{className:"w-4 h-4"})," ",b.due_date?new Date(b.due_date).toLocaleDateString():""," ",b.due_time?` ${b.due_time}`:"",b.assigned_to_user&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Fe,{className:"w-4 h-4"})," ",b.assigned_to_user.full_name]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-red-50 text-red-800 border-red-200 h-fit",children:"Overdue"}),o.jsx("button",{onClick:()=>_(b.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded",children:"Cancel"})]})]})},b.id))})]}),S.upcoming.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upcoming"}),o.jsx("div",{className:"space-y-3",children:S.upcoming.map(b=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:b.title||"Appointment"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:b.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[o.jsx(ln,{className:"w-4 h-4"})," ",b.due_date?new Date(b.due_date).toLocaleDateString():""," ",b.due_time?` ${b.due_time}`:"",b.assigned_to_user&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Fe,{className:"w-4 h-4"})," ",b.assigned_to_user.full_name]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-blue-50 text-blue-800 border-blue-200 h-fit",children:b.status.replace("_"," ")}),o.jsx("button",{onClick:()=>_(b.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded",children:"Cancel"})]})]})},b.id))})]}),S.completed.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Completed"}),o.jsx("div",{className:"space-y-3",children:S.completed.map(b=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:b.title||"Appointment"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:b.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[o.jsx(ln,{className:"w-4 h-4"})," ",b.due_date?new Date(b.due_date).toLocaleDateString():""," ",b.due_time?` ${b.due_time}`:"",b.assigned_to_user&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Fe,{className:"w-4 h-4"})," ",b.assigned_to_user.full_name]})]})]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-green-50 text-green-800 border-green-200 h-fit",children:"Completed"})]})},b.id))})]}),S.cancelled.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Cancelled"}),o.jsx("div",{className:"space-y-3",children:S.cancelled.map(b=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:b.title||"Appointment"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:b.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[o.jsx(ln,{className:"w-4 h-4"})," ",b.due_date?new Date(b.due_date).toLocaleDateString():""," ",b.due_time?` ${b.due_time}`:"",b.assigned_to_user&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Fe,{className:"w-4 h-4"})," ",b.assigned_to_user.full_name]})]})]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-gray-50 text-gray-800 border-gray-200 h-fit",children:"Cancelled"})]})},b.id))})]}),S.undated.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Other"}),o.jsx("div",{className:"space-y-3",children:S.undated.map(b=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:b.title||"Appointment"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:b.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[o.jsx(ln,{className:"w-4 h-4"})," ",b.assigned_to_user&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Fe,{className:"w-4 h-4"})," ",b.assigned_to_user.full_name]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-blue-50 text-blue-800 border-blue-200 h-fit",children:b.status.replace("_"," ")}),o.jsx("button",{onClick:()=>_(b.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded",children:"Cancel"})]})]})},b.id))})]})]}),u&&o.jsxs("div",{className:"mt-8 bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-900 font-semibold",children:[o.jsx(ds,{className:"w-5 h-5 text-blue-600"})," New Appointment Request"]}),o.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor"}),o.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.doctorId,onChange:b=>g({...p,doctorId:b.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select doctor"}),f.map(b=>o.jsx("option",{value:b.id,children:b.full_name},b.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.date,onChange:b=>g({...p,date:b.target.value}),required:!0}),o.jsx("input",{type:"time",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.time,onChange:b=>g({...p,time:b.target.value}),required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.title,onChange:b=>g({...p,title:b.target.value}),placeholder:"e.g., Follow-up consultation",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (optional)"}),o.jsx("textarea",{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.message,onChange:b=>g({...p,message:b.target.value}),placeholder:"Additional details"})]}),o.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg",onClick:()=>d(!1),children:"Cancel"}),o.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:y?"Sending":"Send Request"})]})]})]})]})},CH=()=>{const{user:e}=$e(),[t,n]=x.useState(!0),[r,i]=x.useState([]),[a,l]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState([]),[p,g]=x.useState({doctorId:"",date:"",time:"09:00",title:"",message:"",patientId:""}),y=((e==null?void 0:e.full_name)||"").toLowerCase(),j=async()=>{n(!0);const[{data:_},{data:N},{data:b}]=await Promise.all([tn(),Gr(),Lr()]),k=(_||[]).filter(O=>typeof O.assigned_vhv_name=="string"&&O.assigned_vhv_name.toLowerCase().includes(y));i(k),h((N||[]).filter(O=>O.role==="doctor"));const T=new Set(k.map(O=>O.id)),A=(b||[]).filter(O=>O.patient_id&&T.has(O.patient_id));l(A),n(!1)};x.useEffect(()=>{j()},[]),x.useEffect(()=>{const _=setInterval(()=>{j()},8e3);return()=>clearInterval(_)},[]);const w=x.useMemo(()=>{const _=new Date;_.setHours(0,0,0,0);const N=_.getTime(),b=[],k=[];for(const A of a){if(!A.due_date)continue;new Date(A.due_date).getTime()<N&&A.status!=="completed"&&A.status!=="cancelled"?k.push(A):b.push(A)}const T=(A,O)=>new Date(A.due_date||"").getTime()-new Date(O.due_date||"").getTime();return{overdue:k.sort(T),upcoming:b.sort(T)}},[a]),S=async _=>{_.preventDefault(),!(!(e!=null&&e.id)||!p.patientId||!p.doctorId||!p.date)&&(await $d({title:p.title||"Appointment Request",description:p.message||"Volunteer requested an appointment",priority:"medium",status:"pending",assigned_to:p.doctorId,assigned_by:e.id,patient_id:p.patientId,due_date:p.date,due_time:p.time}),await zd({sender_id:e.id,recipient_id:p.doctorId,subject:"Appointment Request",content:`Volunteer requested appointment on ${p.date} for patient.

Message: ${p.message||"(none)"}`}),d(!1),g({doctorId:"",date:"",time:"09:00",title:"",message:"",patientId:""}),j(),alert("Appointment request sent"))};return t?o.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(bs,{className:"w-6 h-6 text-blue-600"})," Appointments"]}),o.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",onClick:()=>d(!0),children:[o.jsx($n,{className:"w-4 h-4"})," Request Appointment"]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 mb-6",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upcoming"}),w.upcoming.length===0?o.jsx("div",{className:"text-gray-500 text-sm",children:"No upcoming appointments."}):o.jsx("div",{className:"space-y-2",children:w.upcoming.map(_=>o.jsxs("div",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:_.title||"Appointment"}),o.jsxs("div",{className:"text-gray-700 flex items-center gap-2 mt-1",children:[o.jsx(ln,{className:"w-4 h-4"})," ",_.due_date?new Date(_.due_date).toLocaleDateString():""," ",_.due_time?` ${_.due_time}`:""," ",_.patient&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Fe,{className:"w-4 h-4"})," ",_.patient.name]})]})]}),o.jsx("div",{className:"text-xs px-2 py-1 rounded-full border bg-blue-50 text-blue-800",children:_.status.replace("_"," ")})]},_.id))})]}),u&&o.jsx("div",{className:"mt-4 bg-white rounded-xl border border-gray-200 p-6",children:o.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient"}),o.jsxs("select",{className:"w-full px-3 py-2 border rounded",required:!0,value:p.patientId,onChange:_=>g({...p,patientId:_.target.value}),children:[o.jsx("option",{value:"",children:"Select patient"}),r.map(_=>o.jsx("option",{value:_.id,children:_.name},_.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor"}),o.jsxs("select",{className:"w-full px-3 py-2 border rounded",required:!0,value:p.doctorId,onChange:_=>g({...p,doctorId:_.target.value}),children:[o.jsx("option",{value:"",children:"Select doctor"}),f.map(_=>o.jsx("option",{value:_.id,children:_.full_name},_.id))]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{className:"w-full px-3 py-2 border rounded",required:!0,value:p.title,onChange:_=>g({...p,title:_.target.value}),placeholder:"e.g., Home visit follow-up"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded",required:!0,value:p.date,onChange:_=>g({...p,date:_.target.value})}),o.jsx("input",{type:"time",className:"w-full px-3 py-2 border rounded",required:!0,value:p.time,onChange:_=>g({...p,time:_.target.value})})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (optional)"}),o.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border rounded",value:p.message,onChange:_=>g({...p,message:_.target.value})})]}),o.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 border rounded",onClick:()=>d(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Send Request"})]})]})})]})},OH=async()=>{const[{data:e},{data:t}]=await Promise.all([Pa(),Wl()]),n=new Map((t||[]).map(i=>[i.id,i]));return{data:(e||[]).map(i=>({...i,area:i.area_id?n.get(i.area_id):void 0})),error:null}},EH=async e=>{const{data:t,error:n}=await hM(e);return{data:t,error:n}},TH=async(e,t)=>{const n={...t};delete n.area;const{data:r,error:i}=await C2(e,n);return{data:r,error:i}},AH=async()=>k2(),MH=({record:e,onClose:t})=>{var $;const n=!!e,[r,i]=x.useState(!1),[a,l]=x.useState([]),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,g]=x.useState([]),[y,j]=x.useState([]),[w,S]=x.useState(""),_=((($=e==null?void 0:e.user)==null?void 0:$.full_name)||(e==null?void 0:e.name)||"").trim(),N=((e==null?void 0:e.area_name)||"").toLowerCase(),[b,k]=x.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",dob:(e==null?void 0:e.dob)||"",photo_url:(e==null?void 0:e.photo_url)||"",volunteer_code:(e==null?void 0:e.volunteer_code)||"",province:"",district:"",subdistrict:"",addressLine:"",lat:e==null?void 0:e.lat,lng:e==null?void 0:e.lng});x.useEffect(()=>{if((async()=>{const{data:D}=await Wl();l(D||[])})(),e!=null&&e.address){const D=e.address.split(",").map(C=>C.trim()).filter(Boolean);k(C=>({...C,province:D.slice(-1)[0]||"",district:D.slice(-2,-1)[0]||"",subdistrict:D.slice(-3,-2)[0]||"",addressLine:D.slice(0,-3).join(", ")}))}e||AH().then(D=>{k(C=>({...C,volunteer_code:D}))})},[e]),x.useEffect(()=>{(async()=>{if(!e)return;const{data:D}=await tn(),C=D||[];if(j(C),_){const U=C.filter(W=>typeof W.assigned_vhv_name=="string"&&W.assigned_vhv_name.toLowerCase().includes(_.toLowerCase()));g(U)}else g([])})()},[e,_]),x.useEffect(()=>{const D=[b.addressLine,b.subdistrict,b.district,b.province].filter(Boolean).join(", ");if(b.lat&&b.lng||D.length>5){const C=setTimeout(async()=>{h(!0);const U=await TC(b.lat,b.lng,D,a);d(U),U.geocodedLat&&U.geocodedLng&&!b.lat&&!b.lng&&k(W=>({...W,lat:U.geocodedLat,lng:U.geocodedLng})),h(!1)},1e3);return()=>clearTimeout(C)}},[b.lat,b.lng,b.addressLine,b.subdistrict,b.district,b.province,a]);const T=async D=>{var C,U;D.preventDefault(),i(!0);try{const W=[b.addressLine,b.subdistrict,b.district,b.province].filter(Boolean).join(", "),G={name:b.name,email:b.email,phone:b.phone,address:W,lat:b.lat,lng:b.lng,dob:b.dob,photo_url:b.photo_url,area_id:((C=u==null?void 0:u.area)==null?void 0:C.id)||null,area_name:((U=u==null?void 0:u.area)==null?void 0:U.name)||null};if(!b.lat||!b.lng){alert("Please click on the map to set the volunteer's exact location."),i(!1);return}if(!(u!=null&&u.area)){alert("Please place the volunteer inside a defined area created by a doctor."),i(!1);return}if(n&&e){G.volunteer_code=b.volunteer_code;const{error:R}=await TH(e.id,G);if(R)throw R}else{const{data:R,error:q}=await gM(b.email,b.name);if(q)throw q;G.user_id=R==null?void 0:R.id,G.volunteer_code=b.volunteer_code;const{error:Y}=await EH(G);if(Y)throw Y}t()}catch(W){console.error("Error saving volunteer:",W),alert("Failed to save volunteer: "+W.message)}finally{i(!1)}},A=async()=>{const{data:D}=await tn(),C=D||[];if(j(C),_){const U=C.filter(W=>typeof W.assigned_vhv_name=="string"&&W.assigned_vhv_name.toLowerCase().includes(_.toLowerCase()));g(U)}},O=async D=>{if(!e||!D)return;const C=(y||[]).find(W=>W.id===D);if(!(((C==null?void 0:C.area_name)||"").toLowerCase()===N||N==="")){alert("This patient is not in the same area as the volunteer.");return}await Mu(D,{assigned_vhv_name:_}),await A()},I=async D=>{D&&(await Mu(D,{assigned_vhv_name:""}),await A())},B=x.useMemo(()=>Vo.divIcon({className:"vol-pin",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#22c55e;border:2px solid #fff;box-shadow:0 0 0 3px rgba(34,197,94,0.25);color:#fff;font-size:14px;line-height:1"></div>',iconSize:[26,26],iconAnchor:[13,13]}),[]),z=b.lat&&b.lng?[b.lat,b.lng]:[13.793,100.321],M=()=>(Jy({click(D){k(C=>({...C,lat:D.latlng.lat,lng:D.latlng.lng}))}}),null);return o.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:n?"Edit Volunteer":"Create Volunteer"}),o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),o.jsx("input",{required:!0,className:"w-full px-4 py-3 border rounded-lg",value:b.name,onChange:D=>k(C=>({...C,name:D.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),o.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 border rounded-lg",value:b.email,onChange:D=>k(C=>({...C,email:D.target.value})),disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded-lg",value:b.phone,onChange:D=>k(C=>({...C,phone:D.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),o.jsx("input",{type:"date",className:"w-full px-4 py-3 border rounded-lg",value:b.dob,onChange:D=>k(C=>({...C,dob:D.target.value}))})]}),n&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volunteer ID"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50",value:b.volunteer_code,readOnly:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),o.jsx("input",{placeholder:"Image URL",className:"w-full px-4 py-3 border rounded-lg",value:b.photo_url,onChange:D=>k(C=>({...C,photo_url:D.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Address Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province"}),o.jsxs("select",{className:"w-full px-4 py-3 border rounded-lg",value:b.province,onChange:D=>k(C=>({...C,province:D.target.value})),children:[o.jsx("option",{value:"",children:"Select Province"}),AC.map(D=>o.jsx("option",{value:D,children:D},D))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded-lg",placeholder:"District (Amphoe)",value:b.district,onChange:D=>k(C=>({...C,district:D.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-District"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded-lg",placeholder:"Sub-district (Tambon)",value:b.subdistrict,onChange:D=>k(C=>({...C,subdistrict:D.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded-lg",placeholder:"House number, street, village",value:b.addressLine,onChange:D=>k(C=>({...C,addressLine:D.target.value}))})]})]})]}),u&&o.jsx("div",{className:`p-4 rounded-lg border-2 ${u.area?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:o.jsx("div",{className:"flex items-start gap-3",children:u.area?o.jsxs(o.Fragment,{children:[o.jsx(XA,{className:"w-5 h-5 text-green-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-green-900",children:"Area Assigned"}),o.jsxs("div",{className:"text-sm text-green-700 mt-1",children:["This volunteer will be assigned to: ",o.jsx("strong",{children:u.area.name})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:u.area.color}}),o.jsxs("span",{className:"text-xs text-green-600",children:["Confidence: ",u.confidence," (",u.method,")"]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(GA,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-yellow-900",children:"No Area Match"}),o.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:"This location is not within any defined area. The volunteer will be unassigned."})]})]})})}),f&&o.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Determining area assignment..."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (click map to set)"}),o.jsx("div",{className:"h-80 w-full border rounded-lg overflow-hidden",children:o.jsxs(Rf,{center:z,zoom:14,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[o.jsx(zf,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),o.jsx(M,{}),a.map(D=>{var W,G,R;if(!((G=(W=D.geometry)==null?void 0:W.coordinates)!=null&&G[0]))return null;const C=D.geometry.coordinates[0].map(q=>[q[0],q[1]]),U=((R=u==null?void 0:u.area)==null?void 0:R.id)===D.id;return o.jsx(bl,{positions:C,pathOptions:{color:D.color,fillColor:D.color,fillOpacity:U?.3:.1,weight:U?3:2}},D.id)}),b.lat&&b.lng&&o.jsx(ns,{position:[b.lat,b.lng],icon:B})]})}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Latitude"}),o.jsx("input",{type:"number",step:"any",className:"w-full px-3 py-2 border rounded",value:b.lat??"",onChange:D=>k(C=>({...C,lat:parseFloat(D.target.value)}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Longitude"}),o.jsx("input",{type:"number",step:"any",className:"w-full px-3 py-2 border rounded",value:b.lng??"",onChange:D=>k(C=>({...C,lng:parseFloat(D.target.value)}))})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border rounded-lg hover:bg-gray-50",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50",children:[r?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx($s,{className:"w-5 h-5"}),r?"Saving...":"Save Volunteer"]})]})]}),n&&o.jsxs("div",{className:"mt-10",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Assigned Patients"}),o.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Patients assigned to ",_||"this volunteer","."]}),o.jsxs("div",{className:"mb-4 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[o.jsx("input",{placeholder:"Search patients by name or MRN",value:w,onChange:D=>S(D.target.value),className:"flex-1 px-3 py-2 border rounded"}),o.jsxs("select",{className:"flex-1 px-3 py-2 border rounded",onChange:D=>O(D.target.value),defaultValue:"",children:[o.jsx("option",{value:"",disabled:!0,children:"Assign a patient"}),y.filter(D=>{const C=w.toLowerCase(),U=(D.name||"").toLowerCase().includes(C)||(D.medical_record_number||"").toLowerCase().includes(C),W=typeof D.assigned_vhv_name=="string"&&D.assigned_vhv_name.toLowerCase().includes(_.toLowerCase()),G=(D.area_name||"").toLowerCase()===N||N==="";return U&&!W&&G}).slice(0,20).map(D=>o.jsxs("option",{value:D.id,children:[D.name,"  ",D.medical_record_number]},D.id))]})]}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Selecting a patient will immediately assign them to this volunteer. Only patients from the same area are listed."})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"MRN"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Name"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Area"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Action"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[p.map(D=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:D.medical_record_number}),o.jsx("td",{className:"px-4 py-2 text-sm",children:D.name}),o.jsx("td",{className:"px-4 py-2 text-sm",children:D.area_name||"-"}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("button",{onClick:()=>I(D.id),className:"px-3 py-1 text-red-700 bg-red-50 hover:bg-red-100 rounded",children:"Remove"})})]},D.id)),p.length===0&&o.jsx("tr",{children:o.jsx("td",{className:"px-4 py-6 text-center text-gray-500",colSpan:4,children:"No patients assigned."})})]})]})})]})]})},LH=()=>{const{user:e}=$e(),t=(e==null?void 0:e.role)==="doctor",[n,r]=x.useState([]),[i,a]=x.useState(!0),[l,u]=x.useState({}),[d,f]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(null),j=async()=>{a(!0);const[{data:S},{data:_}]=await Promise.all([OH(),tn()]);r(S||[]);const N={},b=_||[];(S||[]).forEach(k=>{var O;const T=(((O=k.user)==null?void 0:O.full_name)||k.name||"").toLowerCase(),A=b.filter(I=>typeof I.assigned_vhv_name=="string"&&I.assigned_vhv_name.toLowerCase().includes(T)).length;N[k.id]=A}),u(N),a(!1)};x.useEffect(()=>{j()},[]);const w=x.useMemo(()=>{const S=d.toLowerCase();return n.filter(_=>_.name.toLowerCase().includes(S)||(_.volunteer_code||"").toLowerCase().includes(S)||(_.email||"").toLowerCase().includes(S)||(_.phone||"").toLowerCase().includes(S)||(_.area_name||"").toLowerCase().includes(S))},[n,d]);return i?o.jsx("div",{className:"py-10 text-center",children:"Loading"}):h?o.jsx(MH,{record:g,onClose:()=>{p(!1),y(null),j()}}):o.jsxs("div",{className:"py-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"relative w-full max-w-xl",children:[o.jsx(ki,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{value:d,onChange:S=>f(S.target.value),placeholder:"Search volunteers...",className:"w-full pl-10 pr-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t&&o.jsxs("button",{onClick:()=>p(!0),className:"ml-3 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-sky-100 text-sky-700 hover:bg-sky-200 border border-sky-200",children:[o.jsx($n,{className:"w-4 h-4"}),"Create Volunteer"]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-sky-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Volunteer ID"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Email"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Phone"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Area"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Assigned Patients"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Action"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[w.map(S=>{var _;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 text-sm",children:S.volunteer_code}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[S.photo_url?o.jsx("img",{src:S.photo_url,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100"}),o.jsx("span",{children:S.name})]})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:S.email}),o.jsx("td",{className:"px-4 py-3 text-sm",children:S.phone||"-"}),o.jsx("td",{className:"px-4 py-3 text-sm",children:S.area_name?o.jsxs("div",{className:"flex items-center gap-2",children:[((_=S.area)==null?void 0:_.color)&&o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:S.area.color}}),o.jsx("span",{children:S.area_name})]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"Not assigned"})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:l[S.id]??0}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("button",{onClick:()=>{y(S),p(!0)},className:"text-sky-700 hover:underline inline-flex items-center gap-1",children:[o.jsx(w2,{className:"w-4 h-4"}),"View Detail"]})})]},S.id)}),w.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No volunteers found"})})]})]})})})]})},DH=()=>{const{user:e}=$e(),[t,n]=x.useState((e==null?void 0:e.full_name)||""),[r,i]=x.useState((e==null?void 0:e.photo_url)||""),[a,l]=x.useState(!1),[u,d]=x.useState((e==null?void 0:e.email)||""),[f,h]=x.useState(""),[p,g]=x.useState(""),[y,j]=x.useState(""),[w,S]=x.useState(""),[_,N]=x.useState(""),[b,k]=x.useState("");x.useEffect(()=>{n((e==null?void 0:e.full_name)||""),i((e==null?void 0:e.photo_url)||""),d((e==null?void 0:e.email)||"")},[e]);const T=O=>{if(!O)return;const I=new FileReader;I.onload=()=>i(String(I.result)),I.readAsDataURL(O)},A=async()=>{e&&(l(!0),await vM(e.id,{full_name:t,photo_url:r,email:u,phone:y,gender:f,dob:p,address:w}),l(!1),alert("Profile updated"))};return o.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Profile"}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100",children:r?o.jsx("img",{src:r,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:""})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Role"}),o.jsx("div",{className:"font-medium text-gray-900 capitalize",children:e==null?void 0:e.role})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded",value:t,onChange:O=>n(O.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:O=>{var I;return T((I=O.target.files)==null?void 0:I[0])}}),o.jsx("span",{className:"text-sm text-gray-500",children:"or"}),o.jsx("input",{className:"w-full md:flex-1 px-3 py-2 border rounded",placeholder:"Image URL",value:r,onChange:O=>i(O.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded",type:"email",value:u,onChange:O=>d(O.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded",value:y,onChange:O=>j(O.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{className:"w-full px-4 py-3 border rounded",value:f,onChange:O=>h(O.target.value),children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded",type:"date",value:p,onChange:O=>g(O.target.value)})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),o.jsx("input",{className:"w-full px-4 py-3 border rounded",value:w,onChange:O=>S(O.target.value)})]})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:A,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded",children:a?"Saving":"Save Changes"})}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Password"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsx("input",{type:"password",className:"w-full px-4 py-3 border rounded",value:_,onChange:O=>N(O.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",className:"w-full px-4 py-3 border rounded",value:b,onChange:O=>k(O.target.value)})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{className:"px-4 py-2 border rounded",onClick:async()=>{if(!e)return;if(_.length<6)return alert("Password must be at least 6 characters");if(_!==b)return alert("Passwords do not match");const{error:O}=await rv(e.id,_);if(O)return alert(O.message);N(""),k(""),alert("Password updated")},children:"Update Password"})})]})]})]})};function IH(){const{user:e,loading:t}=$e(),[n,r]=x.useState("dashboard"),[i,a]=x.useState(!1);if(x.useEffect(()=>{$A(),window.setAppView=d=>r(d);const u=d=>{const f=d==null?void 0:d.detail;typeof f=="string"&&r(f)};return window.addEventListener("codex:setView",u),()=>window.removeEventListener("codex:setView",u)},[]),t)return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})});if(!e)return o.jsx(OM,{});const l=()=>{switch(n){case"dashboard":return o.jsx(Ua,{});case"patients":return e.role==="doctor"||e.role==="volunteer"?o.jsx(gH,{}):o.jsx(Ua,{});case"profile":return e.role==="patient"?o.jsx(vH,{}):o.jsx(Ua,{});case"messages":return o.jsx(yH,{});case"tasks":return e.role==="volunteer"?o.jsx(wH,{}):e.role==="doctor"?o.jsx(_H,{}):o.jsx(t1,{personalOnly:!0,title:"My Tasks"});case"volunteer-tasks":return e.role==="doctor"?o.jsx(bH,{}):o.jsx(t1,{});case"volunteers":return e.role==="doctor"?o.jsx(LH,{}):o.jsx(Ua,{});case"map":return o.jsx(NH,{onBack:()=>r("dashboard")});case"records":return o.jsx(SH,{});case"appointments":return e.role==="patient"?o.jsx(kH,{}):e.role==="volunteer"?o.jsx(CH,{}):o.jsx(Ua,{});case"user-profile":return o.jsx(DH,{});default:return o.jsx(Ua,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsx(TM,{currentView:n,onViewChange:r,mobileOpen:i,setMobileOpen:a}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx(EM,{currentView:n,onViewChange:r,onMenuClick:()=>a(!0)}),o.jsx("main",{className:"p-4 md:p-6 max-w-7xl w-full mx-auto",children:l()})]})]})}function RH(){return o.jsx(VA,{children:o.jsx(IH,{})})}p2(document.getElementById("root")).render(o.jsx(x.StrictMode,{children:o.jsx(RH,{})}));
