var OE=Object.defineProperty;var EE=(e,t,n)=>t in e?OE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _h=(e,t,n)=>EE(e,typeof t!="symbol"?t+"":t,n);function TE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k1={exports:{}},Cd={},C1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),ME=Symbol.for("react.portal"),LE=Symbol.for("react.fragment"),DE=Symbol.for("react.strict_mode"),IE=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),$E=Symbol.for("react.forward_ref"),BE=Symbol.for("react.suspense"),FE=Symbol.for("react.memo"),UE=Symbol.for("react.lazy"),Cx=Symbol.iterator;function WE(e){return e===null||typeof e!="object"?null:(e=Cx&&e[Cx]||e["@@iterator"],typeof e=="function"?e:null)}var O1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E1=Object.assign,T1={};function Uo(e,t,n){this.props=e,this.context=t,this.refs=T1,this.updater=n||O1}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A1(){}A1.prototype=Uo.prototype;function dg(e,t,n){this.props=e,this.context=t,this.refs=T1,this.updater=n||O1}var fg=dg.prototype=new A1;fg.constructor=dg;E1(fg,Uo.prototype);fg.isPureReactComponent=!0;var Ox=Array.isArray,M1=Object.prototype.hasOwnProperty,hg={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function D1(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)M1.call(t,r)&&!L1.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Sl,type:e,key:a,ref:s,props:i,_owner:hg.current}}function HE(e,t){return{$$typeof:Sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sl}function ZE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ex=/\/+/g;function bh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZE(""+e.key):t.toString(36)}function Xu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Sl:case ME:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+bh(s,0):r,Ox(i)?(n="",e!=null&&(n=e.replace(Ex,"$&/")+"/"),Xu(i,t,n,"",function(f){return f})):i!=null&&(mg(i)&&(i=HE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ex,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Ox(e))for(var c=0;c<e.length;c++){a=e[c];var d=r+bh(a,c);s+=Xu(a,t,n,d,i)}else if(d=WE(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=r+bh(a,c++),s+=Xu(a,t,n,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function gu(e,t,n){if(e==null)return e;var r=[],i=0;return Xu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function KE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},Qu={transition:null},VE={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Qu,ReactCurrentOwner:hg};function I1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:gu,forEach:function(e,t,n){gu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gu(e,function(){t++}),t},toArray:function(e){return gu(e,function(t){return t})||[]},only:function(e){if(!mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Uo;ye.Fragment=LE;ye.Profiler=IE;ye.PureComponent=dg;ye.StrictMode=DE;ye.Suspense=BE;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;ye.act=I1;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=E1({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=hg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)M1.call(t,d)&&!L1.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:Sl,type:e.type,key:i,ref:a,props:r,_owner:s}};ye.createContext=function(e){return e={$$typeof:zE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RE,_context:e},e.Consumer=e};ye.createElement=D1;ye.createFactory=function(e){var t=D1.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:$E,render:e}};ye.isValidElement=mg;ye.lazy=function(e){return{$$typeof:UE,_payload:{_status:-1,_result:e},_init:KE}};ye.memo=function(e,t){return{$$typeof:FE,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Qu.transition;Qu.transition={};try{e()}finally{Qu.transition=t}};ye.unstable_act=I1;ye.useCallback=function(e,t){return Kt.current.useCallback(e,t)};ye.useContext=function(e){return Kt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Kt.current.useEffect(e,t)};ye.useId=function(){return Kt.current.useId()};ye.useImperativeHandle=function(e,t,n){return Kt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Kt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return Kt.current.useReducer(e,t,n)};ye.useRef=function(e){return Kt.current.useRef(e)};ye.useState=function(e){return Kt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return Kt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return Kt.current.useTransition()};ye.version="18.3.1";C1.exports=ye;var x=C1.exports;const fc=jr(x),GE=TE({__proto__:null,default:fc},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE=x,YE=Symbol.for("react.element"),XE=Symbol.for("react.fragment"),QE=Object.prototype.hasOwnProperty,JE=qE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eT={key:!0,ref:!0,__self:!0,__source:!0};function R1(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)QE.call(t,r)&&!eT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:YE,type:e,key:a,ref:s,props:i,_owner:JE.current}}Cd.Fragment=XE;Cd.jsx=R1;Cd.jsxs=R1;k1.exports=Cd;var l=k1.exports,z1={exports:{}},_n={},$1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Q){var G=W.length;W.push(Q);e:for(;0<G;){var de=G-1>>>1,ee=W[de];if(0<i(ee,Q))W[de]=Q,W[G]=ee,G=de;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],G=W.pop();if(G!==Q){W[0]=G;e:for(var de=0,ee=W.length,Y=ee>>>1;de<Y;){var ie=2*(de+1)-1,oe=W[ie],se=ie+1,Xe=W[se];if(0>i(oe,G))se<ee&&0>i(Xe,oe)?(W[de]=Xe,W[se]=G,de=se):(W[de]=oe,W[ie]=G,de=ie);else if(se<ee&&0>i(Xe,G))W[de]=Xe,W[se]=G,de=se;else break e}}return Q}function i(W,Q){var G=W.sortIndex-Q.sortIndex;return G!==0?G:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],h=1,p=null,g=3,y=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(W){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=W)r(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(f)}}function E(W){if(b=!1,N(W),!w)if(n(d)!==null)w=!0,K(O);else{var Q=n(f);Q!==null&&J(E,Q.startTime-W)}}function O(W,Q){w=!1,b&&(b=!1,j(A),A=-1),y=!0;var G=g;try{for(N(Q),p=n(d);p!==null&&(!(p.expirationTime>Q)||W&&!D());){var de=p.callback;if(typeof de=="function"){p.callback=null,g=p.priorityLevel;var ee=de(p.expirationTime<=Q);Q=e.unstable_now(),typeof ee=="function"?p.callback=ee:p===n(d)&&r(d),N(Q)}else r(d);p=n(d)}if(p!==null)var Y=!0;else{var ie=n(f);ie!==null&&J(E,ie.startTime-Q),Y=!1}return Y}finally{p=null,g=G,y=!1}}var k=!1,C=null,A=-1,R=5,z=-1;function D(){return!(e.unstable_now()-z<R)}function $(){if(C!==null){var W=e.unstable_now();z=W;var Q=!0;try{Q=C(!0,W)}finally{Q?I():(k=!1,C=null)}}else k=!1}var I;if(typeof _=="function")I=function(){_($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=$,I=function(){B.postMessage(null)}}else I=function(){S($,0)};function K(W){C=W,k||(k=!0,I())}function J(W,Q){A=S(function(){W(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,K(O))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var G=g;g=Q;try{return W()}finally{g=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=g;g=W;try{return Q()}finally{g=G}},e.unstable_scheduleCallback=function(W,Q,G){var de=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?de+G:de):G=de,W){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,W={id:h++,callback:Q,priorityLevel:W,startTime:G,expirationTime:ee,sortIndex:-1},G>de?(W.sortIndex=G,t(f,W),n(d)===null&&W===n(f)&&(b?(j(A),A=-1):b=!0,J(E,G-de))):(W.sortIndex=ee,t(d,W),w||y||(w=!0,K(O))),W},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(W){var Q=g;return function(){var G=g;g=Q;try{return W.apply(this,arguments)}finally{g=G}}}})(B1);$1.exports=B1;var tT=$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT=x,gn=tT;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F1=new Set,qs={};function Na(e,t){bo(e,t),bo(e+"Capture",t)}function bo(e,t){for(qs[e]=t,e=0;e<t.length;e++)F1.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,rT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tx={},Ax={};function iT(e){return jm.call(Ax,e)?!0:jm.call(Tx,e)?!1:rT.test(e)?Ax[e]=!0:(Tx[e]=!0,!1)}function aT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oT(e,t,n,r){if(t===null||typeof t>"u"||aT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var pg=/[\-:]([a-z])/g;function gg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pg,gg);Tt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pg,gg);Tt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pg,gg);Tt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vg(e,t,n,r){var i=Tt.hasOwnProperty(t)?Tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oT(t,n,i,r)&&(n=null),r||i===null?iT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gr=nT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Va=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),H1=Symbol.for("react.offscreen"),Mx=Symbol.iterator;function ms(e){return e===null||typeof e!="object"?null:(e=Mx&&e[Mx]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,wh;function Es(e){if(wh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wh=t&&t[1]||""}return`
`+wh+e}var jh=!1;function Ph(e,t){if(!e||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,c=a.length-1;1<=s&&0<=c&&i[s]!==a[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==a[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==a[c]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=c);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Es(e):""}function sT(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=Ph(e.type,!1),e;case 11:return e=Ph(e.type.render,!1),e;case 1:return e=Ph(e.type,!0),e;default:return""}}function km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ga:return"Fragment";case Va:return"Portal";case Pm:return"Profiler";case yg:return"StrictMode";case Nm:return"Suspense";case Sm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W1:return(e.displayName||"Context")+".Consumer";case U1:return(e._context.displayName||"Context")+".Provider";case xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _g:return t=e.displayName||null,t!==null?t:km(e.type)||"Memo";case ii:t=e._payload,e=e._init;try{return km(e(t))}catch{}}return null}function lT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return km(t);case 8:return t===yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uT(e){var t=Z1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yu(e){e._valueTracker||(e._valueTracker=uT(e))}function K1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cm(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V1(e,t){t=t.checked,t!=null&&vg(e,"checked",t,!1)}function Om(e,t){V1(e,t);var n=ki(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Em(e,t.type,n):t.hasOwnProperty("defaultValue")&&Em(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Em(e,t,n){(t!=="number"||hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ts=Array.isArray;function co(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ki(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ix(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(Ts(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ki(n)}}function G1(e,t){var n=ki(t.value),r=ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Am(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xu,Y1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cT=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){cT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function X1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function Q1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var dT=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mm(e,t){if(t){if(dT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Lm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Im=null,fo=null,ho=null;function zx(e){if(e=Ol(e)){if(typeof Im!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Md(t),Im(e.stateNode,e.type,t))}}function J1(e){fo?ho?ho.push(e):ho=[e]:fo=e}function ej(){if(fo){var e=fo,t=ho;if(ho=fo=null,zx(e),t)for(e=0;e<t.length;e++)zx(t[e])}}function tj(e,t){return e(t)}function nj(){}var Nh=!1;function rj(e,t,n){if(Nh)return e(t,n);Nh=!0;try{return tj(e,t,n)}finally{Nh=!1,(fo!==null||ho!==null)&&(nj(),ej())}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var r=Md(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Rm=!1;if($r)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{Rm=!1}function fT(e,t,n,r,i,a,s,c,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(h){this.onError(h)}}var zs=!1,mc=null,pc=!1,zm=null,hT={onError:function(e){zs=!0,mc=e}};function mT(e,t,n,r,i,a,s,c,d){zs=!1,mc=null,fT.apply(hT,arguments)}function pT(e,t,n,r,i,a,s,c,d){if(mT.apply(this,arguments),zs){if(zs){var f=mc;zs=!1,mc=null}else throw Error(X(198));pc||(pc=!0,zm=f)}}function Sa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ij(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $x(e){if(Sa(e)!==e)throw Error(X(188))}function gT(e){var t=e.alternate;if(!t){if(t=Sa(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $x(i),e;if(a===r)return $x(i),t;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function aj(e){return e=gT(e),e!==null?oj(e):null}function oj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oj(e);if(t!==null)return t;e=e.sibling}return null}var sj=gn.unstable_scheduleCallback,Bx=gn.unstable_cancelCallback,vT=gn.unstable_shouldYield,yT=gn.unstable_requestPaint,et=gn.unstable_now,xT=gn.unstable_getCurrentPriorityLevel,wg=gn.unstable_ImmediatePriority,lj=gn.unstable_UserBlockingPriority,gc=gn.unstable_NormalPriority,_T=gn.unstable_LowPriority,uj=gn.unstable_IdlePriority,Od=null,vr=null;function bT(e){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Od,e,void 0,(e.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:PT,wT=Math.log,jT=Math.LN2;function PT(e){return e>>>=0,e===0?32:31-(wT(e)/jT|0)|0}var _u=64,bu=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var c=s&~i;c!==0?r=As(c):(a&=s,a!==0&&(r=As(a)))}else s=n&~i,s!==0?r=As(s):a!==0&&(r=As(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ir(t),i=1<<n,r|=e[n],t&=~i;return r}function NT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ST(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ir(a),c=1<<s,d=i[s];d===-1?(!(c&n)||c&r)&&(i[s]=NT(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function $m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cj(){var e=_u;return _u<<=1,!(_u&4194240)&&(_u=64),e}function Sh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ir(t),e[t]=n}function kT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ir(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function jg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ir(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ke=0;function dj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fj,Pg,hj,mj,pj,Bm=!1,wu=[],gi=null,vi=null,yi=null,Qs=new Map,Js=new Map,ci=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fx(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(t.pointerId)}}function gs(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ol(t),t!==null&&Pg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function OT(e,t,n,r,i){switch(t){case"focusin":return gi=gs(gi,e,t,n,r,i),!0;case"dragenter":return vi=gs(vi,e,t,n,r,i),!0;case"mouseover":return yi=gs(yi,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Qs.set(a,gs(Qs.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Js.set(a,gs(Js.get(a)||null,e,t,n,r,i)),!0}return!1}function gj(e){var t=Qi(e.target);if(t!==null){var n=Sa(t);if(n!==null){if(t=n.tag,t===13){if(t=ij(n),t!==null){e.blockedOn=t,pj(e.priority,function(){hj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return t=Ol(n),t!==null&&Pg(t),e.blockedOn=n,!1;t.shift()}return!0}function Ux(e,t,n){Ju(e)&&n.delete(t)}function ET(){Bm=!1,gi!==null&&Ju(gi)&&(gi=null),vi!==null&&Ju(vi)&&(vi=null),yi!==null&&Ju(yi)&&(yi=null),Qs.forEach(Ux),Js.forEach(Ux)}function vs(e,t){e.blockedOn===t&&(e.blockedOn=null,Bm||(Bm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,ET)))}function el(e){function t(i){return vs(i,e)}if(0<wu.length){vs(wu[0],e);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gi!==null&&vs(gi,e),vi!==null&&vs(vi,e),yi!==null&&vs(yi,e),Qs.forEach(t),Js.forEach(t),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)gj(n),n.blockedOn===null&&ci.shift()}var mo=Gr.ReactCurrentBatchConfig,yc=!0;function TT(e,t,n,r){var i=ke,a=mo.transition;mo.transition=null;try{ke=1,Ng(e,t,n,r)}finally{ke=i,mo.transition=a}}function AT(e,t,n,r){var i=ke,a=mo.transition;mo.transition=null;try{ke=4,Ng(e,t,n,r)}finally{ke=i,mo.transition=a}}function Ng(e,t,n,r){if(yc){var i=Fm(e,t,n,r);if(i===null)Ih(e,t,r,xc,n),Fx(e,r);else if(OT(i,e,t,n,r))r.stopPropagation();else if(Fx(e,r),t&4&&-1<CT.indexOf(e)){for(;i!==null;){var a=Ol(i);if(a!==null&&fj(a),a=Fm(e,t,n,r),a===null&&Ih(e,t,r,xc,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ih(e,t,r,null,n)}}var xc=null;function Fm(e,t,n,r){if(xc=null,e=bg(r),e=Qi(e),e!==null)if(t=Sa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ij(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xc=e,null}function vj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xT()){case wg:return 1;case lj:return 4;case gc:case _T:return 16;case uj:return 536870912;default:return 16}default:return 16}}var hi=null,Sg=null,ec=null;function yj(){if(ec)return ec;var e,t=Sg,n=t.length,r,i="value"in hi?hi.value:hi.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return ec=i.slice(e,1<r?1-r:void 0)}function tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ju(){return!0}function Wx(){return!1}function bn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ju:Wx,this.isPropagationStopped=Wx,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=bn(Wo),Cl=Ve({},Wo,{view:0,detail:0}),MT=bn(Cl),kh,Ch,ys,Ed=Ve({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(kh=e.screenX-ys.screenX,Ch=e.screenY-ys.screenY):Ch=kh=0,ys=e),kh)},movementY:function(e){return"movementY"in e?e.movementY:Ch}}),Hx=bn(Ed),LT=Ve({},Ed,{dataTransfer:0}),DT=bn(LT),IT=Ve({},Cl,{relatedTarget:0}),Oh=bn(IT),RT=Ve({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),zT=bn(RT),$T=Ve({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BT=bn($T),FT=Ve({},Wo,{data:0}),Zx=bn(FT),UT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HT[e])?!!t[e]:!1}function Cg(){return ZT}var KT=Ve({},Cl,{key:function(e){if(e.key){var t=UT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(e){return e.type==="keypress"?tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VT=bn(KT),GT=Ve({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kx=bn(GT),qT=Ve({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),YT=bn(qT),XT=Ve({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),QT=bn(XT),JT=Ve({},Ed,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=bn(JT),tA=[9,13,27,32],Og=$r&&"CompositionEvent"in window,$s=null;$r&&"documentMode"in document&&($s=document.documentMode);var nA=$r&&"TextEvent"in window&&!$s,xj=$r&&(!Og||$s&&8<$s&&11>=$s),Vx=" ",Gx=!1;function _j(e,t){switch(e){case"keyup":return tA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function rA(e,t){switch(e){case"compositionend":return bj(t);case"keypress":return t.which!==32?null:(Gx=!0,Vx);case"textInput":return e=t.data,e===Vx&&Gx?null:e;default:return null}}function iA(e,t){if(qa)return e==="compositionend"||!Og&&_j(e,t)?(e=yj(),ec=Sg=hi=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xj&&t.locale!=="ko"?null:t.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aA[e.type]:t==="textarea"}function wj(e,t,n,r){J1(r),t=_c(t,"onChange"),0<t.length&&(n=new kg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bs=null,tl=null;function oA(e){Mj(e,0)}function Td(e){var t=Qa(e);if(K1(t))return e}function sA(e,t){if(e==="change")return t}var jj=!1;if($r){var Eh;if($r){var Th="oninput"in document;if(!Th){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),Th=typeof Yx.oninput=="function"}Eh=Th}else Eh=!1;jj=Eh&&(!document.documentMode||9<document.documentMode)}function Xx(){Bs&&(Bs.detachEvent("onpropertychange",Pj),tl=Bs=null)}function Pj(e){if(e.propertyName==="value"&&Td(tl)){var t=[];wj(t,tl,e,bg(e)),rj(oA,t)}}function lA(e,t,n){e==="focusin"?(Xx(),Bs=t,tl=n,Bs.attachEvent("onpropertychange",Pj)):e==="focusout"&&Xx()}function uA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Td(tl)}function cA(e,t){if(e==="click")return Td(t)}function dA(e,t){if(e==="input"||e==="change")return Td(t)}function fA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var or=typeof Object.is=="function"?Object.is:fA;function nl(e,t){if(or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jm.call(t,i)||!or(e[i],t[i]))return!1}return!0}function Qx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jx(e,t){var n=Qx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qx(n)}}function Nj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sj(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hc(e.document)}return t}function Eg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hA(e){var t=Sj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nj(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Jx(n,a);var s=Jx(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mA=$r&&"documentMode"in document&&11>=document.documentMode,Ya=null,Um=null,Fs=null,Wm=!1;function e_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wm||Ya==null||Ya!==hc(r)||(r=Ya,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fs&&nl(Fs,r)||(Fs=r,r=_c(Um,"onSelect"),0<r.length&&(t=new kg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ya)))}function Pu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xa={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},Ah={},kj={};$r&&(kj=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Ad(e){if(Ah[e])return Ah[e];if(!Xa[e])return e;var t=Xa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kj)return Ah[e]=t[n];return e}var Cj=Ad("animationend"),Oj=Ad("animationiteration"),Ej=Ad("animationstart"),Tj=Ad("transitionend"),Aj=new Map,t_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,t){Aj.set(e,t),Na(t,[e])}for(var Mh=0;Mh<t_.length;Mh++){var Lh=t_[Mh],pA=Lh.toLowerCase(),gA=Lh[0].toUpperCase()+Lh.slice(1);Ti(pA,"on"+gA)}Ti(Cj,"onAnimationEnd");Ti(Oj,"onAnimationIteration");Ti(Ej,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(Tj,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function n_(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pT(r,t,void 0,e),e.currentTarget=null}function Mj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var c=r[s],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;n_(i,c,f),a=d}else for(s=0;s<r.length;s++){if(c=r[s],d=c.instance,f=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;n_(i,c,f),a=d}}}if(pc)throw e=zm,pc=!1,zm=null,e}function De(e,t){var n=t[Gm];n===void 0&&(n=t[Gm]=new Set);var r=e+"__bubble";n.has(r)||(Lj(t,e,2,!1),n.add(r))}function Dh(e,t,n){var r=0;t&&(r|=4),Lj(n,e,r,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function rl(e){if(!e[Nu]){e[Nu]=!0,F1.forEach(function(n){n!=="selectionchange"&&(vA.has(n)||Dh(n,!1,e),Dh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,Dh("selectionchange",!1,t))}}function Lj(e,t,n,r){switch(vj(t)){case 1:var i=TT;break;case 4:i=AT;break;default:i=Ng}n=i.bind(null,t,n,e),i=void 0,!Rm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ih(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;c!==null;){if(s=Qi(c),s===null)return;if(d=s.tag,d===5||d===6){r=a=s;continue e}c=c.parentNode}}r=r.return}rj(function(){var f=a,h=bg(n),p=[];e:{var g=Aj.get(e);if(g!==void 0){var y=kg,w=e;switch(e){case"keypress":if(tc(n)===0)break e;case"keydown":case"keyup":y=VT;break;case"focusin":w="focus",y=Oh;break;case"focusout":w="blur",y=Oh;break;case"beforeblur":case"afterblur":y=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=DT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=YT;break;case Cj:case Oj:case Ej:y=zT;break;case Tj:y=QT;break;case"scroll":y=MT;break;case"wheel":y=eA;break;case"copy":case"cut":case"paste":y=BT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Kx}var b=(t&4)!==0,S=!b&&e==="scroll",j=b?g!==null?g+"Capture":null:g;b=[];for(var _=f,N;_!==null;){N=_;var E=N.stateNode;if(N.tag===5&&E!==null&&(N=E,j!==null&&(E=Xs(_,j),E!=null&&b.push(il(_,E,N)))),S)break;_=_.return}0<b.length&&(g=new y(g,w,null,n,h),p.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Dm&&(w=n.relatedTarget||n.fromElement)&&(Qi(w)||w[Br]))break e;if((y||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=f,w=w?Qi(w):null,w!==null&&(S=Sa(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=f),y!==w)){if(b=Hx,E="onMouseLeave",j="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=Kx,E="onPointerLeave",j="onPointerEnter",_="pointer"),S=y==null?g:Qa(y),N=w==null?g:Qa(w),g=new b(E,_+"leave",y,n,h),g.target=S,g.relatedTarget=N,E=null,Qi(h)===f&&(b=new b(j,_+"enter",w,n,h),b.target=N,b.relatedTarget=S,E=b),S=E,y&&w)t:{for(b=y,j=w,_=0,N=b;N;N=Ua(N))_++;for(N=0,E=j;E;E=Ua(E))N++;for(;0<_-N;)b=Ua(b),_--;for(;0<N-_;)j=Ua(j),N--;for(;_--;){if(b===j||j!==null&&b===j.alternate)break t;b=Ua(b),j=Ua(j)}b=null}else b=null;y!==null&&r_(p,g,y,b,!1),w!==null&&S!==null&&r_(p,S,w,b,!0)}}e:{if(g=f?Qa(f):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var O=sA;else if(qx(g))if(jj)O=dA;else{O=uA;var k=lA}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=cA);if(O&&(O=O(e,f))){wj(p,O,n,h);break e}k&&k(e,g,f),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Em(g,"number",g.value)}switch(k=f?Qa(f):window,e){case"focusin":(qx(k)||k.contentEditable==="true")&&(Ya=k,Um=f,Fs=null);break;case"focusout":Fs=Um=Ya=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,e_(p,n,h);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":e_(p,n,h)}var C;if(Og)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qa?_j(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(xj&&n.locale!=="ko"&&(qa||A!=="onCompositionStart"?A==="onCompositionEnd"&&qa&&(C=yj()):(hi=h,Sg="value"in hi?hi.value:hi.textContent,qa=!0)),k=_c(f,A),0<k.length&&(A=new Zx(A,e,null,n,h),p.push({event:A,listeners:k}),C?A.data=C:(C=bj(n),C!==null&&(A.data=C)))),(C=nA?rA(e,n):iA(e,n))&&(f=_c(f,"onBeforeInput"),0<f.length&&(h=new Zx("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:f}),h.data=C))}Mj(p,t)})}function il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _c(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xs(e,n),a!=null&&r.unshift(il(e,a,i)),a=Xs(e,t),a!=null&&r.push(il(e,a,i))),e=e.return}return r}function Ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function r_(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var c=n,d=c.alternate,f=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&f!==null&&(c=f,i?(d=Xs(n,a),d!=null&&s.unshift(il(n,d,c))):i||(d=Xs(n,a),d!=null&&s.push(il(n,d,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var yA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(xA,"")}function Su(e,t,n){if(t=i_(t),i_(e)!==t&&n)throw Error(X(425))}function bc(){}var Hm=null,Zm=null;function Km(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(wA)}:Vm;function wA(e){setTimeout(function(){throw e})}function Rh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),el(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);el(t)}function xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ho,al="__reactProps$"+Ho,Br="__reactContainer$"+Ho,Gm="__reactEvents$"+Ho,jA="__reactListeners$"+Ho,PA="__reactHandles$"+Ho;function Qi(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Br]||n[mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=o_(e);e!==null;){if(n=e[mr])return n;e=o_(e)}return t}e=n,n=e.parentNode}return null}function Ol(e){return e=e[mr]||e[Br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Md(e){return e[al]||null}var qm=[],Ja=-1;function Ai(e){return{current:e}}function Re(e){0>Ja||(e.current=qm[Ja],qm[Ja]=null,Ja--)}function Le(e,t){Ja++,qm[Ja]=e.current,e.current=t}var Ci={},Bt=Ai(Ci),tn=Ai(!1),fa=Ci;function wo(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function wc(){Re(tn),Re(Bt)}function s_(e,t,n){if(Bt.current!==Ci)throw Error(X(168));Le(Bt,t),Le(tn,n)}function Dj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(X(108,lT(e)||"Unknown",i));return Ve({},n,r)}function jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,fa=Bt.current,Le(Bt,e),Le(tn,tn.current),!0}function l_(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=Dj(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,Re(tn),Re(Bt),Le(Bt,e)):Re(tn),Le(tn,n)}var Or=null,Ld=!1,zh=!1;function Ij(e){Or===null?Or=[e]:Or.push(e)}function NA(e){Ld=!0,Ij(e)}function Mi(){if(!zh&&Or!==null){zh=!0;var e=0,t=ke;try{var n=Or;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Or=null,Ld=!1}catch(i){throw Or!==null&&(Or=Or.slice(e+1)),sj(wg,Mi),i}finally{ke=t,zh=!1}}return null}var eo=[],to=0,Pc=null,Nc=0,Tn=[],An=0,ha=null,Ar=1,Mr="";function Vi(e,t){eo[to++]=Nc,eo[to++]=Pc,Pc=e,Nc=t}function Rj(e,t,n){Tn[An++]=Ar,Tn[An++]=Mr,Tn[An++]=ha,ha=e;var r=Ar;e=Mr;var i=32-ir(r)-1;r&=~(1<<i),n+=1;var a=32-ir(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ar=1<<32-ir(t)+i|n<<i|r,Mr=a+e}else Ar=1<<a|n<<i|r,Mr=e}function Tg(e){e.return!==null&&(Vi(e,1),Rj(e,1,0))}function Ag(e){for(;e===Pc;)Pc=eo[--to],eo[to]=null,Nc=eo[--to],eo[to]=null;for(;e===ha;)ha=Tn[--An],Tn[An]=null,Mr=Tn[--An],Tn[An]=null,Ar=Tn[--An],Tn[An]=null}var mn=null,hn=null,$e=!1,Jn=null;function zj(e,t){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function u_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,hn=xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ha!==null?{id:Ar,overflow:Mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mn=e,hn=null,!0):!1;default:return!1}}function Ym(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xm(e){if($e){var t=hn;if(t){var n=t;if(!u_(e,t)){if(Ym(e))throw Error(X(418));t=xi(n.nextSibling);var r=mn;t&&u_(e,t)?zj(r,n):(e.flags=e.flags&-4097|2,$e=!1,mn=e)}}else{if(Ym(e))throw Error(X(418));e.flags=e.flags&-4097|2,$e=!1,mn=e}}}function c_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function ku(e){if(e!==mn)return!1;if(!$e)return c_(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Km(e.type,e.memoizedProps)),t&&(t=hn)){if(Ym(e))throw $j(),Error(X(418));for(;t;)zj(e,t),t=xi(t.nextSibling)}if(c_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hn=xi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hn=null}}else hn=mn?xi(e.stateNode.nextSibling):null;return!0}function $j(){for(var e=hn;e;)e=xi(e.nextSibling)}function jo(){hn=mn=null,$e=!1}function Mg(e){Jn===null?Jn=[e]:Jn.push(e)}var SA=Gr.ReactCurrentBatchConfig;function xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var c=i.refs;s===null?delete c[a]:c[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Cu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function d_(e){var t=e._init;return t(e._payload)}function Bj(e){function t(j,_){if(e){var N=j.deletions;N===null?(j.deletions=[_],j.flags|=16):N.push(_)}}function n(j,_){if(!e)return null;for(;_!==null;)t(j,_),_=_.sibling;return null}function r(j,_){for(j=new Map;_!==null;)_.key!==null?j.set(_.key,_):j.set(_.index,_),_=_.sibling;return j}function i(j,_){return j=ji(j,_),j.index=0,j.sibling=null,j}function a(j,_,N){return j.index=N,e?(N=j.alternate,N!==null?(N=N.index,N<_?(j.flags|=2,_):N):(j.flags|=2,_)):(j.flags|=1048576,_)}function s(j){return e&&j.alternate===null&&(j.flags|=2),j}function c(j,_,N,E){return _===null||_.tag!==6?(_=Zh(N,j.mode,E),_.return=j,_):(_=i(_,N),_.return=j,_)}function d(j,_,N,E){var O=N.type;return O===Ga?h(j,_,N.props.children,E,N.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&d_(O)===_.type)?(E=i(_,N.props),E.ref=xs(j,_,N),E.return=j,E):(E=lc(N.type,N.key,N.props,null,j.mode,E),E.ref=xs(j,_,N),E.return=j,E)}function f(j,_,N,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=Kh(N,j.mode,E),_.return=j,_):(_=i(_,N.children||[]),_.return=j,_)}function h(j,_,N,E,O){return _===null||_.tag!==7?(_=oa(N,j.mode,E,O),_.return=j,_):(_=i(_,N),_.return=j,_)}function p(j,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zh(""+_,j.mode,N),_.return=j,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vu:return N=lc(_.type,_.key,_.props,null,j.mode,N),N.ref=xs(j,null,_),N.return=j,N;case Va:return _=Kh(_,j.mode,N),_.return=j,_;case ii:var E=_._init;return p(j,E(_._payload),N)}if(Ts(_)||ms(_))return _=oa(_,j.mode,N,null),_.return=j,_;Cu(j,_)}return null}function g(j,_,N,E){var O=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return O!==null?null:c(j,_,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vu:return N.key===O?d(j,_,N,E):null;case Va:return N.key===O?f(j,_,N,E):null;case ii:return O=N._init,g(j,_,O(N._payload),E)}if(Ts(N)||ms(N))return O!==null?null:h(j,_,N,E,null);Cu(j,N)}return null}function y(j,_,N,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return j=j.get(N)||null,c(_,j,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vu:return j=j.get(E.key===null?N:E.key)||null,d(_,j,E,O);case Va:return j=j.get(E.key===null?N:E.key)||null,f(_,j,E,O);case ii:var k=E._init;return y(j,_,N,k(E._payload),O)}if(Ts(E)||ms(E))return j=j.get(N)||null,h(_,j,E,O,null);Cu(_,E)}return null}function w(j,_,N,E){for(var O=null,k=null,C=_,A=_=0,R=null;C!==null&&A<N.length;A++){C.index>A?(R=C,C=null):R=C.sibling;var z=g(j,C,N[A],E);if(z===null){C===null&&(C=R);break}e&&C&&z.alternate===null&&t(j,C),_=a(z,_,A),k===null?O=z:k.sibling=z,k=z,C=R}if(A===N.length)return n(j,C),$e&&Vi(j,A),O;if(C===null){for(;A<N.length;A++)C=p(j,N[A],E),C!==null&&(_=a(C,_,A),k===null?O=C:k.sibling=C,k=C);return $e&&Vi(j,A),O}for(C=r(j,C);A<N.length;A++)R=y(C,j,A,N[A],E),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?A:R.key),_=a(R,_,A),k===null?O=R:k.sibling=R,k=R);return e&&C.forEach(function(D){return t(j,D)}),$e&&Vi(j,A),O}function b(j,_,N,E){var O=ms(N);if(typeof O!="function")throw Error(X(150));if(N=O.call(N),N==null)throw Error(X(151));for(var k=O=null,C=_,A=_=0,R=null,z=N.next();C!==null&&!z.done;A++,z=N.next()){C.index>A?(R=C,C=null):R=C.sibling;var D=g(j,C,z.value,E);if(D===null){C===null&&(C=R);break}e&&C&&D.alternate===null&&t(j,C),_=a(D,_,A),k===null?O=D:k.sibling=D,k=D,C=R}if(z.done)return n(j,C),$e&&Vi(j,A),O;if(C===null){for(;!z.done;A++,z=N.next())z=p(j,z.value,E),z!==null&&(_=a(z,_,A),k===null?O=z:k.sibling=z,k=z);return $e&&Vi(j,A),O}for(C=r(j,C);!z.done;A++,z=N.next())z=y(C,j,A,z.value,E),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?A:z.key),_=a(z,_,A),k===null?O=z:k.sibling=z,k=z);return e&&C.forEach(function($){return t(j,$)}),$e&&Vi(j,A),O}function S(j,_,N,E){if(typeof N=="object"&&N!==null&&N.type===Ga&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case vu:e:{for(var O=N.key,k=_;k!==null;){if(k.key===O){if(O=N.type,O===Ga){if(k.tag===7){n(j,k.sibling),_=i(k,N.props.children),_.return=j,j=_;break e}}else if(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&d_(O)===k.type){n(j,k.sibling),_=i(k,N.props),_.ref=xs(j,k,N),_.return=j,j=_;break e}n(j,k);break}else t(j,k);k=k.sibling}N.type===Ga?(_=oa(N.props.children,j.mode,E,N.key),_.return=j,j=_):(E=lc(N.type,N.key,N.props,null,j.mode,E),E.ref=xs(j,_,N),E.return=j,j=E)}return s(j);case Va:e:{for(k=N.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(j,_.sibling),_=i(_,N.children||[]),_.return=j,j=_;break e}else{n(j,_);break}else t(j,_);_=_.sibling}_=Kh(N,j.mode,E),_.return=j,j=_}return s(j);case ii:return k=N._init,S(j,_,k(N._payload),E)}if(Ts(N))return w(j,_,N,E);if(ms(N))return b(j,_,N,E);Cu(j,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(j,_.sibling),_=i(_,N),_.return=j,j=_):(n(j,_),_=Zh(N,j.mode,E),_.return=j,j=_),s(j)):n(j,_)}return S}var Po=Bj(!0),Fj=Bj(!1),Sc=Ai(null),kc=null,no=null,Lg=null;function Dg(){Lg=no=kc=null}function Ig(e){var t=Sc.current;Re(Sc),e._currentValue=t}function Qm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function po(e,t){kc=e,Lg=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if(Lg!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(kc===null)throw Error(X(308));no=e,kc.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var Ji=null;function Rg(e){Ji===null?Ji=[e]:Ji.push(e)}function Uj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fr(e,r)}function Fr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ai=!1;function zg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fr(e,n)}return i=r.interleaved,i===null?(t.next=t,Rg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fr(e,n)}function nc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jg(e,n)}}function f_(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cc(e,t,n,r){var i=e.updateQueue;ai=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,f=d.next;d.next=null,s===null?a=f:s.next=f,s=d;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==s&&(c===null?h.firstBaseUpdate=f:c.next=f,h.lastBaseUpdate=d))}if(a!==null){var p=i.baseState;s=0,h=f=d=null,c=a;do{var g=c.lane,y=c.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,b=c;switch(g=t,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){p=w.call(y,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,g=typeof w=="function"?w.call(y,p,g):w,g==null)break e;p=Ve({},p,g);break e;case 2:ai=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else y={eventTime:y,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(f=h=y,d=p):h=h.next=y,s|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(d=p),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);pa|=s,e.lanes=s,e.memoizedState=p}}function h_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var El={},yr=Ai(El),ol=Ai(El),sl=Ai(El);function ea(e){if(e===El)throw Error(X(174));return e}function $g(e,t){switch(Le(sl,t),Le(ol,e),Le(yr,El),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Am(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Am(t,e)}Re(yr),Le(yr,t)}function No(){Re(yr),Re(ol),Re(sl)}function Hj(e){ea(sl.current);var t=ea(yr.current),n=Am(t,e.type);t!==n&&(Le(ol,e),Le(yr,n))}function Bg(e){ol.current===e&&(Re(yr),Re(ol))}var We=Ai(0);function Oc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $h=[];function Fg(){for(var e=0;e<$h.length;e++)$h[e]._workInProgressVersionPrimary=null;$h.length=0}var rc=Gr.ReactCurrentDispatcher,Bh=Gr.ReactCurrentBatchConfig,ma=0,Ke=null,lt=null,xt=null,Ec=!1,Us=!1,ll=0,kA=0;function Lt(){throw Error(X(321))}function Ug(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Wg(e,t,n,r,i,a){if(ma=a,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rc.current=e===null||e.memoizedState===null?TA:AA,e=n(r,i),Us){a=0;do{if(Us=!1,ll=0,25<=a)throw Error(X(301));a+=1,xt=lt=null,t.updateQueue=null,rc.current=MA,e=n(r,i)}while(Us)}if(rc.current=Tc,t=lt!==null&&lt.next!==null,ma=0,xt=lt=Ke=null,Ec=!1,t)throw Error(X(300));return e}function Hg(){var e=ll!==0;return ll=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ke.memoizedState=xt=e:xt=xt.next=e,xt}function Bn(){if(lt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=xt===null?Ke.memoizedState:xt.next;if(t!==null)xt=t,lt=e;else{if(e===null)throw Error(X(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},xt===null?Ke.memoizedState=xt=e:xt=xt.next=e}return xt}function ul(e,t){return typeof t=="function"?t(e):t}function Fh(e){var t=Bn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var c=s=null,d=null,f=a;do{var h=f.lane;if((ma&h)===h)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var p={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=p,s=r):d=d.next=p,Ke.lanes|=h,pa|=h}f=f.next}while(f!==null&&f!==a);d===null?s=r:d.next=c,or(r,t.memoizedState)||(Jt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ke.lanes|=a,pa|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uh(e){var t=Bn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);or(a,t.memoizedState)||(Jt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Zj(){}function Kj(e,t){var n=Ke,r=Bn(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,Jt=!0),r=r.queue,Zg(qj.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,cl(9,Gj.bind(null,n,r,i,t),void 0,null),bt===null)throw Error(X(349));ma&30||Vj(n,t,i)}return i}function Vj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gj(e,t,n,r){t.value=n,t.getSnapshot=r,Yj(t)&&Xj(e)}function qj(e,t,n){return n(function(){Yj(t)&&Xj(e)})}function Yj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch{return!0}}function Xj(e){var t=Fr(e,1);t!==null&&ar(t,e,1,-1)}function m_(e){var t=hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:e},t.queue=e,e=e.dispatch=EA.bind(null,Ke,e),[t.memoizedState,e]}function cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qj(){return Bn().memoizedState}function ic(e,t,n,r){var i=hr();Ke.flags|=e,i.memoizedState=cl(1|t,n,void 0,r===void 0?null:r)}function Dd(e,t,n,r){var i=Bn();r=r===void 0?null:r;var a=void 0;if(lt!==null){var s=lt.memoizedState;if(a=s.destroy,r!==null&&Ug(r,s.deps)){i.memoizedState=cl(t,n,a,r);return}}Ke.flags|=e,i.memoizedState=cl(1|t,n,a,r)}function p_(e,t){return ic(8390656,8,e,t)}function Zg(e,t){return Dd(2048,8,e,t)}function Jj(e,t){return Dd(4,2,e,t)}function e2(e,t){return Dd(4,4,e,t)}function t2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n2(e,t,n){return n=n!=null?n.concat([e]):null,Dd(4,4,t2.bind(null,t,e),n)}function Kg(){}function r2(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ug(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function i2(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ug(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a2(e,t,n){return ma&21?(or(n,t)||(n=cj(),Ke.lanes|=n,pa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=n)}function CA(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=Bh.transition;Bh.transition={};try{e(!1),t()}finally{ke=n,Bh.transition=r}}function o2(){return Bn().memoizedState}function OA(e,t,n){var r=wi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s2(e))l2(t,n);else if(n=Uj(e,t,n,r),n!==null){var i=Zt();ar(n,e,r,i),u2(n,t,r)}}function EA(e,t,n){var r=wi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s2(e))l2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,c=a(s,n);if(i.hasEagerState=!0,i.eagerState=c,or(c,s)){var d=t.interleaved;d===null?(i.next=i,Rg(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=Uj(e,t,i,r),n!==null&&(i=Zt(),ar(n,e,r,i),u2(n,t,r))}}function s2(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function l2(e,t){Us=Ec=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function u2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jg(e,n)}}var Tc={readContext:$n,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},TA={readContext:$n,useCallback:function(e,t){return hr().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:p_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ic(4194308,4,t2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return ic(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=OA.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=hr();return e={current:e},t.memoizedState=e},useState:m_,useDebugValue:Kg,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=m_(!1),t=e[0];return e=CA.bind(null,e[1]),hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,i=hr();if($e){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),bt===null)throw Error(X(349));ma&30||Vj(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,p_(qj.bind(null,r,a,e),[e]),r.flags|=2048,cl(9,Gj.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=hr(),t=bt.identifierPrefix;if($e){var n=Mr,r=Ar;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AA={readContext:$n,useCallback:r2,useContext:$n,useEffect:Zg,useImperativeHandle:n2,useInsertionEffect:Jj,useLayoutEffect:e2,useMemo:i2,useReducer:Fh,useRef:Qj,useState:function(){return Fh(ul)},useDebugValue:Kg,useDeferredValue:function(e){var t=Bn();return a2(t,lt.memoizedState,e)},useTransition:function(){var e=Fh(ul)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Zj,useSyncExternalStore:Kj,useId:o2,unstable_isNewReconciler:!1},MA={readContext:$n,useCallback:r2,useContext:$n,useEffect:Zg,useImperativeHandle:n2,useInsertionEffect:Jj,useLayoutEffect:e2,useMemo:i2,useReducer:Uh,useRef:Qj,useState:function(){return Uh(ul)},useDebugValue:Kg,useDeferredValue:function(e){var t=Bn();return lt===null?t.memoizedState=e:a2(t,lt.memoizedState,e)},useTransition:function(){var e=Uh(ul)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Zj,useSyncExternalStore:Kj,useId:o2,unstable_isNewReconciler:!1};function Xn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Id={isMounted:function(e){return(e=e._reactInternals)?Sa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=wi(e),a=Ir(r,i);a.payload=t,n!=null&&(a.callback=n),t=_i(e,a,i),t!==null&&(ar(t,e,i,r),nc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=wi(e),a=Ir(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=_i(e,a,i),t!==null&&(ar(t,e,i,r),nc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zt(),r=wi(e),i=Ir(n,r);i.tag=2,t!=null&&(i.callback=t),t=_i(e,i,r),t!==null&&(ar(t,e,r,n),nc(t,e,r))}};function g_(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!nl(n,r)||!nl(i,a):!0}function c2(e,t,n){var r=!1,i=Ci,a=t.contextType;return typeof a=="object"&&a!==null?a=$n(a):(i=nn(t)?fa:Bt.current,r=t.contextTypes,a=(r=r!=null)?wo(e,i):Ci),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Id,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function v_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Id.enqueueReplaceState(t,t.state,null)}function ep(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=$n(a):(a=nn(t)?fa:Bt.current,i.context=wo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Jm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Id.enqueueReplaceState(i,i.state,null),Cc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function So(e,t){try{var n="",r=t;do n+=sT(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Wh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var LA=typeof WeakMap=="function"?WeakMap:Map;function d2(e,t,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mc||(Mc=!0,dp=r),tp(e,t)},n}function f2(e,t,n){n=Ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){tp(e,t),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function y_(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new LA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=GA.bind(null,e,t,n),t.then(e,e))}function x_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function __(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ir(-1,1),t.tag=2,_i(n,t,1))),n.lanes|=1),e)}var DA=Gr.ReactCurrentOwner,Jt=!1;function Ut(e,t,n,r){t.child=e===null?Fj(t,null,n,r):Po(t,e.child,n,r)}function b_(e,t,n,r,i){n=n.render;var a=t.ref;return po(t,i),r=Wg(e,t,n,r,a,i),n=Hg(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):($e&&n&&Tg(t),t.flags|=1,Ut(e,t,r,i),t.child)}function w_(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!ev(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,h2(e,t,a,r,i)):(e=lc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(s,r)&&e.ref===t.ref)return Ur(e,t,i)}return t.flags|=1,e=ji(a,r),e.ref=t.ref,e.return=t,t.child=e}function h2(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(nl(a,r)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,Ur(e,t,i)}return np(e,t,n,r,i)}function m2(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(io,un),un|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(io,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Le(io,un),un|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Le(io,un),un|=r;return Ut(e,t,i,n),t.child}function p2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function np(e,t,n,r,i){var a=nn(n)?fa:Bt.current;return a=wo(t,a),po(t,i),n=Wg(e,t,n,r,a,i),r=Hg(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):($e&&r&&Tg(t),t.flags|=1,Ut(e,t,n,i),t.child)}function j_(e,t,n,r,i){if(nn(n)){var a=!0;jc(t)}else a=!1;if(po(t,i),t.stateNode===null)ac(e,t),c2(t,n,r),ep(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var d=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=$n(f):(f=nn(n)?fa:Bt.current,f=wo(t,f));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==r||d!==f)&&v_(t,s,r,f),ai=!1;var g=t.memoizedState;s.state=g,Cc(t,r,s,i),d=t.memoizedState,c!==r||g!==d||tn.current||ai?(typeof h=="function"&&(Jm(t,n,h,r),d=t.memoizedState),(c=ai||g_(t,n,c,r,g,d,f))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=f,r=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Wj(e,t),c=t.memoizedProps,f=t.type===t.elementType?c:Xn(t.type,c),s.props=f,p=t.pendingProps,g=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=$n(d):(d=nn(n)?fa:Bt.current,d=wo(t,d));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==p||g!==d)&&v_(t,s,r,d),ai=!1,g=t.memoizedState,s.state=g,Cc(t,r,s,i);var w=t.memoizedState;c!==p||g!==w||tn.current||ai?(typeof y=="function"&&(Jm(t,n,y,r),w=t.memoizedState),(f=ai||g_(t,n,f,r,g,w,d)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=d,r=f):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return rp(e,t,n,r,a,i)}function rp(e,t,n,r,i,a){p2(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&l_(t,n,!1),Ur(e,t,a);r=t.stateNode,DA.current=t;var c=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Po(t,e.child,null,a),t.child=Po(t,null,c,a)):Ut(e,t,c,a),t.memoizedState=r.state,i&&l_(t,n,!0),t.child}function g2(e){var t=e.stateNode;t.pendingContext?s_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s_(e,t.context,!1),$g(e,t.containerInfo)}function P_(e,t,n,r,i){return jo(),Mg(i),t.flags|=256,Ut(e,t,n,r),t.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function v2(e,t,n){var r=t.pendingProps,i=We.current,a=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(We,i&1),e===null)return Xm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=$d(s,r,0,null),e=oa(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ap(n),t.memoizedState=ip,e):Vg(t,s));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return IA(e,t,s,r,c,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=ji(i,d),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=ji(c,a):(a=oa(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?ap(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=ip,r}return a=e.child,e=a.sibling,r=ji(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vg(e,t){return t=$d({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ou(e,t,n,r){return r!==null&&Mg(r),Po(t,e.child,null,n),e=Vg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IA(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Wh(Error(X(422))),Ou(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=$d({mode:"visible",children:r.children},i,0,null),a=oa(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Po(t,e.child,null,s),t.child.memoizedState=ap(s),t.memoizedState=ip,a);if(!(t.mode&1))return Ou(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(X(419)),r=Wh(a,r,void 0),Ou(e,t,s,r)}if(c=(s&e.childLanes)!==0,Jt||c){if(r=bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fr(e,i),ar(r,e,i,-1))}return Jg(),r=Wh(Error(X(421))),Ou(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qA.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,hn=xi(i.nextSibling),mn=t,$e=!0,Jn=null,e!==null&&(Tn[An++]=Ar,Tn[An++]=Mr,Tn[An++]=ha,Ar=e.id,Mr=e.overflow,ha=t),t=Vg(t,r.children),t.flags|=4096,t)}function N_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qm(e.return,t,n)}function Hh(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function y2(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ut(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N_(e,n,t);else if(e.tag===19)N_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(We,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Oc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hh(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Oc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hh(t,!0,n,null,a);break;case"together":Hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RA(e,t,n){switch(t.tag){case 3:g2(t),jo();break;case 5:Hj(t);break;case 1:nn(t.type)&&jc(t);break;case 4:$g(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Le(Sc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?v2(e,t,n):(Le(We,We.current&1),e=Ur(e,t,n),e!==null?e.sibling:null);Le(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,m2(e,t,n)}return Ur(e,t,n)}var x2,op,_2,b2;x2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};_2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ea(yr.current);var a=null;switch(n){case"input":i=Cm(e,i),r=Cm(e,r),a=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),a=[];break;case"textarea":i=Tm(e,i),r=Tm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bc)}Mm(n,r);var s;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(qs.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in r){var d=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(a||(a=[]),a.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(qs.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&De("scroll",e),a||c===d||(a=[])):(a=a||[]).push(f,d))}n&&(a=a||[]).push("style",n);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};b2=function(e,t,n,r){n!==r&&(t.flags|=4)};function _s(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zA(e,t,n){var r=t.pendingProps;switch(Ag(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return nn(t.type)&&wc(),Dt(t),null;case 3:return r=t.stateNode,No(),Re(tn),Re(Bt),Fg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ku(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jn!==null&&(mp(Jn),Jn=null))),op(e,t),Dt(t),null;case 5:Bg(t);var i=ea(sl.current);if(n=t.type,e!==null&&t.stateNode!=null)_2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Dt(t),null}if(e=ea(yr.current),ku(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mr]=t,r[al]=a,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Ms.length;i++)De(Ms[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Lx(r,a),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},De("invalid",r);break;case"textarea":Ix(r,a),De("invalid",r)}Mm(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Su(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Su(r.textContent,c,e),i=["children",""+c]):qs.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":yu(r),Dx(r,a,!0);break;case"textarea":yu(r),Rx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[mr]=t,e[al]=r,x2(e,t,!1,!1),t.stateNode=e;e:{switch(s=Lm(n,r),n){case"dialog":De("cancel",e),De("close",e),i=r;break;case"iframe":case"object":case"embed":De("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ms.length;i++)De(Ms[i],e);i=r;break;case"source":De("error",e),i=r;break;case"img":case"image":case"link":De("error",e),De("load",e),i=r;break;case"details":De("toggle",e),i=r;break;case"input":Lx(e,r),i=Cm(e,r),De("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),De("invalid",e);break;case"textarea":Ix(e,r),i=Tm(e,r),De("invalid",e);break;default:i=r}Mm(n,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?Q1(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Y1(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ys(e,d):typeof d=="number"&&Ys(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qs.hasOwnProperty(a)?d!=null&&a==="onScroll"&&De("scroll",e):d!=null&&vg(e,a,d,s))}switch(n){case"input":yu(e),Dx(e,r,!1);break;case"textarea":yu(e),Rx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ki(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?co(e,!!r.multiple,a,!1):r.defaultValue!=null&&co(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)b2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=ea(sl.current),ea(yr.current),ku(t)){if(r=t.stateNode,n=t.memoizedProps,r[mr]=t,(a=r.nodeValue!==n)&&(e=mn,e!==null))switch(e.tag){case 3:Su(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=t,t.stateNode=r}return Dt(t),null;case 13:if(Re(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&hn!==null&&t.mode&1&&!(t.flags&128))$j(),jo(),t.flags|=98560,a=!1;else if(a=ku(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[mr]=t}else jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),a=!1}else Jn!==null&&(mp(Jn),Jn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ct===0&&(ct=3):Jg())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return No(),op(e,t),e===null&&rl(t.stateNode.containerInfo),Dt(t),null;case 10:return Ig(t.type._context),Dt(t),null;case 17:return nn(t.type)&&wc(),Dt(t),null;case 19:if(Re(We),a=t.memoizedState,a===null)return Dt(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)_s(a,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Oc(e),s!==null){for(t.flags|=128,_s(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(We,We.current&1|2),t.child}e=e.sibling}a.tail!==null&&et()>ko&&(t.flags|=128,r=!0,_s(a,!1),t.lanes=4194304)}else{if(!r)if(e=Oc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_s(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!$e)return Dt(t),null}else 2*et()-a.renderingStartTime>ko&&n!==1073741824&&(t.flags|=128,r=!0,_s(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=et(),t.sibling=null,n=We.current,Le(We,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return Qg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function $A(e,t){switch(Ag(t),t.tag){case 1:return nn(t.type)&&wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return No(),Re(tn),Re(Bt),Fg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bg(t),null;case 13:if(Re(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(We),null;case 4:return No(),null;case 10:return Ig(t.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var Eu=!1,Rt=!1,BA=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ro(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function sp(e,t,n){try{n()}catch(r){qe(e,t,r)}}var S_=!1;function FA(e,t){if(Hm=yc,e=Sj(),Eg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,c=-1,d=-1,f=0,h=0,p=e,g=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(c=s+i),p!==a||r!==0&&p.nodeType!==3||(d=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break t;if(g===n&&++f===i&&(c=s),g===a&&++h===r&&(d=s),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:e,selectionRange:n},yc=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,S=w.memoizedState,j=t.stateNode,_=j.getSnapshotBeforeUpdate(t.elementType===t.type?b:Xn(t.type,b),S);j.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(E){qe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return w=S_,S_=!1,w}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&sp(t,n,a)}i=i.next}while(i!==r)}}function Rd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w2(e){var t=e.alternate;t!==null&&(e.alternate=null,w2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[al],delete t[Gm],delete t[jA],delete t[PA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j2(e){return e.tag===5||e.tag===3||e.tag===4}function k_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bc));else if(r!==4&&(e=e.child,e!==null))for(up(e,t,n),e=e.sibling;e!==null;)up(e,t,n),e=e.sibling}function cp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cp(e,t,n),e=e.sibling;e!==null;)cp(e,t,n),e=e.sibling}var kt=null,Qn=!1;function ri(e,t,n){for(n=n.child;n!==null;)P2(e,t,n),n=n.sibling}function P2(e,t,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Od,n)}catch{}switch(n.tag){case 5:Rt||ro(n,t);case 6:var r=kt,i=Qn;kt=null,ri(e,t,n),kt=r,Qn=i,kt!==null&&(Qn?(e=kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Qn?(e=kt,n=n.stateNode,e.nodeType===8?Rh(e.parentNode,n):e.nodeType===1&&Rh(e,n),el(e)):Rh(kt,n.stateNode));break;case 4:r=kt,i=Qn,kt=n.stateNode.containerInfo,Qn=!0,ri(e,t,n),kt=r,Qn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&sp(n,t,s),i=i.next}while(i!==r)}ri(e,t,n);break;case 1:if(!Rt&&(ro(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){qe(n,t,c)}ri(e,t,n);break;case 21:ri(e,t,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,ri(e,t,n),Rt=r):ri(e,t,n);break;default:ri(e,t,n)}}function C_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BA),t.forEach(function(r){var i=YA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:kt=c.stateNode,Qn=!1;break e;case 3:kt=c.stateNode.containerInfo,Qn=!0;break e;case 4:kt=c.stateNode.containerInfo,Qn=!0;break e}c=c.return}if(kt===null)throw Error(X(160));P2(a,s,i),kt=null,Qn=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){qe(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N2(t,e),t=t.sibling}function N2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(t,e),fr(e),r&4){try{Ws(3,e,e.return),Rd(3,e)}catch(b){qe(e,e.return,b)}try{Ws(5,e,e.return)}catch(b){qe(e,e.return,b)}}break;case 1:Yn(t,e),fr(e),r&512&&n!==null&&ro(n,n.return);break;case 5:if(Yn(t,e),fr(e),r&512&&n!==null&&ro(n,n.return),e.flags&32){var i=e.stateNode;try{Ys(i,"")}catch(b){qe(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&V1(i,a),Lm(c,s);var f=Lm(c,a);for(s=0;s<d.length;s+=2){var h=d[s],p=d[s+1];h==="style"?Q1(i,p):h==="dangerouslySetInnerHTML"?Y1(i,p):h==="children"?Ys(i,p):vg(i,h,p,f)}switch(c){case"input":Om(i,a);break;case"textarea":G1(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?co(i,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?co(i,!!a.multiple,a.defaultValue,!0):co(i,!!a.multiple,a.multiple?[]:"",!1))}i[al]=a}catch(b){qe(e,e.return,b)}}break;case 6:if(Yn(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){qe(e,e.return,b)}}break;case 3:if(Yn(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{el(t.containerInfo)}catch(b){qe(e,e.return,b)}break;case 4:Yn(t,e),fr(e);break;case 13:Yn(t,e),fr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Yg=et())),r&4&&C_(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Rt=(f=Rt)||h,Yn(t,e),Rt=f):Yn(t,e),fr(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!h&&e.mode&1)for(ne=e,h=e.child;h!==null;){for(p=ne=h;ne!==null;){switch(g=ne,y=g.child,g.tag){case 0:case 11:case 14:case 15:Ws(4,g,g.return);break;case 1:ro(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){qe(r,n,b)}}break;case 5:ro(g,g.return);break;case 22:if(g.memoizedState!==null){E_(p);continue}}y!==null?(y.return=g,ne=y):E_(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=X1("display",s))}catch(b){qe(e,e.return,b)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(b){qe(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Yn(t,e),fr(e),r&4&&C_(e);break;case 21:break;default:Yn(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(j2(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ys(i,""),r.flags&=-33);var a=k_(e);cp(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,c=k_(e);up(e,c,s);break;default:throw Error(X(161))}}catch(d){qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UA(e,t,n){ne=e,S2(e)}function S2(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var i=ne,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Eu;if(!s){var c=i.alternate,d=c!==null&&c.memoizedState!==null||Rt;c=Eu;var f=Rt;if(Eu=s,(Rt=d)&&!f)for(ne=i;ne!==null;)s=ne,d=s.child,s.tag===22&&s.memoizedState!==null?T_(i):d!==null?(d.return=s,ne=d):T_(i);for(;a!==null;)ne=a,S2(a),a=a.sibling;ne=i,Eu=c,Rt=f}O_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ne=a):O_(e)}}function O_(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Rd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&h_(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}h_(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&el(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Rt||t.flags&512&&lp(t)}catch(g){qe(t,t.return,g)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function E_(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function T_(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Rd(4,t)}catch(d){qe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){qe(t,i,d)}}var a=t.return;try{lp(t)}catch(d){qe(t,a,d)}break;case 5:var s=t.return;try{lp(t)}catch(d){qe(t,s,d)}}}catch(d){qe(t,t.return,d)}if(t===e){ne=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ne=c;break}ne=t.return}}var WA=Math.ceil,Ac=Gr.ReactCurrentDispatcher,Gg=Gr.ReactCurrentOwner,zn=Gr.ReactCurrentBatchConfig,we=0,bt=null,at=null,Et=0,un=0,io=Ai(0),ct=0,dl=null,pa=0,zd=0,qg=0,Hs=null,Xt=null,Yg=0,ko=1/0,Cr=null,Mc=!1,dp=null,bi=null,Tu=!1,mi=null,Lc=0,Zs=0,fp=null,oc=-1,sc=0;function Zt(){return we&6?et():oc!==-1?oc:oc=et()}function wi(e){return e.mode&1?we&2&&Et!==0?Et&-Et:SA.transition!==null?(sc===0&&(sc=cj()),sc):(e=ke,e!==0||(e=window.event,e=e===void 0?16:vj(e.type)),e):1}function ar(e,t,n,r){if(50<Zs)throw Zs=0,fp=null,Error(X(185));kl(e,n,r),(!(we&2)||e!==bt)&&(e===bt&&(!(we&2)&&(zd|=n),ct===4&&di(e,Et)),rn(e,r),n===1&&we===0&&!(t.mode&1)&&(ko=et()+500,Ld&&Mi()))}function rn(e,t){var n=e.callbackNode;ST(e,t);var r=vc(e,e===bt?Et:0);if(r===0)n!==null&&Bx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bx(n),t===1)e.tag===0?NA(A_.bind(null,e)):Ij(A_.bind(null,e)),bA(function(){!(we&6)&&Mi()}),n=null;else{switch(dj(r)){case 1:n=wg;break;case 4:n=lj;break;case 16:n=gc;break;case 536870912:n=uj;break;default:n=gc}n=L2(n,k2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function k2(e,t){if(oc=-1,sc=0,we&6)throw Error(X(327));var n=e.callbackNode;if(go()&&e.callbackNode!==n)return null;var r=vc(e,e===bt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dc(e,r);else{t=r;var i=we;we|=2;var a=O2();(bt!==e||Et!==t)&&(Cr=null,ko=et()+500,aa(e,t));do try{KA();break}catch(c){C2(e,c)}while(!0);Dg(),Ac.current=a,we=i,at!==null?t=0:(bt=null,Et=0,t=ct)}if(t!==0){if(t===2&&(i=$m(e),i!==0&&(r=i,t=hp(e,i))),t===1)throw n=dl,aa(e,0),di(e,r),rn(e,et()),n;if(t===6)di(e,r);else{if(i=e.current.alternate,!(r&30)&&!HA(i)&&(t=Dc(e,r),t===2&&(a=$m(e),a!==0&&(r=a,t=hp(e,a))),t===1))throw n=dl,aa(e,0),di(e,r),rn(e,et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:Gi(e,Xt,Cr);break;case 3:if(di(e,r),(r&130023424)===r&&(t=Yg+500-et(),10<t)){if(vc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vm(Gi.bind(null,e,Xt,Cr),t);break}Gi(e,Xt,Cr);break;case 4:if(di(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ir(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WA(r/1960))-r,10<r){e.timeoutHandle=Vm(Gi.bind(null,e,Xt,Cr),r);break}Gi(e,Xt,Cr);break;case 5:Gi(e,Xt,Cr);break;default:throw Error(X(329))}}}return rn(e,et()),e.callbackNode===n?k2.bind(null,e):null}function hp(e,t){var n=Hs;return e.current.memoizedState.isDehydrated&&(aa(e,t).flags|=256),e=Dc(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&mp(t)),e}function mp(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function HA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t){for(t&=~qg,t&=~zd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ir(t),r=1<<n;e[n]=-1,t&=~r}}function A_(e){if(we&6)throw Error(X(327));go();var t=vc(e,0);if(!(t&1))return rn(e,et()),null;var n=Dc(e,t);if(e.tag!==0&&n===2){var r=$m(e);r!==0&&(t=r,n=hp(e,r))}if(n===1)throw n=dl,aa(e,0),di(e,t),rn(e,et()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gi(e,Xt,Cr),rn(e,et()),null}function Xg(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(ko=et()+500,Ld&&Mi())}}function ga(e){mi!==null&&mi.tag===0&&!(we&6)&&go();var t=we;we|=1;var n=zn.transition,r=ke;try{if(zn.transition=null,ke=1,e)return e()}finally{ke=r,zn.transition=n,we=t,!(we&6)&&Mi()}}function Qg(){un=io.current,Re(io)}function aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_A(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:No(),Re(tn),Re(Bt),Fg();break;case 5:Bg(r);break;case 4:No();break;case 13:Re(We);break;case 19:Re(We);break;case 10:Ig(r.type._context);break;case 22:case 23:Qg()}n=n.return}if(bt=e,at=e=ji(e.current,null),Et=un=t,ct=0,dl=null,qg=zd=pa=0,Xt=Hs=null,Ji!==null){for(t=0;t<Ji.length;t++)if(n=Ji[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ji=null}return e}function C2(e,t){do{var n=at;try{if(Dg(),rc.current=Tc,Ec){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ec=!1}if(ma=0,xt=lt=Ke=null,Us=!1,ll=0,Gg.current=null,n===null||n.return===null){ct=1,dl=t,at=null;break}e:{var a=e,s=n.return,c=n,d=t;if(t=Et,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,h=c,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=x_(s);if(y!==null){y.flags&=-257,__(y,s,c,a,t),y.mode&1&&y_(a,f,t),t=y,d=f;var w=t.updateQueue;if(w===null){var b=new Set;b.add(d),t.updateQueue=b}else w.add(d);break e}else{if(!(t&1)){y_(a,f,t),Jg();break e}d=Error(X(426))}}else if($e&&c.mode&1){var S=x_(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),__(S,s,c,a,t),Mg(So(d,c));break e}}a=d=So(d,c),ct!==4&&(ct=2),Hs===null?Hs=[a]:Hs.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var j=d2(a,d,t);f_(a,j);break e;case 1:c=d;var _=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(bi===null||!bi.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=f2(a,c,t);f_(a,E);break e}}a=a.return}while(a!==null)}T2(n)}catch(O){t=O,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function O2(){var e=Ac.current;return Ac.current=Tc,e===null?Tc:e}function Jg(){(ct===0||ct===3||ct===2)&&(ct=4),bt===null||!(pa&268435455)&&!(zd&268435455)||di(bt,Et)}function Dc(e,t){var n=we;we|=2;var r=O2();(bt!==e||Et!==t)&&(Cr=null,aa(e,t));do try{ZA();break}catch(i){C2(e,i)}while(!0);if(Dg(),we=n,Ac.current=r,at!==null)throw Error(X(261));return bt=null,Et=0,ct}function ZA(){for(;at!==null;)E2(at)}function KA(){for(;at!==null&&!vT();)E2(at)}function E2(e){var t=M2(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?T2(e):at=t,Gg.current=null}function T2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$A(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,at=null;return}}else if(n=zA(n,t,un),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ct===0&&(ct=5)}function Gi(e,t,n){var r=ke,i=zn.transition;try{zn.transition=null,ke=1,VA(e,t,n,r)}finally{zn.transition=i,ke=r}return null}function VA(e,t,n,r){do go();while(mi!==null);if(we&6)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(kT(e,a),e===bt&&(at=bt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tu||(Tu=!0,L2(gc,function(){return go(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zn.transition,zn.transition=null;var s=ke;ke=1;var c=we;we|=4,Gg.current=null,FA(e,n),N2(n,e),hA(Zm),yc=!!Hm,Zm=Hm=null,e.current=n,UA(n),yT(),we=c,ke=s,zn.transition=a}else e.current=n;if(Tu&&(Tu=!1,mi=e,Lc=i),a=e.pendingLanes,a===0&&(bi=null),bT(n.stateNode),rn(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mc)throw Mc=!1,e=dp,dp=null,e;return Lc&1&&e.tag!==0&&go(),a=e.pendingLanes,a&1?e===fp?Zs++:(Zs=0,fp=e):Zs=0,Mi(),null}function go(){if(mi!==null){var e=dj(Lc),t=zn.transition,n=ke;try{if(zn.transition=null,ke=16>e?16:e,mi===null)var r=!1;else{if(e=mi,mi=null,Lc=0,we&6)throw Error(X(331));var i=we;for(we|=4,ne=e.current;ne!==null;){var a=ne,s=a.child;if(ne.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for(ne=f;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Ws(8,h,a)}var p=h.child;if(p!==null)p.return=h,ne=p;else for(;ne!==null;){h=ne;var g=h.sibling,y=h.return;if(w2(h),h===f){ne=null;break}if(g!==null){g.return=y,ne=g;break}ne=y}}}var w=a.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}ne=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ne=s;else e:for(;ne!==null;){if(a=ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ws(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,ne=j;break e}ne=a.return}}var _=e.current;for(ne=_;ne!==null;){s=ne;var N=s.child;if(s.subtreeFlags&2064&&N!==null)N.return=s,ne=N;else e:for(s=_;ne!==null;){if(c=ne,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Rd(9,c)}}catch(O){qe(c,c.return,O)}if(c===s){ne=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,ne=E;break e}ne=c.return}}if(we=i,Mi(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Od,e)}catch{}r=!0}return r}finally{ke=n,zn.transition=t}}return!1}function M_(e,t,n){t=So(n,t),t=d2(e,t,1),e=_i(e,t,1),t=Zt(),e!==null&&(kl(e,1,t),rn(e,t))}function qe(e,t,n){if(e.tag===3)M_(e,e,n);else for(;t!==null;){if(t.tag===3){M_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){e=So(n,e),e=f2(t,e,1),t=_i(t,e,1),e=Zt(),t!==null&&(kl(t,1,e),rn(t,e));break}}t=t.return}}function GA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(Et&n)===n&&(ct===4||ct===3&&(Et&130023424)===Et&&500>et()-Yg?aa(e,0):qg|=n),rn(e,t)}function A2(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var n=Zt();e=Fr(e,t),e!==null&&(kl(e,t,n),rn(e,n))}function qA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),A2(e,n)}function YA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),A2(e,n)}var M2;M2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jt=!1,RA(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,$e&&t.flags&1048576&&Rj(t,Nc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ac(e,t),e=t.pendingProps;var i=wo(t,Bt.current);po(t,n),i=Wg(null,t,r,e,i,n);var a=Hg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(r)?(a=!0,jc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zg(t),i.updater=Id,t.stateNode=i,i._reactInternals=t,ep(t,r,e,n),t=rp(null,t,r,!0,a,n)):(t.tag=0,$e&&a&&Tg(t),Ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ac(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=QA(r),e=Xn(r,e),i){case 0:t=np(null,t,r,e,n);break e;case 1:t=j_(null,t,r,e,n);break e;case 11:t=b_(null,t,r,e,n);break e;case 14:t=w_(null,t,r,Xn(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),np(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),j_(e,t,r,i,n);case 3:e:{if(g2(t),e===null)throw Error(X(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Wj(e,t),Cc(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=So(Error(X(423)),t),t=P_(e,t,r,n,i);break e}else if(r!==i){i=So(Error(X(424)),t),t=P_(e,t,r,n,i);break e}else for(hn=xi(t.stateNode.containerInfo.firstChild),mn=t,$e=!0,Jn=null,n=Fj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===i){t=Ur(e,t,n);break e}Ut(e,t,r,n)}t=t.child}return t;case 5:return Hj(t),e===null&&Xm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Km(r,i)?s=null:a!==null&&Km(r,a)&&(t.flags|=32),p2(e,t),Ut(e,t,s,n),t.child;case 6:return e===null&&Xm(t),null;case 13:return v2(e,t,n);case 4:return $g(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Po(t,null,r,n):Ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),b_(e,t,r,i,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Le(Sc,r._currentValue),r._currentValue=s,a!==null)if(or(a.value,s)){if(a.children===i.children&&!tn.current){t=Ur(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){s=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=Ir(-1,n&-n),d.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?d.next=d:(d.next=h.next,h.next=d),f.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Qm(a.return,n,t),c.lanes|=n;break}d=d.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(X(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Qm(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,po(t,n),i=$n(i),r=r(i),t.flags|=1,Ut(e,t,r,n),t.child;case 14:return r=t.type,i=Xn(r,t.pendingProps),i=Xn(r.type,i),w_(e,t,r,i,n);case 15:return h2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),ac(e,t),t.tag=1,nn(r)?(e=!0,jc(t)):e=!1,po(t,n),c2(t,r,i),ep(t,r,i,n),rp(null,t,r,!0,e,n);case 19:return y2(e,t,n);case 22:return m2(e,t,n)}throw Error(X(156,t.tag))};function L2(e,t){return sj(e,t)}function XA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,n,r){return new XA(e,t,n,r)}function ev(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QA(e){if(typeof e=="function")return ev(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xg)return 11;if(e===_g)return 14}return 2}function ji(e,t){var n=e.alternate;return n===null?(n=In(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lc(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")ev(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ga:return oa(n.children,i,a,t);case yg:s=8,i|=8;break;case Pm:return e=In(12,n,t,i|2),e.elementType=Pm,e.lanes=a,e;case Nm:return e=In(13,n,t,i),e.elementType=Nm,e.lanes=a,e;case Sm:return e=In(19,n,t,i),e.elementType=Sm,e.lanes=a,e;case H1:return $d(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U1:s=10;break e;case W1:s=9;break e;case xg:s=11;break e;case _g:s=14;break e;case ii:s=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=In(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function oa(e,t,n,r){return e=In(7,e,r,t),e.lanes=n,e}function $d(e,t,n,r){return e=In(22,e,r,t),e.elementType=H1,e.lanes=n,e.stateNode={isHidden:!1},e}function Zh(e,t,n){return e=In(6,e,null,t),e.lanes=n,e}function Kh(e,t,n){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tv(e,t,n,r,i,a,s,c,d){return e=new JA(e,t,n,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=In(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(a),e}function eM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Va,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function D2(e){if(!e)return Ci;e=e._reactInternals;e:{if(Sa(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(nn(n))return Dj(e,n,t)}return t}function I2(e,t,n,r,i,a,s,c,d){return e=tv(n,r,!0,e,i,a,s,c,d),e.context=D2(null),n=e.current,r=Zt(),i=wi(n),a=Ir(r,i),a.callback=t??null,_i(n,a,i),e.current.lanes=i,kl(e,i,r),rn(e,r),e}function Bd(e,t,n,r){var i=t.current,a=Zt(),s=wi(i);return n=D2(n),t.context===null?t.context=n:t.pendingContext=n,t=Ir(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_i(i,t,s),e!==null&&(ar(e,i,s,a),nc(e,i,s)),s}function Ic(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function L_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nv(e,t){L_(e,t),(e=e.alternate)&&L_(e,t)}function tM(){return null}var R2=typeof reportError=="function"?reportError:function(e){console.error(e)};function rv(e){this._internalRoot=e}Fd.prototype.render=rv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Bd(e,t,null,null)};Fd.prototype.unmount=rv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ga(function(){Bd(null,e,null,null)}),t[Br]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=mj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ci.length&&t!==0&&t<ci[n].priority;n++);ci.splice(n,0,e),n===0&&gj(e)}};function iv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function D_(){}function nM(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var f=Ic(s);a.call(f)}}var s=I2(t,r,e,0,null,!1,!1,"",D_);return e._reactRootContainer=s,e[Br]=s.current,rl(e.nodeType===8?e.parentNode:e),ga(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=Ic(d);c.call(f)}}var d=tv(e,0,!1,null,null,!1,!1,"",D_);return e._reactRootContainer=d,e[Br]=d.current,rl(e.nodeType===8?e.parentNode:e),ga(function(){Bd(t,d,n,r)}),d}function Wd(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var c=i;i=function(){var d=Ic(s);c.call(d)}}Bd(t,s,e,i)}else s=nM(n,t,e,i,r);return Ic(s)}fj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=As(t.pendingLanes);n!==0&&(jg(t,n|1),rn(t,et()),!(we&6)&&(ko=et()+500,Mi()))}break;case 13:ga(function(){var r=Fr(e,1);if(r!==null){var i=Zt();ar(r,e,1,i)}}),nv(e,1)}};Pg=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var n=Zt();ar(t,e,134217728,n)}nv(e,134217728)}};hj=function(e){if(e.tag===13){var t=wi(e),n=Fr(e,t);if(n!==null){var r=Zt();ar(n,e,t,r)}nv(e,t)}};mj=function(){return ke};pj=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};Im=function(e,t,n){switch(t){case"input":if(Om(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Md(r);if(!i)throw Error(X(90));K1(r),Om(r,i)}}}break;case"textarea":G1(e,n);break;case"select":t=n.value,t!=null&&co(e,!!n.multiple,t,!1)}};tj=Xg;nj=ga;var rM={usingClientEntryPoint:!1,Events:[Ol,Qa,Md,J1,ej,Xg]},bs={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iM={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aj(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||tM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Od=Au.inject(iM),vr=Au}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rM;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(t))throw Error(X(200));return eM(e,t,null,n)};_n.createRoot=function(e,t){if(!iv(e))throw Error(X(299));var n=!1,r="",i=R2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tv(e,1,!1,null,null,n,!1,r,i),e[Br]=t.current,rl(e.nodeType===8?e.parentNode:e),new rv(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=aj(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return ga(e)};_n.hydrate=function(e,t,n){if(!Ud(t))throw Error(X(200));return Wd(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!iv(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=R2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=I2(t,null,e,1,n??null,i,!1,a,s),e[Br]=t.current,rl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fd(t)};_n.render=function(e,t,n){if(!Ud(t))throw Error(X(200));return Wd(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!Ud(e))throw Error(X(40));return e._reactRootContainer?(ga(function(){Wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Br]=null})}),!0):!1};_n.unstable_batchedUpdates=Xg;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ud(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Wd(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(e){console.error(e)}}z2(),z1.exports=_n;var Hd=z1.exports,$2,I_=Hd;$2=I_.createRoot,I_.hydrateRoot;const Vh=new Date().toISOString().slice(0,10),Gh=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().slice(0,10)};function Fn(){return"id-"+Math.random().toString(36).substr(2,9)}function be(){return new Date().toISOString()}const pp=[{id:"user-1",email:"dr.smith@hospital.com",password:"password321",full_name:"Dr. Sarah Smith",role:"doctor",created_at:"2024-01-15T08:00:00Z"},{id:"user-2",email:"john.doe@email.com",password:"password321",full_name:"John Doe",role:"patient",created_at:"2024-01-16T09:30:00Z"},{id:"user-3",email:"volunteer@hospital.com",password:"password321",full_name:"Maria Garcia",role:"volunteer",created_at:"2024-01-17T10:15:00Z"},{id:"user-4",email:"jane.wilson@email.com",password:"password321",full_name:"Jane Wilson",role:"patient",created_at:"2024-01-18T11:00:00Z"},{id:"user-5",email:"dr.johnson@hospital.com",password:"password321",full_name:"Dr. Michael Johnson",role:"doctor",created_at:"2024-01-19T07:45:00Z"}],aM=[{id:"patient-3",user_id:"user-6",name:"Robert Chen",doe:"2024-01-10",gender:"male",address:"789 Pine Street, Springfield, IL 62703",caregivers_contact:"Linda Chen - (555) 456-7890",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-24",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-009876",lat:13.804,lng:100.326,phone_number:"+66 80 777 8899",patient_categories:{critical:!0,elderly:!0,pregnant:!1},personal_health_history:"History of heart disease, stroke in 2019, diabetes since 2015",doctor_diagnosed:"Congestive Heart Failure, Type 2 Diabetes, Hypertension",medications_history:"Metoprolol 50mg daily, Lisinopril 20mg daily, Insulin glargine",food_allergies:"Dairy products",medication_allergies:"Sulfa drugs",height:"168 cm",weight:"85 kg",bmi:"30.1",temperature:"99.2°F",pulse:"88 bpm",blood_pressure:"145/92 mmHg",diabetes:"Type 2 - HbA1c: 8.1%",mental_health_status:"Mild depression, receiving counseling",other_symptoms:"Shortness of breath, swelling in legs",pregnancy_details:"N/A",smoker:!0,doctors_note:"Critical patient requiring close monitoring. Heart failure symptoms worsening.",created_by:"user-1",created_at:"2024-01-15T11:20:00Z",updated_at:"2024-01-26T14:30:00Z"},{id:"patient-11",user_id:"user-14",name:"Olivia Brown",doe:"2025-08-15",gender:"female",address:"22 Meadow Ln, Springfield, IL 62701",caregivers_contact:"Mark Brown - (555) 777-8899",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2025-09-25",today_date:"2025-09-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-202509-01",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2025-09-20",personal_health_history:"Uncomplicated pregnancy and delivery",doctor_diagnosed:"Postpartum recovery",medications_history:"Prenatal vitamins",food_allergies:"None known",medication_allergies:"None known",height:"165 cm",weight:"68 kg",bmi:"25.0",temperature:"98.6°F",pulse:"76 bpm",blood_pressure:"118/76 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"Mild fatigue",pregnancy_details:"Delivered a healthy baby",smoker:!1,doctors_note:"Routine postpartum follow-up in 6 weeks",created_by:"user-5",created_at:"2025-09-21T10:00:00Z",updated_at:"2025-09-26T09:00:00Z"},{id:"patient-12",user_id:"user-15",name:"Ava Nguyen",doe:"2025-08-28",gender:"female",address:"90 Hillcrest Rd, Springfield, IL 62702",caregivers_contact:"Tom Nguyen - (555) 222-3344",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2025-09-24",today_date:"2025-09-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-202509-02",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2025-08-30",personal_health_history:"Gestational diabetes, controlled",doctor_diagnosed:"Postpartum monitoring",medications_history:"Insulin during pregnancy",food_allergies:"None",medication_allergies:"None",height:"162 cm",weight:"67 kg",bmi:"25.5",temperature:"98.4°F",pulse:"74 bpm",blood_pressure:"120/78 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"None",pregnancy_details:"Delivered a healthy baby",smoker:!1,doctors_note:"Blood sugar normalized postpartum",created_by:"user-5",created_at:"2025-09-01T11:00:00Z",updated_at:"2025-09-26T08:30:00Z"},{id:"patient-9",user_id:"user-12",name:"Sofia Martinez",doe:"2024-01-18",gender:"female",address:"12 River Park, Springfield, IL 62701",caregivers_contact:"Daniel Martinez - (555) 111-2233",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-889900",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2024-01-20",personal_health_history:"Healthy pregnancy, normal delivery",doctor_diagnosed:"Postpartum recovery",medications_history:"Prenatal vitamins, iron supplements",food_allergies:"None known",medication_allergies:"None known",height:"164 cm",weight:"66 kg",bmi:"24.5",temperature:"98.6°F",pulse:"76 bpm",blood_pressure:"120/78 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"Mild fatigue",pregnancy_details:"Delivered a healthy baby boy",smoker:!1,doctors_note:"Recovering well postpartum. Routine follow-up in 6 weeks.",created_by:"user-5",created_at:"2024-01-20T12:30:00Z",updated_at:"2024-01-26T09:30:00Z"},{id:"patient-10",user_id:"user-13",name:"Hannah Lee",doe:"2023-12-28",gender:"female",address:"98 Lake View, Springfield, IL 62702",caregivers_contact:"Eric Lee - (555) 333-4455",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-991122",patient_categories:{critical:!1,elderly:!1,pregnant:!1},pregnancy_status:"postpartum",delivery_date:"2023-12-30",personal_health_history:"Gestational hypertension in late pregnancy",doctor_diagnosed:"Postpartum monitoring",medications_history:"Labetalol during pregnancy",food_allergies:"None known",medication_allergies:"None known",height:"168 cm",weight:"70 kg",bmi:"24.8",temperature:"98.4°F",pulse:"74 bpm",blood_pressure:"124/80 mmHg",diabetes:"None",mental_health_status:"Some anxiety, improving",other_symptoms:"Occasional headaches",pregnancy_details:"Delivered a healthy baby girl",smoker:!1,doctors_note:"BP stable postpartum. Continue monitoring.",created_by:"user-5",created_at:"2024-01-01T11:20:00Z",updated_at:"2024-01-26T10:10:00Z"},{id:"patient-4",user_id:"user-7",name:"Emily Rodriguez",doe:"2024-01-12",gender:"female",address:"321 Oak Drive, Springfield, IL 62704",caregivers_contact:"Carlos Rodriguez - (555) 234-5678",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-112233",lat:13.786,lng:100.317,phone_number:"+66 80 222 3344",patient_categories:{critical:!1,elderly:!1,pregnant:!0},pregnancy_status:"pregnant",due_date:"2024-04-02",personal_health_history:"Second pregnancy, first child born healthy in 2020",doctor_diagnosed:"Pregnancy - 32 weeks, Mild Anemia",medications_history:"Prenatal vitamins, Iron supplements",food_allergies:"None known",medication_allergies:"None known",height:"162 cm",weight:"72 kg",bmi:"27.4",temperature:"98.2°F",pulse:"82 bpm",blood_pressure:"125/78 mmHg",diabetes:"None",mental_health_status:"Good, excited about pregnancy",other_symptoms:"Mild fatigue, occasional heartburn",pregnancy_details:"32 weeks gestation, estimated due date: April 2, 2024. Baby developing normally, mild anemia being treated.",smoker:!1,doctors_note:"Pregnancy progressing well. Monitor iron levels and continue supplements.",created_by:"user-5",created_at:"2024-01-16T09:45:00Z",updated_at:"2024-01-26T10:15:00Z"},{id:"patient-5",user_id:"user-8",name:"Michael Thompson",doe:"2024-01-08",gender:"male",address:"654 Maple Avenue, Springfield, IL 62705",caregivers_contact:"Sarah Thompson - (555) 345-6789",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-445566",patient_categories:{critical:!1,elderly:!1,pregnant:!1},personal_health_history:"Generally healthy, occasional sports injuries",doctor_diagnosed:"Acute Bronchitis, Seasonal Allergies",medications_history:"Albuterol inhaler as needed, Claritin during allergy season",food_allergies:"None known",medication_allergies:"None known",height:"180 cm",weight:"75 kg",bmi:"23.1",temperature:"98.8°F",pulse:"68 bpm",blood_pressure:"118/72 mmHg",diabetes:"None",mental_health_status:"Good",other_symptoms:"Persistent cough, mild congestion",pregnancy_details:"N/A",smoker:!1,doctors_note:"Recovering from bronchitis. Should improve with current treatment.",created_by:"user-1",created_at:"2024-01-12T13:30:00Z",updated_at:"2024-01-26T16:20:00Z"},{id:"patient-6",user_id:"user-9",name:"Margaret Foster",doe:"2024-01-05",gender:"female",address:"987 Cedar Lane, Springfield, IL 62706",caregivers_contact:"David Foster - (555) 567-8901",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-778899",patient_categories:{critical:!1,elderly:!0,pregnant:!1},personal_health_history:"Osteoporosis, mild cognitive decline, history of falls",doctor_diagnosed:"Osteoporosis, Mild Dementia, Hypertension",medications_history:"Alendronate weekly, Amlodipine 5mg daily, Donepezil 10mg daily",food_allergies:"None known",medication_allergies:"Aspirin",height:"155 cm",weight:"58 kg",bmi:"24.1",temperature:"98.4°F",pulse:"76 bpm",blood_pressure:"138/82 mmHg",diabetes:"None",mental_health_status:"Mild anxiety, some confusion",other_symptoms:"Occasional dizziness, memory issues",pregnancy_details:"N/A",smoker:!1,doctors_note:"Stable condition. Family support is excellent. Continue current medications.",created_by:"user-5",created_at:"2024-01-10T08:15:00Z",updated_at:"2024-01-26T11:45:00Z"},{id:"patient-7",user_id:"user-10",name:"James Patterson",doe:"2024-01-14",gender:"male",address:"147 Birch Street, Springfield, IL 62707",caregivers_contact:"Helen Patterson - (555) 678-9012",assigned_doctor:"Dr. Sarah Smith",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-334455",patient_categories:{critical:!0,elderly:!0,pregnant:!1},personal_health_history:"COPD, former heavy smoker, multiple hospitalizations",doctor_diagnosed:"Chronic Obstructive Pulmonary Disease (COPD), Chronic Kidney Disease",medications_history:"Tiotropium inhaler daily, Prednisone 10mg daily, Furosemide 40mg daily",food_allergies:"None known",medication_allergies:"Penicillin, Codeine",height:"175 cm",weight:"62 kg",bmi:"20.2",temperature:"99.4°F",pulse:"92 bpm",blood_pressure:"152/88 mmHg",diabetes:"None",mental_health_status:"Moderate depression due to chronic illness",other_symptoms:"Severe shortness of breath, chronic fatigue, frequent coughing",pregnancy_details:"N/A",smoker:!1,doctors_note:"Critical patient with advanced COPD. Requires frequent monitoring and possible hospitalization.",created_by:"user-1",created_at:"2024-01-18T15:20:00Z",updated_at:"2024-01-26T17:10:00Z"},{id:"patient-8",user_id:"user-11",name:"Lisa Wang",doe:"2024-01-20",gender:"female",address:"258 Elm Court, Springfield, IL 62708",caregivers_contact:"Kevin Wang - (555) 789-0123",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-26",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-556677",patient_categories:{critical:!1,elderly:!1,pregnant:!0},pregnancy_status:"pregnant",due_date:"2024-05-20",personal_health_history:"First pregnancy, generally healthy",doctor_diagnosed:"Pregnancy - 24 weeks, Gestational Hypertension",medications_history:"Prenatal vitamins, Labetalol 200mg twice daily",food_allergies:"Shellfish",medication_allergies:"None known",height:"158 cm",weight:"65 kg",bmi:"26.0",temperature:"98.6°F",pulse:"85 bpm",blood_pressure:"142/85 mmHg",diabetes:"None",mental_health_status:"Some anxiety about pregnancy complications",other_symptoms:"Mild headaches, swelling in hands and feet",pregnancy_details:"24 weeks gestation, estimated due date: May 20, 2024. Developing gestational hypertension, requires close monitoring.",smoker:!1,doctors_note:"Monitor blood pressure closely. May need to consider early delivery if hypertension worsens.",created_by:"user-5",created_at:"2024-01-22T12:30:00Z",updated_at:"2024-01-26T13:45:00Z"}],oM=[{id:"patient-1",user_id:"user-2",name:"John Doe",doe:"2024-01-15",gender:"male",address:"123 Main Street, Springfield, IL 62701",caregivers_contact:"Mary Doe - (555) 123-4567",assigned_doctor:"Dr. Sarah Smith - (111) 123-4567",last_record_date:"2024-01-20",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia - (111) 123-4567",medical_record_number:"MRN-001234",lat:13.7992,lng:100.3195,phone_number:"+66 80 111 2233",patient_categories:{critical:!1,elderly:!1,pregnant:!1},personal_health_history:"Family history of cardiovascular disease. Previous surgery for appendectomy in 2010.",doctor_diagnosed:"Hypertension, Type 2 Diabetes Mellitus",medications_history:"Lisinopril 10mg daily since 2020, Metformin 500mg twice daily since 2021",food_allergies:"Shellfish, Nuts",medication_allergies:"Penicillin",height:"175 cm",weight:"80 kg",bmi:"26.1",temperature:"98.6°F",pulse:"72 bpm",blood_pressure:"130/85 mmHg",diabetes:"Type 2 - HbA1c: 7.2%",mental_health_status:"Stable, no current concerns",other_symptoms:"Occasional headaches, mild fatigue",pregnancy_details:"N/A",smoker:!1,doctors_note:"Patient shows good compliance with medication. Blood pressure slightly elevated, recommend lifestyle modifications and regular monitoring.",created_by:"user-1",created_at:"2024-01-20T14:30:00Z",updated_at:"2024-01-25T16:45:00Z"},{id:"patient-2",user_id:"user-4",name:"Jane Wilson",doe:"2024-01-18",gender:"female",address:"456 Oak Avenue, Springfield, IL 62702",caregivers_contact:"Robert Wilson - (555) 987-6543",assigned_doctor:"Dr. Michael Johnson",last_record_date:"2024-01-25",today_date:"2024-01-26",assigned_vhv_name:"Maria Garcia",medical_record_number:"MRN-005678",lat:13.7901,lng:100.3282,phone_number:"+66 80 444 5566",patient_categories:{critical:!1,elderly:!1,pregnant:!0},pregnancy_status:"pregnant",due_date:"2024-03-15",personal_health_history:"No significant past medical history. First pregnancy.",doctor_diagnosed:"Gestational Diabetes, Pregnancy - 28 weeks",medications_history:"Prenatal vitamins, Insulin as needed for glucose control",food_allergies:"None known",medication_allergies:"None known",height:"165 cm",weight:"68 kg",bmi:"25.0",temperature:"98.4°F",pulse:"78 bpm",blood_pressure:"118/75 mmHg",diabetes:"Gestational - Fasting glucose: 95 mg/dL",mental_health_status:"Mild anxiety related to pregnancy, receiving counseling",other_symptoms:"Morning sickness (resolved), mild back pain",pregnancy_details:"28 weeks gestation, estimated due date: March 15, 2024. Regular prenatal checkups, baby developing normally.",smoker:!1,doctors_note:"Pregnancy progressing well. Gestational diabetes well controlled with diet and occasional insulin. Continue regular monitoring.",created_by:"user-3",created_at:"2024-01-21T10:15:00Z",updated_at:"2024-01-26T09:20:00Z"},{name:"Zach",doe:"2025-09-25",gender:"male",address:"Bangkok",caregivers_contact:"111",assigned_doctor:"Strange",last_record_date:"2025-09-25",today_date:"2025-09-25",assigned_vhv_name:"Ironman",medical_record_number:"12345",patient_categories:{critical:!1,elderly:!0,pregnant:!1},personal_health_history:"Good Healthy",doctor_diagnosed:"Lack of sleep",medications_history:"Sleeping pills",food_allergies:"prawns",medication_allergies:"none",height:"170cm",weight:"70kg",bmi:"22.9",temperature:"98.6",pulse:"72",blood_pressure:"120/80",diabetes:"Type2",mental_health_status:"Sound Mind",other_symptoms:"Dream walking",pregnancy_details:"",smoker:!1,doctors_note:"Good To Go",created_by:"user-1",user_id:"user-1",id:"id-uqy6ynvpa",created_at:"2025-09-24T18:14:30.861Z",updated_at:"2025-09-24T18:16:35.460Z"},...aM],sM=[{id:"task-1",title:"Follow-up Blood Pressure Check",description:"Schedule and conduct follow-up blood pressure monitoring for patient John Doe. Check medication compliance and adjust dosage if necessary.",priority:"high",status:"pending",assigned_to:"user-3",assigned_by:"user-1",patient_id:"patient-1",due_date:"2024-01-28",created_at:"2024-01-25T10:30:00Z",updated_at:"2024-01-25T10:30:00Z"},{id:"task-v1",title:"Home Visit - John Doe",description:"Check blood pressure, confirm medications, record vitals.",priority:"high",status:"pending",assigned_to:"user-3",assigned_by:"user-1",patient_id:"patient-1",due_date:Vh,created_at:be(),updated_at:be()},{id:"task-v2",title:"Follow-up Call - Jane Wilson",description:"Call to review glucose logs and confirm prenatal visit.",priority:"medium",status:"pending",assigned_to:"user-3",assigned_by:"user-5",patient_id:"patient-2",due_date:Vh,created_at:be(),updated_at:be()},{id:"task-v3",title:"Supply Check - Outreach Kits",description:"Verify stock of glucose strips and BP cuffs for field work.",priority:"low",status:"pending",assigned_to:"user-3",assigned_by:"user-1",due_date:Vh,created_at:be(),updated_at:be()},{id:"task-2",title:"Prenatal Care Coordination",description:"Coordinate prenatal care appointments and ensure all necessary tests are scheduled for Jane Wilson. Monitor gestational diabetes management.",priority:"urgent",status:"in_progress",assigned_to:"user-3",assigned_by:"user-5",patient_id:"patient-2",due_date:"2024-01-27",created_at:"2024-01-24T14:15:00Z",updated_at:"2024-01-26T09:45:00Z"},{id:"task-3",title:"Medication Inventory Check",description:"Review and update medication inventory. Ensure adequate stock of diabetes medications and blood pressure medications.",priority:"medium",status:"completed",assigned_to:"user-3",assigned_by:"user-1",due_date:"2024-01-26",created_at:"2024-01-23T08:00:00Z",updated_at:"2024-01-26T16:30:00Z",completed_at:"2024-01-26T16:30:00Z"},{id:"task-4",title:"Patient Education Session",description:"Conduct diabetes management education session for newly diagnosed patients. Prepare educational materials and schedule group session.",priority:"medium",status:"pending",assigned_to:"user-1",assigned_by:"user-5",due_date:"2024-01-30",created_at:"2024-01-25T11:00:00Z",updated_at:"2024-01-25T11:00:00Z"},{id:"appt-jd-1",title:"Clinic Visit - BP Review",description:"Follow-up on blood pressure and medication adherence.",priority:"medium",status:"pending",assigned_to:"user-1",assigned_by:"user-1",patient_id:"patient-1",due_date:Gh(3),created_at:be(),updated_at:be()},{id:"appt-jd-2",title:"Lab Results Discussion",description:"Discuss recent lab results and adjust care plan as needed.",priority:"low",status:"pending",assigned_to:"user-1",assigned_by:"user-1",patient_id:"patient-1",due_date:Gh(10),created_at:be(),updated_at:be()},{id:"appt-jd-overdue",title:"Missed Appointment - Check-in",description:"Reschedule missed appointment and check symptoms.",priority:"high",status:"pending",assigned_to:"user-1",assigned_by:"user-1",patient_id:"patient-1",due_date:Gh(-2),created_at:be(),updated_at:be()}],lM=[{id:"msg-1",sender_id:"user-1",recipient_id:"user-2",subject:"Follow-up Appointment",content:"Hi John, I wanted to follow up on your recent blood pressure readings. Please schedule an appointment for next week.",image_url:void 0,image_name:void 0,is_read:!1,created_at:"2024-01-25T09:30:00Z"},{id:"msg-2",sender_id:"user-2",recipient_id:"user-1",subject:"Re: Follow-up Appointment",content:"Thank you Dr. Smith. I will call the office today to schedule the appointment.",image_url:void 0,image_name:void 0,is_read:!0,created_at:"2024-01-25T14:15:00Z"},{id:"msg-3",sender_id:"user-3",recipient_id:"user-4",subject:"Medication Reminder",content:"Hi Jane, this is a friendly reminder to take your evening insulin. Let me know if you have any questions!",image_url:void 0,image_name:void 0,is_read:!1,created_at:"2024-01-26T19:00:00Z"},{id:"msg-4",sender_id:"user-5",recipient_id:"user-2",subject:"Lab Results Available",content:"Your recent lab results are now available. Overall looking good, but we should discuss a few items at your next visit.",image_url:void 0,image_name:void 0,is_read:!1,created_at:"2024-01-26T11:30:00Z"}],uM=[{id:"ann-1",title:"New Health Guidelines",content:"Please note the updated health and safety guidelines for patient care. All staff should review the new protocols for infection control and patient interaction.",priority:"high",created_by:"user-1",created_at:"2024-01-25T08:00:00Z",updated_at:"2024-01-25T08:00:00Z"},{id:"ann-2",title:"Medication Inventory Update",content:"The medication inventory has been updated. Please check the new stock levels and report any shortages immediately.",priority:"medium",created_by:"user-5",created_at:"2024-01-24T14:30:00Z",updated_at:"2024-01-24T14:30:00Z"},{id:"ann-3",title:"Emergency Contact Information",content:"Updated emergency contact information has been distributed. Please ensure all patients have current emergency contacts on file.",priority:"urgent",created_by:"user-1",created_at:"2024-01-26T10:15:00Z",updated_at:"2024-01-26T10:15:00Z"}],cM=[{id:"record-1",patient_id:"patient-1",recorded_by:"user-2",record_date:"2024-01-26",temperature:"98.6°F",pulse:"75 bpm",blood_pressure:"128/82 mmHg",weight:"79.5 kg",blood_sugar:"110 mg/dL",pain_level:3,fatigue_level:4,mood:"good",appetite:"good",sleep_quality:"fair",symptoms_description:"Mild headache in the morning, feeling better now",medications_taken:"Lisinopril 10mg, Metformin 500mg",activities:"Light walking for 30 minutes",notes:"Feeling overall better than yesterday",created_at:"2024-01-26T08:30:00Z",updated_at:"2024-01-26T08:30:00Z"},{id:"record-2",patient_id:"patient-2",recorded_by:"user-4",record_date:"2024-01-26",temperature:"98.4°F",pulse:"80 bpm",blood_pressure:"115/70 mmHg",weight:"68.2 kg",blood_sugar:"92 mg/dL",pain_level:2,fatigue_level:3,mood:"excellent",appetite:"excellent",sleep_quality:"good",symptoms_description:"Baby is very active today, no morning sickness",medications_taken:"Prenatal vitamins",activities:"Prenatal yoga, light housework",notes:"Feeling great, baby movements are strong",created_at:"2024-01-26T09:15:00Z",updated_at:"2024-01-26T09:15:00Z"},{id:"record-3",patient_id:"patient-1",recorded_by:"user-2",record_date:"2024-01-25",temperature:"99.1°F",pulse:"78 bpm",blood_pressure:"132/85 mmHg",weight:"80 kg",blood_sugar:"125 mg/dL",pain_level:5,fatigue_level:6,mood:"fair",appetite:"poor",sleep_quality:"poor",symptoms_description:"Persistent headache, feeling tired",medications_taken:"Lisinopril 10mg, Metformin 500mg, Tylenol for headache",activities:"Mostly resting",notes:"Not feeling well today, headache is bothering me",created_at:"2024-01-25T19:00:00Z",updated_at:"2024-01-25T19:00:00Z"}],B2=[{id:"loc-v-1",type:"volunteer",name:"Maria Garcia (Volunteer)",lat:13.8005,lng:100.3231,address:"Near Salaya Market",user_id:"user-3"},{id:"loc-v-2",type:"volunteer",name:"Volunteer Team A",lat:13.7892,lng:100.3148,address:"Phutthamonthon Sai 4",phone:"+66 2 123 4567"},{id:"loc-v-3",type:"volunteer",name:"Volunteer Team B",lat:13.784,lng:100.3295,address:"Salaya Station",phone:"+66 2 765 4321"},{id:"loc-c-1",type:"center",name:"Community Health Center - Salaya",lat:13.7963,lng:100.3127,address:"Salaya Rd",phone:"+66 2 555 0101"},{id:"loc-c-2",type:"center",name:"Phutthamonthon Health Center",lat:13.8048,lng:100.3342,address:"Phutthamonthon",phone:"+66 2 555 0202"},{id:"loc-h-1",type:"hospital",name:"Nakhon Pathom Hospital (Annex)",lat:13.7769,lng:100.3186,address:"Near Salaya",phone:"+66 2 555 0303"}],vo="medical_portal_session",F2="dummyUsers",dM=e=>{try{localStorage.setItem(F2,JSON.stringify(e))}catch(t){console.error("Error saving users to localStorage:",t)}},fM=()=>{try{const e=localStorage.getItem(F2);return e?JSON.parse(e):[...pp]}catch(e){return console.error("Error loading users from localStorage:",e),[...pp]}};let Pi=fM();const hM=async(e,t,n,r)=>{if(Pi.find(c=>c.email===e))return{data:null,error:{message:"User already exists with this email"}};const a={id:Fn(),email:e,password:t,full_name:n,role:r,created_at:be()};Pi.push(a),dM(Pi);const s={user:a,token:Fn(),expires_at:new Date(Date.now()+24*60*60*1e3).toISOString()};return localStorage.setItem(vo,JSON.stringify(s)),{data:{user:a,session:s},error:null}},mM=async(e,t)=>{const n=Pi.find(i=>i.email===e&&i.password===t);if(!n)return{data:null,error:{message:"Invalid email or password"}};const r={user:n,token:Fn(),expires_at:new Date(Date.now()+24*60*60*1e3).toISOString()};return localStorage.setItem(vo,JSON.stringify(r)),{data:{user:n,session:r},error:null}},pM=async()=>(localStorage.removeItem(vo),{error:null}),gM=()=>{const e=localStorage.getItem(vo);if(!e)return null;try{const t=JSON.parse(e);return new Date(t.expires_at)<new Date?(localStorage.removeItem(vo),null):t}catch{return localStorage.removeItem(vo),null}},Co=e=>Pi.find(t=>t.id===e),av=async(e,t)=>{const n=Pi.findIndex(r=>r.id===e);if(n===-1)return{error:{message:"User not found"}};Pi[n].password=t||"";try{localStorage.setItem("dummyUsers",JSON.stringify(Pi))}catch{}return{error:null}},U2=x.createContext(void 0),Ye=()=>{const e=x.useContext(U2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},vM=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),[a,s]=x.useState(!0);x.useEffect(()=>{const p=gM();p&&(i(p),n(p.user)),s(!1)},[]);const h={user:t,session:r,loading:a,signUp:async(p,g,y,w)=>{const{data:b,error:S}=await hM(p,g,y,w);return b&&!S&&(i(b.session),n(b.user)),{data:b,error:S}},signIn:async(p,g)=>{const{data:y,error:w}=await mM(p,g);return y&&!w&&(i(y.session),n(y.user)),{data:y,error:w}},signOut:async()=>{const{error:p}=await pM();return p||(i(null),n(null)),{error:p}}};return l.jsx(U2.Provider,{value:h,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:c="",children:d,...f},h)=>x.createElement("svg",{ref:h,...yM,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${xM(e)}`,c].join(" "),...f},[...t.map(([p,g])=>x.createElement(p,g)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ve("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ve("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=ve("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=ve("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ve("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=ve("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ve("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ft=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t)),console.log(`📁 Data saved to LOCALSTORAGE with key: ${e}`,t.length||Object.keys(t).length),console.log("🔍 This data is stored in your BROWSER, not in actual files")}catch(n){console.error("Error saving to localStorage:",n)}},Li=(e,t)=>{try{const n=localStorage.getItem(e),r=n?JSON.parse(n):t;return console.log(`📂 Data loaded from LOCALSTORAGE with key: ${e}`,r.length||Object.keys(r).length),console.log("🔍 This data comes from your BROWSER storage, not actual files"),r}catch(n){return console.error("Error loading from localStorage:",n),t}};let Qt=Li("dummyPatientProfiles",[...oM]),sa=Li("dummyMessages",[...lM]),He=Li("dummyUsers",[...pp]),Mn=Li("dummyTasks",[...sM]),er=Li("dummyAnnouncements",[...uM]),tr=Li("dummyDailyRecords",[...cM]),CM=Li("dummyLocations",[...B2]),dn=Li("dummyVolunteers",[]);const OM=e=>{if(!e)return 0;const t=(e.match(/(\d+)/)||[])[1];return t?parseInt(t,10):0},EM=e=>`MRN-${String(e).padStart(6,"0")}`,G2=async()=>{await new Promise(t=>setTimeout(t,50));const e=Qt.reduce((t,n)=>Math.max(t,OM(n.medical_record_number)),0);return EM(e+1)},TM=e=>{if(!e)return 0;const t=(e.match(/(\d+)/)||[])[1];return t?parseInt(t,10):0},q2=e=>`VHV-${String(e).padStart(6,"0")}`,Y2=async()=>{await new Promise(t=>setTimeout(t,20));const e=dn.reduce((t,n)=>Math.max(t,TM(n.volunteer_code)),0);return q2(e+1)},Zo=async()=>(await new Promise(e=>setTimeout(e,500)),{data:Qt.map(e=>({...e,created_by_user:He.find(t=>t.id===e.created_by)})),error:null}),AM=async e=>{await new Promise(n=>setTimeout(n,200));const t=Qt.find(n=>(n.medical_record_number||"").toLowerCase()===(e||"").toLowerCase());return t?{data:t,error:null}:{data:null,error:{message:"No patient with that ID"}}},Tl=async e=>{await new Promise(n=>setTimeout(n,300));const t=Qt.find(n=>n.user_id===e);return t?{data:{...t,created_by_user:He.find(n=>n.id===t.created_by)},error:null}:{data:null,error:{code:"PGRST116",message:"No profile found"}}},MM=async e=>{await new Promise(r=>setTimeout(r,400));let t=e.medical_record_number;t||(t=await G2());const n={...e,medical_record_number:t,id:Fn(),created_at:be(),updated_at:be()};return Qt.push(n),ft("dummyPatientProfiles",Qt),{data:n,error:null}},LM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=Qt.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Profile not found"}}:(Qt[n]={...Qt[n],...t,updated_at:be()},ft("dummyPatientProfiles",Qt),{data:Qt[n],error:null})},Al=async()=>{if(await new Promise(t=>setTimeout(t,200)),(dn||[]).length===0){const t=(He||[]).filter(n=>n.role==="volunteer").map((n,r)=>{const i=(B2||[]).find(a=>a.user_id===n.id);return{id:Fn(),user_id:n.id,volunteer_code:q2(r+1),name:n.full_name,email:n.email,phone:void 0,address:i==null?void 0:i.address,lat:i==null?void 0:i.lat,lng:i==null?void 0:i.lng,created_at:be(),updated_at:be()}});t.length>0&&(dn=t,ft("dummyVolunteers",dn))}return{data:dn.map(t=>({...t,user:He.find(n=>n.id===t.user_id)})),error:null}},DM=async e=>{await new Promise(n=>setTimeout(n,150));const t=dn.find(n=>(n.volunteer_code||"").toLowerCase()===e.toLowerCase());return{data:t||null,error:t?null:{message:"Not found"}}},IM=async e=>{await new Promise(r=>setTimeout(r,200));const t=e.volunteer_code||await Y2(),n={...e,volunteer_code:t,id:Fn(),created_at:be(),updated_at:be()};return dn.push(n),ft("dummyVolunteers",dn),{data:n,error:null}},RM=async(e,t)=>{await new Promise(r=>setTimeout(r,200));const n=dn.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Volunteer not found"}}:(dn[n]={...dn[n],...t,updated_at:be()},ft("dummyVolunteers",dn),{data:dn[n],error:null})},zM=async e=>(await new Promise(n=>setTimeout(n,400)),{data:sa.filter(n=>n.sender_id===e||n.recipient_id===e).map(n=>({...n,sender:He.find(r=>r.id===n.sender_id),recipient:He.find(r=>r.id===n.recipient_id)})).sort((n,r)=>new Date(r.created_at).getTime()-new Date(n.created_at).getTime()),error:null}),lv=async e=>{await new Promise(n=>setTimeout(n,300));const t={...e,id:Fn(),created_at:be()};return sa.push(t),ft("dummyMessages",sa),console.log("💾 Message saved to BROWSER LOCALSTORAGE:",t),console.log("📊 Total messages in BROWSER storage:",sa.length),console.log("⚠️  NOTE: Data is NOT saved to actual files, only in browser localStorage"),{data:t,error:null}},$M=async(e,t)=>{await new Promise(r=>setTimeout(r,200));const n=sa.findIndex(r=>r.id===e&&r.recipient_id===t);return n!==-1&&(sa[n].is_read=!0,ft("dummyMessages",sa)),{error:null}},Di=async e=>(await new Promise(n=>setTimeout(n,300)),{data:e?He.filter(n=>n.id!==e):He,error:null}),z_=async(e,t)=>{if(await new Promise(i=>setTimeout(i,150)),!e)return{data:null,error:{message:"Email is required"}};const n=He.find(i=>i.email.toLowerCase()===e.toLowerCase());if(n)return{data:n,error:null};const r={id:Fn(),email:e,password:"",full_name:t||e.split("@")[0],role:"patient",created_at:be()};return He.push(r),ft("dummyUsers",He),{data:r,error:null}},BM=async(e,t)=>{if(await new Promise(i=>setTimeout(i,150)),!e)return{data:null,error:{message:"Email is required"}};const n=He.find(i=>i.email.toLowerCase()===e.toLowerCase());if(n)return{data:n,error:null};const r={id:Fn(),email:e,password:"",full_name:t||e.split("@")[0],role:"volunteer",created_at:be()};return He.push(r),ft("dummyUsers",He),{data:r,error:null}},FM=async(e,t)=>{await new Promise(r=>setTimeout(r,150));const n=He.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"User not found"}}:(He[n]={...He[n],...t},ft("dummyUsers",He),{data:He[n],error:null})},UM=async()=>(await new Promise(e=>setTimeout(e,200)),{data:CM,error:null}),ml=async e=>{await new Promise(n=>setTimeout(n,400));let t=Mn.map(n=>({...n,assigned_to_user:He.find(r=>r.id===n.assigned_to),assigned_by_user:He.find(r=>r.id===n.assigned_by),patient:n.patient_id?Qt.find(r=>r.id===n.patient_id):void 0}));return e&&(t=t.filter(n=>n.assigned_to===e||n.assigned_by===e)),{data:t.sort((n,r)=>new Date(r.created_at).getTime()-new Date(n.created_at).getTime()),error:null}},X2=async e=>{await new Promise(n=>setTimeout(n,400));const t={...e,id:Fn(),created_at:be(),updated_at:be()};return Mn.push(t),ft("dummyTasks",Mn),{data:t,error:null}},pl=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=Mn.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Task not found"}}:(t.status==="completed"&&Mn[n].status!=="completed"&&(t.completed_at=be()),Mn[n]={...Mn[n],...t,updated_at:be()},ft("dummyTasks",Mn),{data:Mn[n],error:null})},Q2=async e=>{await new Promise(n=>setTimeout(n,300));const t=Mn.findIndex(n=>n.id===e);return t===-1?{data:null,error:{message:"Task not found"}}:(Mn.splice(t,1),ft("dummyTasks",Mn),{data:null,error:null})},WM=async()=>(await new Promise(t=>setTimeout(t,300)),{data:er.map(t=>({...t,created_by_user:He.find(n=>n.id===t.created_by)})).sort((t,n)=>new Date(n.created_at).getTime()-new Date(t.created_at).getTime()),error:null}),HM=async e=>{await new Promise(n=>setTimeout(n,400));const t={...e,id:Fn(),created_at:be(),updated_at:be()};return er.push(t),ft("dummyAnnouncements",er),{data:t,error:null}},ZM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=er.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Announcement not found"}}:(er[n]={...er[n],...t,updated_at:be()},ft("dummyAnnouncements",er),{data:er[n],error:null})},KM=async e=>{await new Promise(n=>setTimeout(n,300));const t=er.findIndex(n=>n.id===e);return t===-1?{data:null,error:{message:"Announcement not found"}}:(er.splice(t,1),ft("dummyAnnouncements",er),{data:null,error:null})},VM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));let n=tr.map(r=>({...r,patient:Qt.find(i=>i.id===r.patient_id),recorded_by_user:He.find(i=>i.id===r.recorded_by)}));if(t){const r=Qt.find(i=>i.user_id===t);r&&(n=n.filter(i=>i.patient_id===r.id))}return{data:n.sort((r,i)=>new Date(i.record_date).getTime()-new Date(r.record_date).getTime()),error:null}},GM=async e=>{await new Promise(n=>setTimeout(n,400));const t={...e,id:Fn(),created_at:be(),updated_at:be()};return tr.push(t),ft("dummyDailyRecords",tr),{data:t,error:null}},qM=async(e,t)=>{await new Promise(r=>setTimeout(r,400));const n=tr.findIndex(r=>r.id===e);return n===-1?{data:null,error:{message:"Daily record not found"}}:(tr[n]={...tr[n],...t,updated_at:be()},ft("dummyDailyRecords",tr),{data:tr[n],error:null})},YM=async e=>{await new Promise(n=>setTimeout(n,300));const t=tr.findIndex(n=>n.id===e);return t===-1?{data:null,error:{message:"Daily record not found"}}:(tr.splice(t,1),ft("dummyDailyRecords",tr),{data:null,error:null})},XM=()=>{const{signIn:e}=Ye(),[t,n]=x.useState("identify"),[r,i]=x.useState(""),[a,s]=x.useState(""),[c,d]=x.useState(null),[f,h]=x.useState(!1),[p,g]=x.useState(""),[y,w]=x.useState(""),[b,S]=x.useState(!1),[j,_]=x.useState(""),N=async k=>{k.preventDefault(),_(""),S(!0);try{let C="",A=null;const R=r.trim();if(!R)throw new Error("Please enter patient ID or email");if(R.includes("@")){const{data:$}=await Di(),I=($||[]).find(F=>F.role==="patient"&&F.email.toLowerCase()===R.toLowerCase());if(!I)throw new Error("No patient account with this email");A=I.id,C=I.email}else{const{data:$}=await AM(R);if(!$)throw new Error("Patient ID not found");if($.user_id){const I=Co($.user_id);I&&I.role==="patient"&&(A=I.id,C=I.email)}if(!A)throw new Error("This patient has no account yet. Ask your care team to add an email for login.")}d(A),s(C);const z=A?Co(A):void 0,D=!!(z&&z.password&&z.password.length>0);h(D),n(D?"password":"set-password")}catch(C){_(C.message||"Unable to identify patient")}finally{S(!1)}},E=async k=>{if(k.preventDefault(),_(""),p.length<6)return _("Password must be at least 6 characters");if(p!==y)return _("Passwords do not match");if(!c)return _("Missing user account");S(!0);try{const{error:C}=await av(c,p);if(C)throw new Error(C.message);const A=await e(a,p);A!=null&&A.error&&_(A.error.message)}catch(C){_(C.message||"Unable to set password")}finally{S(!1)}},O=async k=>{k.preventDefault(),_(""),S(!0);try{const{error:C}=await e(a,p);C&&_(C.message)}catch{_("Login failed")}finally{S(!1)}};return l.jsxs("div",{className:"w-full",children:[t==="identify"&&l.jsxs("form",{onSubmit:N,className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(V2,{className:"w-8 h-8 inline text-blue-600"}),l.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Patient Access"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your Patient ID (MRN) or Email"})]}),l.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"MRN-001234 or you@example.com"}),j&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:j}),l.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[b?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(hl,{className:"w-5 h-5"}),"Continue"]})]}),t==="password"&&l.jsxs("form",{onSubmit:O,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:a,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:p,onChange:k=>g(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),j&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:j}),l.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[b?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(hl,{className:"w-5 h-5"}),"Sign In"]})]}),t==="set-password"&&l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(zc,{className:"w-8 h-8 inline text-blue-600"}),l.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Create Your Password"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["for ",a]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),l.jsx("input",{type:"password",value:p,onChange:k=>g(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsx("input",{type:"password",value:y,onChange:k=>w(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),j&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:j}),l.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[b?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(zc,{className:"w-5 h-5"}),"Save & Sign In"]})]})]})},QM=()=>{const{signIn:e}=Ye(),[t,n]=x.useState("identify"),[r,i]=x.useState(""),[a,s]=x.useState(""),[c,d]=x.useState(null),[f,h]=x.useState(""),[p,g]=x.useState(""),[y,w]=x.useState(!1),[b,S]=x.useState(""),j=async E=>{E.preventDefault(),S(""),w(!0);try{let O=null,k="";const C=r.trim();if(!C)throw new Error("Enter Volunteer ID or Email");if(C.includes("@")){const{data:z}=await Di(),D=(z||[]).find($=>$.role==="volunteer"&&$.email.toLowerCase()===C.toLowerCase());if(!D)throw new Error("Volunteer email not found");O=D.id,k=D.email}else{const{data:z}=await DM(C);if(!z)throw new Error("Volunteer ID not found");O=z.user_id;const D=O?Co(O):void 0;if(!D)throw new Error("No user linked to this volunteer");k=D.email}d(O),s(k);const A=O?Co(O):void 0,R=!!(A&&A.password&&A.password.length>0);n(R?"password":"set-password")}catch(O){S(O.message||"Unable to identify")}finally{w(!1)}},_=async E=>{if(E.preventDefault(),S(""),f.length<6)return S("Password must be at least 6 characters");if(f!==p)return S("Passwords do not match");if(!c)return S("Missing user account");w(!0);try{const{error:O}=await av(c,f);if(O)throw new Error(O.message);const k=await e(a,f);k!=null&&k.error&&S(k.error.message)}catch(O){S(O.message||"Unable to set password")}finally{w(!1)}},N=async E=>{E.preventDefault(),S(""),w(!0);try{const{error:O}=await e(a,f);O&&S(O.message)}finally{w(!1)}};return l.jsxs("div",{className:"w-full",children:[t==="identify"&&l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(V2,{className:"w-8 h-8 inline text-emerald-600"}),l.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Volunteer Access"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your Volunteer ID or Email"})]}),l.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"VHV-000123 or you@example.com"}),b&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:b}),l.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2",children:[y?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(hl,{className:"w-5 h-5"}),"Continue"]})]}),t==="password"&&l.jsxs("form",{onSubmit:N,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:a,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:f,onChange:E=>h(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),b&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:b}),l.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2",children:[y?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(hl,{className:"w-5 h-5"}),"Sign In"]})]}),t==="set-password"&&l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(zc,{className:"w-8 h-8 inline text-emerald-600"}),l.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Create Your Password"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["for ",a]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),l.jsx("input",{type:"password",value:f,onChange:E=>h(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsx("input",{type:"password",value:p,onChange:E=>g(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),b&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:b}),l.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2",children:[y?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(zc,{className:"w-5 h-5"}),"Save & Sign In"]})]})]})},JM=()=>{const[e,t]=x.useState("patient"),[n,r]=x.useState(!0),[i,a]=x.useState(""),[s,c]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState("patient"),[g,y]=x.useState(!1),[w,b]=x.useState(""),{signIn:S,signUp:j}=Ye(),_=async N=>{N.preventDefault(),b(""),y(!0);try{if(n){const{error:E}=await S(i,s);E&&b(E.message)}else{const{error:E}=await j(i,s,d,h);E&&b(E.message)}}catch{b("An unexpected error occurred")}finally{y(!1)}};return e==="patient"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:l.jsx(xr,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MedConnect Patient Portal"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Access with your MRN or email"})]}),l.jsx(XM,{}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsx("button",{onClick:()=>t("staff"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Staff login"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("button",{onClick:()=>t("volunteer"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Volunteer login"})]})})]})}):e==="volunteer"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"bg-emerald-600 p-3 rounded-full",children:l.jsx(xr,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MedConnect Volunteer Portal"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Access with Volunteer ID or email"})]}),l.jsx(QM,{}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsx("button",{onClick:()=>t("staff"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Staff login"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("button",{onClick:()=>t("patient"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Patient login"})]})})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:l.jsx(xr,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MedConnect Portal"}),l.jsx("p",{className:"text-gray-600 mt-2",children:n?"Sign in to your account":"Create your account"})]}),l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[!n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,value:d,onChange:N=>f(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),l.jsxs("select",{value:h,onChange:N=>p(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"patient",children:"Patient"}),l.jsx("option",{value:"doctor",children:"Doctor"}),l.jsx("option",{value:"volunteer",children:"Volunteer"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,value:i,onChange:N=>a(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your email"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",required:!0,value:s,onChange:N=>c(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your password"})]}),w&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:w}),l.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[n?l.jsx(hl,{className:"w-5 h-5"}):l.jsx(kM,{className:"w-5 h-5"}),l.jsx("span",{children:n?"Sign In":"Sign Up"})]})})]}),l.jsxs("div",{className:"mt-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsx("button",{onClick:()=>t("patient"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Patient login"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("button",{onClick:()=>t("volunteer"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Volunteer login"})]}),l.jsx("button",{onClick:()=>r(!n),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})]})]})})},eL=({onMenuClick:e,onViewChange:t})=>{var d,f;const{user:n,signOut:r}=Ye(),[i,a]=x.useState(void 0);x.useEffect(()=>{let h=!0;return(async()=>{if(n){if(n.photo_url){a(n.photo_url);return}if(n.role==="patient"){const{data:g}=await Tl(n.id);h&&a(g==null?void 0:g.photo_url)}}})(),()=>{h=!1}},[n]);const s=async()=>{await r()},c=h=>{switch(h){case"doctor":return"bg-green-100 text-green-800";case"volunteer":return"bg-purple-100 text-purple-800";case"patient":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return l.jsx("nav",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:e,"aria-label":"Open menu",children:l.jsx(Z2,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-8 md:h-9 object-contain"})})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>t("user-profile"),className:"w-9 h-9 rounded-full overflow-hidden border border-gray-200 bg-gray-50 flex items-center justify-center hover:ring-2 hover:ring-blue-500",title:"My Profile",children:i?l.jsx("img",{src:i,className:"w-full h-full object-cover"}):l.jsx(tt,{className:"w-5 h-5 text-gray-500"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:n==null?void 0:n.full_name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c((n==null?void 0:n.role)||"")}`,children:((d=n==null?void 0:n.role)==null?void 0:d.charAt(0).toUpperCase())+((f=n==null?void 0:n.role)==null?void 0:f.slice(1))})]}),l.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",title:"Sign Out",children:l.jsx(NM,{className:"w-5 h-5"})})]})]})})})},tL=({currentView:e,onViewChange:t,mobileOpen:n,setMobileOpen:r})=>{const{user:i}=Ye(),[a,s]=x.useState(!1);x.useEffect(()=>{const p=localStorage.getItem("sidebar-collapsed");p&&s(p==="1")},[]);const c=()=>{const p=!a;s(p),localStorage.setItem("sidebar-collapsed",p?"1":"0")},d=()=>{const p=[{key:"dashboard",label:"Dashboard",icon:tt},{key:"messages",label:"Messages",icon:yo},{key:"tasks",label:"My Tasks",icon:Ks},{key:"records",label:"Daily Records",icon:Oo},{key:"map",label:"Map",icon:sv}];if((i==null?void 0:i.role)==="doctor"||(i==null?void 0:i.role)==="volunteer")p.splice(1,0,{key:"patients",label:"Patients",icon:pi}),(i==null?void 0:i.role)==="doctor"&&p.splice(2,0,{key:"volunteers",label:"Volunteers",icon:Ks});else if((i==null?void 0:i.role)==="patient"){p.splice(1,0,{key:"profile",label:"My Profile",icon:pi});const g=p.findIndex(y=>y.key==="tasks");g!==-1&&(p[g]={key:"appointments",label:"Appointments",icon:ov})}return(i==null?void 0:i.role)==="doctor"&&p.splice(3,0,{key:"volunteer-tasks",label:"Volunteer Tasks",icon:Ks}),p},f=()=>l.jsx("ul",{className:"mt-4 space-y-1",children:d().map(p=>{const g=p.icon,y=e===p.key;return l.jsx("li",{children:l.jsxs("button",{onClick:()=>{t(p.key),r&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${y?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(g,{className:"w-5 h-5 shrink-0"}),!a&&l.jsx("span",{className:"text-sm font-medium truncate",children:p.label})]})},p.key)})}),h=l.jsxs("div",{className:`h-full flex flex-col ${a?"items-center":""}`,children:[l.jsx("div",{className:`flex items-center ${a?"justify-center":"justify-start"} h-16 px-3 border-b border-gray-200`,children:a?l.jsx("img",{src:"/logo.png",alt:"logo",className:"h-8 object-contain"}):l.jsx("img",{src:"/logo.png",alt:"logo",className:"h-9 object-contain"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:l.jsx(f,{})}),l.jsx("div",{className:"p-2 border-t border-gray-200",children:l.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg px-3 py-2",children:[a?l.jsx(Z2,{className:"w-4 h-4"}):l.jsx(bM,{className:"w-4 h-4"}),!a&&l.jsx("span",{className:"text-sm",children:"Collapse"})]})})]});return l.jsxs(l.Fragment,{children:[l.jsx("aside",{className:`hidden md:flex md:flex-col bg-white border-r border-gray-200 h-screen sticky top-0 z-30 transition-[width] duration-200 ${a?"w-20":"w-64"}`,children:h}),l.jsxs("div",{className:`md:hidden ${n?"fixed inset-0 z-40":"hidden"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>r&&r(!1)}),l.jsxs("aside",{className:"absolute left-0 top-0 h-full w-72 bg-white border-r border-gray-200 shadow-xl",children:[l.jsxs("div",{className:"h-16 flex items-center justify-between px-3 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:l.jsx(xr,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-lg font-bold text-gray-900",children:"HealthBridge"})]}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:()=>r&&r(!1),children:l.jsx(Bc,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"h-[calc(100%-4rem)] overflow-y-auto px-2",children:l.jsx(f,{})})]})]})]})},nL=({announcement:e,onClose:t,onSuccess:n})=>{const{user:r}=Ye(),[i,a]=x.useState(!1),[s,c]=x.useState({title:(e==null?void 0:e.title)||"",content:(e==null?void 0:e.content)||"",priority:(e==null?void 0:e.priority)||"medium"}),d=async h=>{h.preventDefault(),a(!0);try{if(e){const{error:p}=await ZM(e.id,s);if(p){console.error("Error updating announcement:",p);return}}else{const{error:p}=await HM({...s,created_by:(r==null?void 0:r.id)||""});if(p){console.error("Error creating announcement:",p);return}}n(),t()}catch(p){console.error("Error saving announcement:",p)}finally{a(!1)}},f=h=>{const{name:p,value:g}=h.target;c({...s,[p]:g})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"border-b border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:l.jsx(uc,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Edit Announcement":"Create New Announcement"})]}),l.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:l.jsx(Bc,{className:"w-5 h-5"})})]})}),l.jsxs("form",{onSubmit:d,className:"p-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),l.jsx("input",{type:"text",name:"title",required:!0,value:s.title,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter announcement title..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),l.jsxs("select",{name:"priority",required:!0,value:s.priority,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),l.jsx("textarea",{name:"content",required:!0,rows:6,value:s.content,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter announcement content..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Kd,{className:"w-5 h-5"}),l.jsxs("span",{children:[e?"Update":"Create"," Announcement"]})]})})]})]})]})})};function J2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=J2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=J2(e))&&(r&&(r+=" "),r+=t);return r}var Gd={},eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(eP);var uv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(uv);var cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(cv);var qd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,s="",c="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];c?f==="\\"&&a+1<i?(a++,s+=n[a]):f===c?c="":s+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,r.push(s),s=""):s+=f:f==="["?(d=!0,s&&(r.push(s),s="")):f==="."?s&&(r.push(s),s=""):s+=f,a++}return s&&r.push(s),r}e.toPath=t})(qd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP,n=uv,r=cv,i=qd;function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function s(c,d,f){if(d.length===0)return f;let h=c;for(let p=0;p<d.length;p++){if(h==null||t.isUnsafeProperty(d[p]))return f;h=h[d[p]]}return h===void 0?f:h}e.get=a})(Gd);var rL=Gd.get;const ya=jr(rL);var tP={exports:{}},Te={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=Symbol.for("react.transitional.element"),fv=Symbol.for("react.portal"),Yd=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),Jd=Symbol.for("react.consumer"),ef=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),rf=Symbol.for("react.suspense_list"),af=Symbol.for("react.memo"),of=Symbol.for("react.lazy"),iL=Symbol.for("react.view_transition"),aL=Symbol.for("react.client.reference");function Hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dv:switch(e=e.type,e){case Yd:case Qd:case Xd:case nf:case rf:case iL:return e;default:switch(e=e&&e.$$typeof,e){case ef:case tf:case of:case af:return e;case Jd:return e;default:return t}}case fv:return t}}}Te.ContextConsumer=Jd;Te.ContextProvider=ef;Te.Element=dv;Te.ForwardRef=tf;Te.Fragment=Yd;Te.Lazy=of;Te.Memo=af;Te.Portal=fv;Te.Profiler=Qd;Te.StrictMode=Xd;Te.Suspense=nf;Te.SuspenseList=rf;Te.isContextConsumer=function(e){return Hn(e)===Jd};Te.isContextProvider=function(e){return Hn(e)===ef};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dv};Te.isForwardRef=function(e){return Hn(e)===tf};Te.isFragment=function(e){return Hn(e)===Yd};Te.isLazy=function(e){return Hn(e)===of};Te.isMemo=function(e){return Hn(e)===af};Te.isPortal=function(e){return Hn(e)===fv};Te.isProfiler=function(e){return Hn(e)===Qd};Te.isStrictMode=function(e){return Hn(e)===Xd};Te.isSuspense=function(e){return Hn(e)===nf};Te.isSuspenseList=function(e){return Hn(e)===rf};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yd||e===Qd||e===Xd||e===nf||e===rf||typeof e=="object"&&e!==null&&(e.$$typeof===of||e.$$typeof===af||e.$$typeof===ef||e.$$typeof===Jd||e.$$typeof===tf||e.$$typeof===aL||e.getModuleId!==void 0)};Te.typeOf=Hn;tP.exports=Te;var oL=tP.exports,_t=e=>e===0?0:e>0?1:-1,vn=e=>typeof e=="number"&&e!=+e,ta=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ce=e=>(typeof e=="number"||e instanceof Number)&&!vn(e),br=e=>ce(e)||typeof e=="string",sL=0,gl=e=>{var t=++sL;return"".concat(e||"").concat(t)},$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&typeof t!="string")return r;var a;if(ta(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return vn(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},nP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Ot(e,t,n){return ce(e)&&ce(t)?e+n*(t-e):t}function lL(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ya(r,t))===n)}var wt=e=>e===null||typeof e>"u",Ml=e=>wt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),uL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hv(e){if(typeof e!="string")return!1;var t=uL;return t.includes(e)}var cL=["viewBox","children"],$_=["points","pathLength"],Yh={svg:cL,polygon:$_,polyline:$_},dL=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{hv(i)&&(r[i]=a=>n[i](n,a))}),r},fL=(e,t,n)=>r=>(e(t,n,r),null),Ll=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];hv(i)&&typeof a=="function"&&(r||(r={}),r[i]=fL(a,t,n))}),r},hL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function rP(e){if(typeof e!="string")return!1;var t=hL;return t.includes(e)}function Ii(e){var t=Object.entries(e).filter(n=>{var[r]=n;return rP(r)});return Object.fromEntries(t)}var B_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",F_=null,Xh=null,iP=e=>{if(e===F_&&Array.isArray(Xh))return Xh;var t=[];return x.Children.forEach(e,n=>{wt(n)||(oL.isFragment(n)?t=t.concat(iP(n.props.children)):t.push(n))}),Xh=t,F_=e,t};function mv(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>B_(i)):r=[B_(t)],iP(e).forEach(i=>{var a=ya(i,"type.displayName")||ya(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var mL=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(Yh==null?void 0:Yh[r]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),c=typeof e!="function"&&(!!r&&a.includes(t)||rP(t)),d=!!n&&hv(t);return s||c||d},dt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var s;mL((s=r)===null||s===void 0?void 0:s[a],a,t,n)&&(i[a]=r[a])}),i},pL=["children","width","height","viewBox","className","style","title","desc"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(null,arguments)}function gL(e,t){if(e==null)return{};var n,r,i=vL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pv=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:f}=e,h=gL(e,pL),p=a||{width:r,height:i,x:0,y:0},g=Ce("recharts-surface",s);return x.createElement("svg",gp({},dt(h,!0,"svg"),{className:g,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),n)}),yL=["children","className"];function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(null,arguments)}function xL(e,t){if(e==null)return{};var n,r,i=_L(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _L(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var an=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=xL(e,yL),a=Ce("recharts-layer",r);return x.createElement("g",vp({className:a},dt(i,!0),{ref:t}),n)}),aP=x.createContext(null),bL=()=>x.useContext(aP);function Me(e){return function(){return e}}const oP=Math.cos,Fc=Math.sin,sr=Math.sqrt,Uc=Math.PI,sf=2*Uc,yp=Math.PI,xp=2*yp,qi=1e-6,wL=xp-qi;function sP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sP;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class PL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sP:jL(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-t,f=i-n,h=s-t,p=c-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>qi)if(!(Math.abs(p*d-f*h)>qi)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-s,w=i-c,b=d*d+f*f,S=y*y+w*w,j=Math.sqrt(b),_=Math.sqrt(g),N=a*Math.tan((yp-Math.acos((b+g-S)/(2*j*_)))/2),E=N/_,O=N/j;Math.abs(E-1)>qi&&this._append`L${t+E*h},${n+E*p}`,this._append`A${a},${a},0,0,${+(p*y>h*w)},${this._x1=t+O*d},${this._y1=n+O*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,h=n+d,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>qi||Math.abs(this._y1-h)>qi)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%xp+xp),g>wL?this._append`A${r},${r},0,1,${p},${t-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>qi&&this._append`A${r},${r},0,${+(g>=yp)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new PL(t)}function vv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lP(e){this._context=e}lP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lf(e){return new lP(e)}function uP(e){return e[0]}function cP(e){return e[1]}function dP(e,t){var n=Me(!0),r=null,i=lf,a=null,s=gv(c);e=typeof e=="function"?e:e===void 0?uP:Me(e),t=typeof t=="function"?t:t===void 0?cP:Me(t);function c(d){var f,h=(d=vv(d)).length,p,g=!1,y;for(r==null&&(a=i(y=s())),f=0;f<=h;++f)!(f<h&&n(p=d[f],f,d))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,d),+t(p,f,d));if(y)return a=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Me(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Mu(e,t,n){var r=null,i=Me(!0),a=null,s=lf,c=null,d=gv(f);e=typeof e=="function"?e:e===void 0?uP:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?cP:Me(+n);function f(p){var g,y,w,b=(p=vv(p)).length,S,j=!1,_,N=new Array(b),E=new Array(b);for(a==null&&(c=s(_=d())),g=0;g<=b;++g){if(!(g<b&&i(S=p[g],g,p))===j)if(j=!j)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=y;--w)c.point(N[w],E[w]);c.lineEnd(),c.areaEnd()}j&&(N[g]=+e(S,g,p),E[g]=+t(S,g,p),c.point(r?+r(S,g,p):N[g],n?+n(S,g,p):E[g]))}if(_)return c=null,_+""||null}function h(){return dP().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:Me(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Me(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Me(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:Me(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Me(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Me(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Me(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(c=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=c=null:c=s(a=p),f):a},f}class fP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function NL(e){return new fP(e,!0)}function SL(e){return new fP(e,!1)}const yv={draw(e,t){const n=sr(t/Uc);e.moveTo(n,0),e.arc(0,0,n,0,sf)}},kL={draw(e,t){const n=sr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hP=sr(1/3),CL=hP*2,OL={draw(e,t){const n=sr(t/CL),r=n*hP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},EL={draw(e,t){const n=sr(t),r=-n/2;e.rect(r,r,n,n)}},TL=.8908130915292852,mP=Fc(Uc/10)/Fc(7*Uc/10),AL=Fc(sf/10)*mP,ML=-oP(sf/10)*mP,LL={draw(e,t){const n=sr(t*TL),r=AL*n,i=ML*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=sf*a/5,c=oP(s),d=Fc(s);e.lineTo(d*n,-c*n),e.lineTo(c*r-d*i,d*r+c*i)}e.closePath()}},Qh=sr(3),DL={draw(e,t){const n=-sr(t/(Qh*3));e.moveTo(0,n*2),e.lineTo(-Qh*n,-n),e.lineTo(Qh*n,-n),e.closePath()}},Sn=-.5,kn=sr(3)/2,_p=1/sr(12),IL=(_p/2+1)*3,RL={draw(e,t){const n=sr(t/IL),r=n/2,i=n*_p,a=r,s=n*_p+n,c=-a,d=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(c,d),e.lineTo(Sn*r-kn*i,kn*r+Sn*i),e.lineTo(Sn*a-kn*s,kn*a+Sn*s),e.lineTo(Sn*c-kn*d,kn*c+Sn*d),e.lineTo(Sn*r+kn*i,Sn*i-kn*r),e.lineTo(Sn*a+kn*s,Sn*s-kn*a),e.lineTo(Sn*c+kn*d,Sn*d-kn*c),e.closePath()}};function zL(e,t){let n=null,r=gv(i);e=typeof e=="function"?e:Me(e||yv),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Wc(){}function Hc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pP(e){this._context=e}pP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $L(e){return new pP(e)}function gP(e){this._context=e}gP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BL(e){return new gP(e)}function vP(e){this._context=e}vP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FL(e){return new vP(e)}function yP(e){this._context=e}yP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UL(e){return new yP(e)}function U_(e){return e<0?-1:1}function W_(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(U_(a)+U_(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function H_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jh(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function Zc(e){this._context=e}Zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jh(this,this._t0,H_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jh(this,H_(this,n=W_(this,e,t)),n);break;default:Jh(this,this._t0,n=W_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function xP(e){this._context=new _P(e)}(xP.prototype=Object.create(Zc.prototype)).point=function(e,t){Zc.prototype.point.call(this,t,e)};function _P(e){this._context=e}_P.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function WL(e){return new Zc(e)}function HL(e){return new xP(e)}function bP(e){this._context=e}bP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Z_(e),i=Z_(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Z_(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ZL(e){return new bP(e)}function uf(e,t){this._context=e,this._t=t}uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function KL(e){return new uf(e,.5)}function VL(e){return new uf(e,0)}function GL(e){return new uf(e,1)}function Eo(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bp(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qL(e,t){return e[t]}function YL(e){const t=[];return t.key=e,t}function XL(){var e=Me([]),t=bp,n=Eo,r=qL;function i(a){var s=Array.from(e.apply(this,arguments),YL),c,d=s.length,f=-1,h;for(const p of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(p,s[c].key,f,a)]).data=p;for(c=0,h=vv(t(s));c<d;++c)s[h[c]].index=c;return n(s,h),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Me(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?bp:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Eo,i):n},i}function QL(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Eo(e,t)}}function JL(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Eo(e,t)}}function e3(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,f=0;c<s;++c){for(var h=e[t[c]],p=h[r][1]||0,g=h[r-1][1]||0,y=(p-g)/2,w=0;w<c;++w){var b=e[t[w]],S=b[r][1]||0,j=b[r-1][1]||0;y+=S-j}d+=p,f+=y*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Eo(e,t)}}var t3=["type","size","sizeType"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(null,arguments)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(n),!0).forEach(function(r){n3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n3(e,t,n){return(t=r3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r3(e){var t=i3(e,"string");return typeof t=="symbol"?t:t+""}function i3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a3(e,t){if(e==null)return{};var n,r,i=o3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o3(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wP={symbolCircle:yv,symbolCross:kL,symbolDiamond:OL,symbolSquare:EL,symbolStar:LL,symbolTriangle:DL,symbolWye:RL},s3=Math.PI/180,l3=e=>{var t="symbol".concat(Ml(e));return wP[t]||yv},u3=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*s3;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},c3=(e,t)=>{wP["symbol".concat(Ml(e))]=t},xv=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=a3(e,t3),a=V_(V_({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var c=()=>{var g=l3(s),y=zL().type(g).size(u3(n,r,s));return y()},{className:d,cx:f,cy:h}=a,p=dt(a,!0);return f===+f&&h===+h&&n===+n?x.createElement("path",wp({},p,{className:Ce("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};xv.registerSymbol=c3;function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp.apply(null,arguments)}function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(r){_v(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _v(e,t,n){return(t=f3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f3(e){var t=h3(e,"string");return typeof t=="symbol"?t:t+""}function h3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cn=32;class bv extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Cn/2,a=Cn/6,s=Cn/3,c=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Cn,y2:i,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Cn,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var f=d3({},t);return delete f.legendIcon,x.cloneElement(t.legendIcon,f)}return x.createElement(xv,{fill:c,cx:i,cy:i,size:Cn,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=this.props,c={x:0,y:0,width:Cn,height:Cn},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var g=h.formatter||i,y=Ce({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var w=h.inactive?a:h.color,b=g?g(h.value,h,p):h.value;return x.createElement("li",jp({className:y,style:d,key:"legend-item-".concat(p)},Ll(this.props,h,p)),x.createElement(pv,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(b," legend icon")},this.renderIcon(h,s)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}_v(bv,"displayName","Legend");_v(bv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var jP={},PP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(PP);var wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(wv);var NP={},cf={},SP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(SP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(cf);var kP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(kP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cf,n=kP;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(NP);var CP={},OP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gd;function n(r){return function(i){return t.get(i,r)}}e.property=n})(OP);var EP={},em={},tm={},jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(jv);var Pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Pv);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Nv);var q_;function m3(){return q_||(q_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sv(),n=jv,r=Pv,i=Nv;function a(p,g,y){return typeof y!="function"?t.isMatch(p,g):s(p,g,function w(b,S,j,_,N,E){const O=y(b,S,j,_,N,E);return O!==void 0?!!O:s(b,S,w,E)},new Map)}function s(p,g,y,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,y,w);case"function":return Object.keys(g).length>0?s(p,{...g},y,w):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function c(p,g,y,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,w);if(g instanceof Map)return d(p,g,y,w);if(g instanceof Set)return h(p,g,y,w);const b=Object.keys(g);if(p==null)return b.length===0;if(b.length===0)return!0;if(w&&w.has(g))return w.get(g)===p;w&&w.set(g,p);try{for(let S=0;S<b.length;S++){const j=b[S];if(!r.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!y(p[j],g[j],j,p,g,w))return!1}return!0}finally{w&&w.delete(g)}}function d(p,g,y,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,S]of g.entries()){const j=p.get(b);if(y(j,S,b,p,g,w)===!1)return!1}return!0}function f(p,g,y,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let S=0;S<g.length;S++){const j=g[S];let _=!1;for(let N=0;N<p.length;N++){if(b.has(N))continue;const E=p[N];let O=!1;if(y(E,j,S,p,g,w)&&(O=!0),O){b.add(N),_=!0;break}}if(!_)return!1}return!0}function h(p,g,y,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,w):!1}e.isMatchWith=a,e.isSetMatch=h}(tm)),tm}var Y_;function Sv(){return Y_||(Y_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m3();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(em)),em}var TP={},kv={},AP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(AP);var Cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Cv);var Ov={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",w="[object Error]",b="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",_="[object Uint16Array]",N="[object Uint32Array]",E="[object BigUint64Array]",O="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",A="[object BigInt64Array]",R="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=E,e.booleanTag=i,e.dataViewTag=b,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=R,e.float64ArrayTag=z,e.functionTag=p,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=N,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(Ov);var MP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(MP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP,n=Cv,r=Ov,i=Pv,a=MP;function s(h,p){return c(h,void 0,h,new Map,p)}function c(h,p,g,y=new Map,w=void 0){const b=w==null?void 0:w(h,p,g,y);if(b!==void 0)return b;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=c(h[j],j,g,y,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[j,_]of h)S.set(j,c(_,j,g,y,w));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const j of h)S.add(c(j,void 0,g,y,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=c(h[j],j,g,y,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),d(S,h,g,y,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),d(S,h,g,y,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),d(S,h,g,y,w),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,d(S,h,g,y,w),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),d(S,h,g,y,w),S}return h}function d(h,p,g=h,y,w){const b=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<b.length;S++){const j=b[S],_=Object.getOwnPropertyDescriptor(h,j);(_==null||_.writable)&&(h[j]=c(p[j],j,g,y,w))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(kv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kv;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sv(),n=TP;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(EP);var LP={},DP={},IP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kv,n=Ov;function r(i,a){return t.cloneDeepWith(i,(s,c,d,f)=>{const h=a==null?void 0:a(s,c,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(IP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IP;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(DP);var RP={},Ev={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ev);var zP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cv;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(zP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uv,n=Ev,r=zP,i=qd;function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(s==null?void 0:s[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let h=0;h<d.length;h++){const p=d[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(RP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sv(),n=cv,r=DP,i=Gd,a=RP;function s(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,c);return h===void 0?a.has(f,c):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=s})(LP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv,n=OP,r=EP,i=LP;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(CP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP,n=wv,r=NP,i=CP;function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(jP);var p3=jP.uniqBy;const X_=jr(p3);function $P(e,t,n){return t===!0?X_(e,n):typeof t=="function"?X_(e,t):e}var BP={exports:{}},FP={},UP={exports:{}},WP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=x;function g3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v3=typeof Object.is=="function"?Object.is:g3,y3=To.useState,x3=To.useEffect,_3=To.useLayoutEffect,b3=To.useDebugValue;function w3(e,t){var n=t(),r=y3({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return _3(function(){i.value=n,i.getSnapshot=t,nm(i)&&a({inst:i})},[e,n,t]),x3(function(){return nm(i)&&a({inst:i}),e(function(){nm(i)&&a({inst:i})})},[e]),b3(n),n}function nm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!v3(e,n)}catch{return!0}}function j3(e,t){return t()}var P3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j3:w3;WP.useSyncExternalStore=To.useSyncExternalStore!==void 0?To.useSyncExternalStore:P3;UP.exports=WP;var N3=UP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=x,S3=N3;function k3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C3=typeof Object.is=="function"?Object.is:k3,O3=S3.useSyncExternalStore,E3=df.useRef,T3=df.useEffect,A3=df.useMemo,M3=df.useDebugValue;FP.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=E3(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=A3(function(){function d(y){if(!f){if(f=!0,h=y,y=r(y),i!==void 0&&s.hasValue){var w=s.value;if(i(w,y))return p=w}return p=y}if(w=p,C3(h,y))return w;var b=r(y);return i!==void 0&&i(w,b)?(h=y,w):(h=y,p=b)}var f=!1,h,p,g=n===void 0?null:n;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,n,r,i]);var c=O3(e,a[0],a[1]);return T3(function(){s.hasValue=!0,s.value=c},[c]),M3(c),c};BP.exports=FP;var L3=BP.exports,Tv=x.createContext(null),D3=e=>e,Ge=()=>{var e=x.useContext(Tv);return e?e.store.dispatch:D3},cc=()=>{},I3=()=>cc,R3=(e,t)=>e===t;function le(e){var t=x.useContext(Tv);return L3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I3,t?t.store.getState:cc,t?t.store.getState:cc,t?e:cc,R3)}function z3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function B3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Q_=e=>Array.isArray(e)?e:[e];function F3(e){const t=Array.isArray(e[0])?e[0]:e;return B3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function U3(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var W3=class{constructor(e){this.value=e}deref(){return this.value}},H3=typeof WeakRef<"u"?WeakRef:W3,Z3=0,J_=1;function Lu(){return{s:Z3,v:void 0,o:null,p:null}}function HP(e,t={}){let n=Lu();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var p;let c=n;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const S=b.get(w);S===void 0?(c=Lu(),b.set(w,c)):c=S}else{let b=c.p;b===null&&(c.p=b=new Map);const S=b.get(w);S===void 0?(c=Lu(),b.set(w,c)):c=S}}const f=c;let h;if(c.s===J_)h=c.v;else if(h=e.apply(null,arguments),a++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new H3(h):h}return f.s=J_,f.v=h,h}return s.clearCache=()=>{n=Lu(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function K3(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),z3(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:y=HP,argsMemoizeOptions:w=[],devModeChecks:b={}}=h,S=Q_(g),j=Q_(w),_=F3(i),N=p(function(){return a++,f.apply(null,arguments)},...S),E=y(function(){s++;const k=U3(_,arguments);return c=N.apply(null,k),c},...j);return Object.assign(E,{resultFunc:f,memoizedResultFunc:N,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var H=K3(HP),V3=Object.assign((e,t=H)=>{$3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>V3}),ZP={},KP={},VP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(VP);var GP={},Av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Av);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Av,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(GP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP,n=GP,r=qd;function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,w)=>{let b=y;for(let S=0;S<w.length&&b!=null;++S)b=b[w[S]];return b},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:f(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?f(w,y):typeof w=="object"?w[y]:w,p=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let b=0;b<p.length;b++){const S=t.compareValues(y.criteria[b],w.criteria[b],c[b]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(KP);var qP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<a?s(h,d+1):i.push(h)}};return s(n,0),i}e.flatten=t})(qP);var Mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ev,n=cf,r=jv,i=Nv;function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(Mv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP,n=qP,r=Mv;function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(ZP);var G3=ZP.sortBy;const ff=jr(G3);var YP=e=>e.legend.settings,q3=e=>e.legend.size,Y3=e=>e.legend.payload,X3=H([Y3,YP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ff(r,n):r});function Q3(){return le(X3)}var Du=1;function XP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Du||Math.abs(s.left-t.left)>Du||Math.abs(s.top-t.top)>Du||Math.abs(s.width-t.width)>Du)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function St(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var J3=typeof Symbol=="function"&&Symbol.observable||"@@observable",eb=J3,rm=()=>Math.random().toString(36).substring(7).split("").join("."),eD={INIT:`@@redux/INIT${rm()}`,REPLACE:`@@redux/REPLACE${rm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rm()}`},Kc=eD;function Lv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QP(e,t,n){if(typeof e!="function")throw new Error(St(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(St(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(St(1));return n(QP)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,d=!1;function f(){s===a&&(s=new Map,a.forEach((S,j)=>{s.set(j,S)}))}function h(){if(d)throw new Error(St(3));return i}function p(S){if(typeof S!="function")throw new Error(St(4));if(d)throw new Error(St(5));let j=!0;f();const _=c++;return s.set(_,S),function(){if(j){if(d)throw new Error(St(6));j=!1,f(),s.delete(_),a=null}}}function g(S){if(!Lv(S))throw new Error(St(7));if(typeof S.type>"u")throw new Error(St(8));if(typeof S.type!="string")throw new Error(St(17));if(d)throw new Error(St(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=s).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(St(10));r=S,g({type:Kc.REPLACE})}function w(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(St(11));function _(){const E=j;E.next&&E.next(h())}return _(),{unsubscribe:S(_)}},[eb](){return this}}}return g({type:Kc.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:y,[eb]:w}}function tD(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Kc.INIT})>"u")throw new Error(St(12));if(typeof n(void 0,{type:Kc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(St(13))})}function JP(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{tD(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],y=s[p],w=g(y,c);if(typeof w>"u")throw c&&c.type,new Error(St(14));f[p]=w,d=d||w!==y}return d=d||r.length!==Object.keys(s).length,d?f:s}}function Vc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function nD(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(St(15))};const s={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(s));return a=Vc(...c)(i.dispatch),{...i,dispatch:a}}}function eN(e){return Lv(e)&&"type"in e&&typeof e.type=="string"}var tN=Symbol.for("immer-nothing"),tb=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function nr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ao=Object.getPrototypeOf;function xa(e){return!!e&&!!e[yn]}function Hr(e){var t;return e?nN(e)||Array.isArray(e)||!!e[tb]||!!((t=e.constructor)!=null&&t[tb])||Dl(e)||mf(e):!1}var rD=Object.prototype.constructor.toString();function nN(e){if(!e||typeof e!="object")return!1;const t=Ao(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===rD}function Gc(e,t){hf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function hf(e){const t=e[yn];return t?t.type_:Array.isArray(e)?1:Dl(e)?2:mf(e)?3:0}function Pp(e,t){return hf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rN(e,t,n){const r=hf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function iD(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dl(e){return e instanceof Map}function mf(e){return e instanceof Set}function Yi(e){return e.copy_||e.base_}function Np(e,t){if(Dl(e))return new Map(e);if(mf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=nN(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[yn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Ao(e),r)}else{const r=Ao(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Dv(e,t=!1){return pf(e)||xa(e)||!Hr(e)||(hf(e)>1&&Object.defineProperties(e,{set:{value:Iu},add:{value:Iu},clear:{value:Iu},delete:{value:Iu}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Dv(n,!0))),e}function Iu(){nr(2)}function pf(e){return Object.isFrozen(e)}var aD={};function _a(e){const t=aD[e];return t||nr(0,e),t}var vl;function iN(){return vl}function oD(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nb(e,t){t&&(_a("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sp(e){kp(e),e.drafts_.forEach(sD),e.drafts_=null}function kp(e){e===vl&&(vl=e.parent_)}function rb(e){return vl=oD(vl,e)}function sD(e){const t=e[yn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ib(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[yn].modified_&&(Sp(t),nr(4)),Hr(e)&&(e=qc(t,e),t.parent_||Yc(t,e)),t.patches_&&_a("Patches").generateReplacementPatches_(n[yn].base_,e,t.patches_,t.inversePatches_)):e=qc(t,n,[]),Sp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tN?e:void 0}function qc(e,t,n){if(pf(t))return t;const r=t[yn];if(!r)return Gc(t,(i,a)=>ab(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Yc(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),Gc(a,(c,d)=>ab(e,r,i,c,d,n,s)),Yc(e,i,!1),n&&e.patches_&&_a("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ab(e,t,n,r,i,a,s){if(xa(i)){const c=a&&t&&t.type_!==3&&!Pp(t.assigned_,r)?a.concat(r):void 0,d=qc(e,i,c);if(rN(n,r,d),xa(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Hr(i)&&!pf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qc(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Dl(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Yc(e,i)}}function Yc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dv(t,n)}function lD(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Iv;n&&(i=[r],a=yl);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var Iv={get(e,t){if(t===yn)return e;const n=Yi(e);if(!Pp(n,t))return uD(e,n,t);const r=n[t];return e.finalized_||!Hr(r)?r:r===im(e.base_,t)?(am(e),e.copy_[t]=Op(r,e)):r},has(e,t){return t in Yi(e)},ownKeys(e){return Reflect.ownKeys(Yi(e))},set(e,t,n){const r=aN(Yi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=im(Yi(e),t),a=i==null?void 0:i[yn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(iD(n,i)&&(n!==void 0||Pp(e.base_,t)))return!0;am(e),Cp(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return im(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,am(e),Cp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){nr(11)},getPrototypeOf(e){return Ao(e.base_)},setPrototypeOf(){nr(12)}},yl={};Gc(Iv,(e,t)=>{yl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yl.deleteProperty=function(e,t){return yl.set.call(this,e,t,void 0)};yl.set=function(e,t,n){return Iv.set.call(this,e[0],t,n,e[0])};function im(e,t){const n=e[yn];return(n?Yi(n):e)[t]}function uD(e,t,n){var i;const r=aN(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function aN(e,t){if(!(t in e))return;let n=Ao(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ao(n)}}function Cp(e){e.modified_||(e.modified_=!0,e.parent_&&Cp(e.parent_))}function am(e){e.copy_||(e.copy_=Np(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cD=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(d=a,...f){return s.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&nr(6),r!==void 0&&typeof r!="function"&&nr(7);let i;if(Hr(t)){const a=rb(this),s=Op(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?Sp(a):kp(a)}return nb(a,r),ib(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===tN&&(i=void 0),this.autoFreeze_&&Dv(i,!0),r){const a=[],s=[];_a("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else nr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Hr(e)||nr(8),xa(e)&&(e=Rr(e));const t=rb(this),n=Op(e,void 0);return n[yn].isManual_=!0,kp(t),n}finishDraft(e,t){const n=e&&e[yn];(!n||!n.isManual_)&&nr(9);const{scope_:r}=n;return nb(r,t),ib(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=_a("Patches").applyPatches_;return xa(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Op(e,t){const n=Dl(e)?_a("MapSet").proxyMap_(e,t):mf(e)?_a("MapSet").proxySet_(e,t):lD(e,t);return(t?t.scope_:iN()).drafts_.push(n),n}function Rr(e){return xa(e)||nr(10,e),oN(e)}function oN(e){if(!Hr(e)||pf(e))return e;const t=e[yn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Np(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Np(e,!0);return Gc(n,(r,i)=>{rN(n,r,oN(i))}),t&&(t.finalized_=!1),n}var dD=new cD,sN=dD.produce;function lN(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var fD=lN(),hD=lN,mD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vc:Vc.apply(null,arguments)};function Un(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(pn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>eN(r)&&r.type===e,n}var uN=class Ls extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ls.prototype)}static get[Symbol.species](){return Ls}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ls(...t[0].concat(this)):new Ls(...t.concat(this))}};function ob(e){return Hr(e)?sN(e,()=>{}):e}function Ru(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function pD(e){return typeof e=="boolean"}var gD=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new uN;return n&&(pD(n)?s.push(fD):s.push(hD(n.extraArgument))),s},vD="RTK_autoBatch",sb=e=>t=>{setTimeout(t,e)},yD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sb(10):e.type==="callback"?e.queueNotification:sb(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[vD]),a=!i,a&&(s||(s=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},xD=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new uN(e);return r&&i.push(yD(typeof r=="object"?r:void 0)),i};function _D(e){const t=gD(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Lv(n))d=JP(n);else throw new Error(pn(1));let f;typeof r=="function"?f=r(t):f=t();let h=Vc;i&&(h=mD({trace:!1,...typeof i=="object"&&i}));const p=nD(...f),g=xD(p);let y=typeof c=="function"?c(g):g();const w=h(...y);return QP(d,s,w)}function cN(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(pn(28));if(c in t)throw new Error(pn(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function bD(e){return typeof e=="function"}function wD(e,t){let[n,r,i]=cN(t),a;if(bD(e))a=()=>ob(e());else{const c=ob(e);a=()=>c}function s(c=a(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(xa(h)){const y=p(h,d);return y===void 0?h:y}else{if(Hr(h))return sN(h,g=>p(g,d));{const g=p(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return s.getInitialState=a,s}var jD="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PD=(e=21)=>{let t="",n=e;for(;n--;)t+=jD[Math.random()*64|0];return t},ND=Symbol.for("rtk-slice-createasyncthunk");function SD(e,t){return`${e}/${t}`}function kD({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ND];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(pn(11));typeof process<"u";const c=(typeof i.reducers=="function"?i.reducers(OD()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,O){const k=typeof E=="string"?E:E.type;if(!k)throw new Error(pn(12));if(k in f.sliceCaseReducersByType)throw new Error(pn(13));return f.sliceCaseReducersByType[k]=O,h},addMatcher(E,O){return f.sliceMatchers.push({matcher:E,reducer:O}),h},exposeAction(E,O){return f.actionCreators[E]=O,h},exposeCaseReducer(E,O){return f.sliceCaseReducersByName[E]=O,h}};d.forEach(E=>{const O=c[E],k={reducerName:E,type:SD(a,E),createNotation:typeof i.reducers=="function"};TD(O)?MD(k,O,h,t):ED(k,O,h)});function p(){const[E={},O=[],k=void 0]=typeof i.extraReducers=="function"?cN(i.extraReducers):[i.extraReducers],C={...E,...f.sliceCaseReducersByType};return wD(i.initialState,A=>{for(let R in C)A.addCase(R,C[R]);for(let R of f.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of O)A.addMatcher(R.matcher,R.reducer);k&&A.addDefaultCase(k)})}const g=E=>E,y=new Map,w=new WeakMap;let b;function S(E,O){return b||(b=p()),b(E,O)}function j(){return b||(b=p()),b.getInitialState()}function _(E,O=!1){function k(A){let R=A[E];return typeof R>"u"&&O&&(R=Ru(w,k,j)),R}function C(A=g){const R=Ru(y,O,()=>new WeakMap);return Ru(R,A,()=>{const z={};for(const[D,$]of Object.entries(i.selectors??{}))z[D]=CD($,A,()=>Ru(w,A,j),O);return z})}return{reducerPath:E,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const N={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:j,..._(s),injectInto(E,{reducerPath:O,...k}={}){const C=O??s;return E.inject({reducerPath:C,reducer:S},k),{...N,..._(C,!0)}}};return N}}function CD(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var wn=kD();function OD(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function ED({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!AD(r))throw new Error(pn(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Un(e,s):Un(e))}function TD(e){return e._reducerDefinitionType==="asyncThunk"}function AD(e){return e._reducerDefinitionType==="reducerWithPrepare"}function MD({type:e,reducerName:t},n,r,i){if(!i)throw new Error(pn(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||zu,pending:c||zu,rejected:d||zu,settled:f||zu})}function zu(){}var LD="task",dN="listener",fN="completed",Rv="cancelled",DD=`task-${Rv}`,ID=`task-${fN}`,Ep=`${dN}-${Rv}`,RD=`${dN}-${fN}`,gf=class{constructor(e){_h(this,"name","TaskAbortError");_h(this,"message");this.code=e,this.message=`${LD} ${Rv} (reason: ${e})`}},zv=(e,t)=>{if(typeof e!="function")throw new TypeError(pn(32))},Xc=()=>{},hN=(e,t=Xc)=>(e.catch(t),e),mN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),la=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ua=e=>{if(e.aborted){const{reason:t}=e;throw new gf(t)}};function pN(e,t){let n=Xc;return new Promise((r,i)=>{const a=()=>i(new gf(e.reason));if(e.aborted){a();return}n=mN(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Xc})}var zD=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof gf?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qc=e=>t=>hN(pN(e,t).then(n=>(ua(e),n))),gN=e=>{const t=Qc(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:xo}=Object,lb={},vf="listenerMiddleware",$D=(e,t)=>{const n=r=>mN(e,()=>la(r,e.reason));return(r,i)=>{zv(r);const a=new AbortController;n(a);const s=zD(async()=>{ua(e),ua(a.signal);const c=await r({pause:Qc(a.signal),delay:gN(a.signal),signal:a.signal});return ua(a.signal),c},()=>la(a,ID));return i!=null&&i.autoJoin&&t.push(s.catch(Xc)),{result:Qc(e)(s),cancel(){la(a,DD)}}}},BD=(e,t)=>{const n=async(r,i)=>{ua(t);let a=()=>{};const c=[new Promise((d,f)=>{let h=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await pN(t,Promise.race(c));return ua(t),d}finally{a()}};return(r,i)=>hN(n(r,i))},vN=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Un(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(pn(21));return zv(a),{predicate:i,type:t,effect:a}},yN=xo(e=>{const{type:t,predicate:n,effect:r}=vN(e);return{id:PD(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(pn(22))}}},{withTypes:()=>yN}),ub=(e,t)=>{const{type:n,effect:r,predicate:i}=vN(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Tp=e=>{e.pending.forEach(t=>{la(t,Ep)})},FD=e=>()=>{e.forEach(Tp),e.clear()},cb=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},xN=xo(Un(`${vf}/add`),{withTypes:()=>xN}),UD=Un(`${vf}/removeAll`),_N=xo(Un(`${vf}/remove`),{withTypes:()=>_N}),WD=(...e)=>{console.error(`${vf}/error`,...e)},Il=(e={})=>{const t=new Map,{extra:n,onError:r=WD}=e;zv(r);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&Tp(h)}),a=h=>{const p=ub(t,h)??yN(h);return i(p)};xo(a,{withTypes:()=>a});const s=h=>{const p=ub(t,h);return p&&(p.unsubscribe(),h.cancelActive&&Tp(p)),!!p};xo(s,{withTypes:()=>s});const c=async(h,p,g,y)=>{const w=new AbortController,b=BD(a,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(p,xo({},g,{getOriginalState:y,condition:(j,_)=>b(j,_).then(Boolean),take:b,delay:gN(w.signal),pause:Qc(w.signal),extra:n,signal:w.signal,fork:$D(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((j,_,N)=>{j!==w&&(la(j,Ep),N.delete(j))})},cancel:()=>{la(w,Ep),h.pending.delete(w)},throwIfCancelled:()=>{ua(w.signal)}})))}catch(j){j instanceof gf||cb(r,j,{raisedBy:"effect"})}finally{await Promise.all(S),la(w,RD),h.pending.delete(w)}},d=FD(t);return{middleware:h=>p=>g=>{if(!eN(g))return p(g);if(xN.match(g))return a(g.payload);if(UD.match(g)){d();return}if(_N.match(g))return s(g.payload);let y=h.getState();const w=()=>{if(y===lb)throw new Error(pn(23));return y};let b;try{if(b=p(g),t.size>0){const S=h.getState(),j=Array.from(t.values());for(const _ of j){let N=!1;try{N=_.predicate(g,S,y)}catch(E){N=!1,cb(r,E,{raisedBy:"predicate"})}N&&c(_,g,h,w)}}}finally{y=lb}return b},startListening:a,stopListening:s,clearListeners:d}};function pn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HD={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bN=wn({name:"chartLayout",initialState:HD,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ZD,setLayout:KD,setChartSize:VD,setScale:GD}=bN.actions,qD=bN.reducer;function db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?db(Object(n),!0).forEach(function(r){YD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):db(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YD(e,t,n){return(t=XD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XD(e){var t=QD(e,"string");return typeof t=="symbol"?t:t+""}function QD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jc=Math.PI/180,JD=e=>e*180/Math.PI,ot=(e,t,n,r)=>({x:e+Math.cos(-Jc*r)*n,y:t+Math.sin(-Jc*r)*n}),wN=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},e4=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},t4=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=e4({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:JD(d),angleInRadian:d}},n4=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},r4=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},i4=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=t4({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:f}=n4(t),h=a,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?fb(fb({},t),{},{radius:i,angle:r4(h,t)}):null};function jN(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(n),!0).forEach(function(r){a4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a4(e,t,n){return(t=o4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o4(e){var t=s4(e,"string");return typeof t=="symbol"?t:t+""}function s4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ze(e,t,n){return wt(e)||wt(t)?n:br(t)?ya(e,t,n):typeof t=="function"?t(e):n}var l4=(e,t,n,r,i)=>{var a,s=-1,c=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,h=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,g=void 0;if(_t(h-f)!==_t(p-h)){var y=[];if(_t(p-h)===_t(i[1]-i[0])){g=p;var w=h+i[1]-i[0];y[0]=Math.min(w,(w+f)/2),y[1]=Math.max(w,(w+f)/2)}else{g=f;var b=p+i[1]-i[0];y[0]=Math.min(h,(b+h)/2),y[1]=Math.max(h,(b+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:s}=n[d]);break}}else{var j=Math.min(f,p),_=Math.max(f,p);if(e>(j+h)/2&&e<=(_+h)/2){({index:s}=n[d]);break}}}else if(t){for(var N=0;N<c;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<c-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===c-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:s}=t[N]);break}}return s},u4=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&ce(e[a]))return Ln(Ln({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&ce(e[s]))return Ln(Ln({},e),{},{[s]:e[s]+(i||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PN=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},NN=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:y}=e;if(!s)return null;var w=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(b=y==="angleAxis"&&a&&a.length>=2?_t(a[0]-a[1])*2*b:b,p||g){var S=(p||g||[]).map((j,_)=>{var N=r?r.indexOf(j):j;return{coordinate:s(N)+b,value:j,offset:b,index:_}});return S.filter(j=>!vn(j.coordinate))}return d&&f?f.map((j,_)=>({coordinate:s(j)+b,value:j,index:_,offset:b})):s.ticks&&!n&&h!=null?s.ticks(h).map((j,_)=>({coordinate:s(j)+b,value:j,offset:b,index:_})):s.domain().map((j,_)=>({coordinate:s(j)+b,value:r?r[j]:j,index:_,offset:b}))},mb=1e-4,c4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-mb,a=Math.max(r[0],r[1])+mb,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},d4=(e,t)=>{if(!t||t.length!==2||!ce(t[0])||!ce(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ce(e[0])||e[0]<n)&&(i[0]=n),(!ce(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},f4=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=vn(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},h4=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=vn(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},m4={sign:f4,expand:QL,none:Eo,silhouette:JL,wiggle:e3,positive:h4},p4=(e,t,n)=>{var r=m4[n],i=XL().keys(t).value((a,s)=>+Ze(a,s,0)).order(bp).offset(r);return i(e)};function g4(e){return e==null?void 0:String(e)}var pb=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var c=Ze(a,t.dataKey,t.scale.domain()[s]);return wt(c)?null:t.scale(c)-i/2+r},v4=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},y4=e=>{var t=e.flat(2).filter(ce);return[Math.min(...t),Math.max(...t)]},x4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_4=(e,t,n)=>{if(e!=null)return x4(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,f)=>{var h=jN(f,t,n),p=y4(h);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},gb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$v=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ff(t,h=>h.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],f=i[s-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function yb(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Ln(Ln({},t),{},{dataKey:n,payload:r,value:i,name:a})}function yf(e,t){if(e)return String(e);if(typeof t=="string")return t}function b4(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?i4({x:e,y:t},r):null}var w4=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Ln(Ln(Ln({},r),ot(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return Ln(Ln(Ln({},r),ot(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},j4=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,qr=e=>e.layout.width,Yr=e=>e.layout.height,P4=e=>e.layout.scale,SN=e=>e.layout.margin,xf=H(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_f=H(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kN="data-recharts-item-index",CN="data-recharts-item-data-key",Rl=60;function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(r){N4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N4(e,t,n){return(t=S4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S4(e){var t=k4(e,"string");return typeof t=="symbol"?t:t+""}function k4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C4=e=>e.brush.height;function O4(e){var t=_f(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rl;return n+i}return n},0)}function E4(e){var t=_f(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rl;return n+i}return n},0)}function T4(e){var t=xf(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function A4(e){var t=xf(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ht=H([qr,Yr,SN,C4,O4,E4,T4,A4,YP,q3],(e,t,n,r,i,a,s,c,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+c},g=$u($u({},p),h),y=g.bottom;g.bottom+=r,g=u4(g,d,f);var w=e-g.left-g.right,b=t-g.top-g.bottom;return $u($u({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(b,0)})}),M4=H(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Bv=H(qr,Yr,(e,t)=>({x:0,y:0,width:e,height:t})),L4=x.createContext(null),Zn=()=>x.useContext(L4)!=null,bf=e=>e.brush,wf=H([bf,ht,SN],(e,t,n)=>({height:e.height,x:ce(e.x)?e.x:t.left,y:ce(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ce(e.width)?e.width:t.width})),Fv=()=>{var e,t=Zn(),n=le(M4),r=le(wf),i=(e=le(bf))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},D4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ON=()=>{var e;return(e=le(ht))!==null&&e!==void 0?e:D4},Uv=()=>le(qr),Wv=()=>le(Yr),I4=()=>le(e=>e.layout.margin),Ne=e=>e.layout.layoutType,Hv=()=>le(Ne),R4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},EN=wn({name:"legend",initialState:R4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Rr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:_b,setLegendSettings:z4,addLegendPayload:TN,removeLegendPayload:AN}=EN.actions,$4=EN.reducer,B4=["contextPayload"];function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(null,arguments)}function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(n),!0).forEach(function(r){Zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zv(e,t,n){return(t=F4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4(e){var t=U4(e,"string");return typeof t=="symbol"?t:t+""}function U4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W4(e,t){if(e==null)return{};var n,r,i=H4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Z4(e){return e.value}function K4(e){var{contextPayload:t}=e,n=W4(e,B4),r=$P(t,e.payloadUniqBy,Z4),i=Mo(Mo({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(bv,i)}function V4(e,t,n,r,i,a){var{layout:s,align:c,verticalAlign:d}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?f={left:((r||0)-a.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((i||0)-a.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Mo(Mo({},f),h)}function G4(e){var t=Ge();return x.useEffect(()=>{t(z4(e))},[t,e]),null}function q4(e){var t=Ge();return x.useEffect(()=>(t(_b(e)),()=>{t(_b({width:0,height:0}))}),[t,e]),null}function Y4(e){var t=Q3(),n=bL(),r=I4(),{width:i,height:a,wrapperStyle:s,portal:c}=e,[d,f]=XP([t]),h=Uv(),p=Wv();if(h==null||p==null)return null;var g=h-(r.left||0)-(r.right||0),y=ba.getWidthOrHeight(e.layout,a,i,g),w=c?s:Mo(Mo({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||a||"auto"},V4(s,e,r,h,p,d)),s),b=c??n;if(b==null)return null;var S=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:f},x.createElement(G4,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(q4,{width:d.width,height:d.height}),x.createElement(K4,Ap({},e,y,{margin:r,chartWidth:h,chartHeight:p,contextPayload:t})));return Hd.createPortal(S,b)}class ba extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&ce(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(Y4,this.props)}}Zv(ba,"displayName","Legend");Zv(ba,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(null,arguments)}function wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(n),!0).forEach(function(r){X4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X4(e,t,n){return(t=Q4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q4(e){var t=J4(e,"string");return typeof t=="symbol"?t:t+""}function J4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eI(e){return Array.isArray(e)&&br(e[0])&&br(e[1])?e.join(" ~ "):e}var tI=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,y=()=>{if(a&&a.length){var O={padding:0,margin:0},k=(c?ff(a,c):a).map((C,A)=>{if(C.type==="none")return null;var R=C.formatter||s||eI,{value:z,name:D}=C,$=z,I=D;if(R){var F=R(z,D,C,A,a);if(Array.isArray(F))[$,I]=F;else if(F!=null)$=F;else return null}var B=om({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:B},br(I)?x.createElement("span",{className:"recharts-tooltip-item-name"},I):null,br(I)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},$),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},k)}return null},w=om({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=om({margin:0},i),S=!wt(h),j=S?h:"",_=Ce("recharts-default-tooltip",d),N=Ce("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(j=p(h,a));var E=g?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Mp({className:_,style:w},E),x.createElement("p",{className:N,style:b},x.isValidElement(j)?j:"".concat(j)),y())},ws="recharts-tooltip-wrapper",nI={visibility:"hidden"};function rI(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ce(ws,{["".concat(ws,"-right")]:ce(n)&&t&&ce(t.x)&&n>=t.x,["".concat(ws,"-left")]:ce(n)&&t&&ce(t.x)&&n<t.x,["".concat(ws,"-bottom")]:ce(r)&&t&&ce(t.y)&&r>=t.y,["".concat(ws,"-top")]:ce(r)&&t&&ce(t.y)&&r<t.y})}function jb(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&ce(a[r]))return a[r];var h=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?h:p;var g=d[r];if(g==null)return 0;if(s[r]){var y=h,w=g;return y<w?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var b=p+c,S=g+f;return b>S?Math.max(h,g):Math.max(p,g)}function iI(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function aI(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,h,p;return s.height>0&&s.width>0&&n?(h=jb({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),p=jb({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=iI({translateX:h,translateY:p,useTranslate3d:c})):f=nI,{cssProperties:f,cssClasses:rI({translateX:h,translateY:p,coordinate:n})}}function Pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(n),!0).forEach(function(r){Lp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lp(e,t,n){return(t=oI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e){var t=sI(e,"string");return typeof t=="symbol"?t:t+""}function sI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lI extends x.PureComponent{constructor(){super(...arguments),Lp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:w,lastBoundingBox:b,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:_,cssProperties:N}=aI({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:y}),E=j?{}:Bu(Bu({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),O=Bu(Bu({},E),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:O,ref:S},a)}}var uI=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ca={devToolsEnabled:!1,isSsr:uI()},MN=()=>le(e=>e.rootProps.accessibilityLayer);function xn(e){return Number.isFinite(e)}function Lo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(null,arguments)}function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(n),!0).forEach(function(r){cI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cI(e,t,n){return(t=dI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dI(e){var t=fI(e,"string");return typeof t=="symbol"?t:t+""}function fI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kb={curveBasisClosed:BL,curveBasisOpen:FL,curveBasis:$L,curveBumpX:NL,curveBumpY:SL,curveLinearClosed:UL,curveLinear:lf,curveMonotoneX:WL,curveMonotoneY:HL,curveNatural:ZL,curveStep:KL,curveStepAfter:GL,curveStepBefore:VL},Fu=e=>xn(e.x)&&xn(e.y),js=e=>e.x,Ps=e=>e.y,hI=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ml(e));return(n==="curveMonotone"||n==="curveBump")&&t?kb["".concat(n).concat(t==="vertical"?"Y":"X")]:kb[n]||lf},mI=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=hI(t,i),c=a?n.filter(Fu):n,d;if(Array.isArray(r)){var f=a?r.filter(p=>Fu(p)):r,h=c.map((p,g)=>Sb(Sb({},p),{},{base:f[g]}));return i==="vertical"?d=Mu().y(Ps).x1(js).x0(p=>p.base.x):d=Mu().x(js).y1(Ps).y0(p=>p.base.y),d.defined(Fu).curve(s),d(h)}return i==="vertical"&&ce(r)?d=Mu().y(Ps).x1(js).x0(r):ce(r)?d=Mu().x(js).y1(Ps).y0(r):d=dP().x(js).y(Ps),d.defined(Fu).curve(s),d(c)},LN=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?mI(e):r;return x.createElement("path",Dp({},Ii(e),dL(e),{className:Ce("recharts-curve",t),d:a===null?void 0:a,ref:i}))},pI=["x","y","top","left","width","height","className"];function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(null,arguments)}function Cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(n),!0).forEach(function(r){vI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vI(e,t,n){return(t=yI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e){var t=xI(e,"string");return typeof t=="symbol"?t:t+""}function xI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _I(e,t){if(e==null)return{};var n,r,i=bI(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wI=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),jI=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=_I(e,pI),f=gI({x:t,y:n,top:r,left:i,width:a,height:s},d);return!ce(t)||!ce(n)||!ce(a)||!ce(s)||!ce(r)||!ce(i)?null:x.createElement("path",Ip({},dt(f,!0),{className:Ce("recharts-cross",c),d:wI(t,n,a,s,r,i)}))};function PI(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(n),!0).forEach(function(r){SI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SI(e,t,n){return(t=kI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kI(e){var t=CI(e,"string");return typeof t=="symbol"?t:t+""}function CI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gt(e,t){var n=NI({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}function OI(){}function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(n),!0).forEach(function(r){EI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EI(e,t,n){return(t=TI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=AI(e,"string");return typeof t=="symbol"?t:t+""}function AI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DN=(e,t,n)=>e.map(r=>"".concat(MI(r)," ").concat(t,"ms ").concat(n)).join(","),LI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),xl=(e,t)=>Object.keys(t).reduce((n,r)=>Tb(Tb({},n),{},{[r]:e(r,t[r])}),{});function Ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(n),!0).forEach(function(r){DI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DI(e,t,n){return(t=II(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function II(e){var t=RI(e,"string");return typeof t=="symbol"?t:t+""}function RI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ed=(e,t,n)=>e+(t-e)*n,Rp=e=>{var{from:t,to:n}=e;return t!==n},IN=(e,t,n)=>{var r=xl((i,a)=>{if(Rp(a)){var[s,c]=e(a.from,a.to,a.velocity);return Ct(Ct({},a),{},{from:s,velocity:c})}return a},t);return n<1?xl((i,a)=>Rp(a)?Ct(Ct({},a),{},{velocity:ed(a.velocity,r[i].velocity,n),from:ed(a.from,r[i].from,n)}):a,t):IN(e,r,n-1)};function zI(e,t,n,r,i,a){var s,c=r.reduce((g,y)=>Ct(Ct({},g),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>xl((g,y)=>y.from,c),f=()=>!Object.values(c).filter(Rp).length,h=null,p=g=>{s||(s=g);var y=g-s,w=y/n.dt;c=IN(n,c,w),i(Ct(Ct(Ct({},e),t),d())),s=g,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function $I(e,t,n,r,i,a,s){var c=null,d=i.reduce((p,g)=>Ct(Ct({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/r,y=xl((b,S)=>ed(...S,n(g)),d);if(a(Ct(Ct(Ct({},e),t),y)),g<1)c=s.setTimeout(h);else{var w=xl((b,S)=>ed(...S,n(1)),d);a(Ct(Ct(Ct({},e),t),w))}};return()=>(c=s.setTimeout(h),()=>{c()})}const BI=(e,t,n,r,i,a)=>{var s=LI(e,t);return n.isStepper===!0?zI(e,t,n,s,i,a):$I(e,t,n,r,s,i,a)};var td=1e-4,RN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zN=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Mb=(e,t)=>n=>{var r=RN(e,t);return zN(r,n)},FI=(e,t)=>n=>{var r=RN(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return zN(i,n)},Lb=function(){for(var t,n,r,i,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=s[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else s.length===4&&([t,r,n,i]=s);var f=Mb(t,n),h=Mb(r,i),p=FI(t,n),g=w=>w>1?1:w<0?0:w,y=w=>{for(var b=w>1?1:w,S=b,j=0;j<8;++j){var _=f(S)-b,N=p(S);if(Math.abs(_-b)<td||N<td)return h(S);S=g(S-_/N)}return h(S)};return y.isStepper=!1,y},UI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,d)=>{var f=-(s-c)*n,h=d*r,p=d+(f-h)*i/1e3,g=d*i/1e3+s;return Math.abs(g-c)<td&&Math.abs(p)<td?[c,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},WI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Lb(e);case"spring":return UI();default:if(e.split("(")[0]==="cubic-bezier")return Lb(e)}return typeof e=="function"?e:null};function HI(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class ZI{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function KI(){return HI(new ZI)}var VI=x.createContext(KI);function GI(e,t){var n=x.useContext(VI);return x.useMemo(()=>t??n(e),[e,t,n])}var qI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Db={t:0},sm={t:1};function jf(e){var t=Gt(e,qI),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,h=GI(t.animationId,t.animationManager),[p,g]=x.useState(n?Db:sm),y=x.useRef(null);return x.useEffect(()=>{n||g(sm)},[n]),x.useEffect(()=>{if(!n||!r)return OI;var w=BI(Db,sm,WI(a),i,g,h.getTimeoutController()),b=()=>{y.current=w()};return h.start([d,s,b,i,c]),()=>{h.stop(),y.current&&y.current(),c()}},[n,r,i,a,s,d,c,h]),f(p.t)}function Pf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(gl(t)),r=x.useRef(e);return r.current!==e&&(n.current=gl(t),r.current=e),n.current}function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(n),!0).forEach(function(r){YI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YI(e,t,n){return(t=XI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XI(e){var t=QI(e,"string");return typeof t=="symbol"?t:t+""}function QI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(null,arguments)}var zb=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(t)),f+="L ".concat(e+n-c*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*h[1])),f+="L ".concat(e+n,",").concat(t+r-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(t+r)),f+="L ".concat(e+c*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(e,",").concat(t+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+n-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*y,`
            L `).concat(e+n,",").concat(t+r-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+n-c*y,",").concat(t+r,`
            L `).concat(e+c*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},JI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$N=e=>{var t=Gt(e,JI),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:b}=t,S=x.useRef(c),j=x.useRef(d),_=x.useRef(a),N=x.useRef(s),E=x.useMemo(()=>({x:a,y:s,width:c,height:d,radius:f}),[a,s,c,d,f]),O=Pf(E,"rectangle-");if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var k=Ce("recharts-rectangle",h);if(!b)return x.createElement("path",nd({},dt(t,!0),{className:k,d:zb(a,s,c,d,f)}));var C=S.current,A=j.current,R=_.current,z=N.current,D="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),I=DN(["strokeDasharray"],g,typeof p=="string"?p:void 0);return x.createElement(jf,{animationId:O,key:O,canBegin:r>0,duration:g,easing:p,isActive:b,begin:y},F=>{var B=Ot(C,c,F),K=Ot(A,d,F),J=Ot(R,a,F),W=Ot(z,s,F);n.current&&(S.current=B,j.current=K,_.current=J,N.current=W);var Q;return w?F>0?Q={transition:I,strokeDasharray:$}:Q={strokeDasharray:D}:Q={strokeDasharray:$},x.createElement("path",nd({},dt(t,!0),{className:k,d:zb(J,W,B,K,f),ref:n,style:Rb(Rb({},Q),t.style)}))})};function BN(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=ot(t,n,r,i),c=ot(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(null,arguments)}var e5=(e,t)=>{var n=_t(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Uu=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,h=Math.asin(c/f)/Jc,p=d?i:i+a*h,g=ot(t,n,f,p),y=ot(t,n,r,p),w=d?i-a*h:i,b=ot(t,n,f*Math.cos(h*Jc),w);return{center:g,circleTangency:y,lineTangency:b,theta:h}},FN=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=e5(a,s),d=a+c,f=ot(t,n,i,a),h=ot(t,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=ot(t,n,r,a),y=ot(t,n,r,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},t5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,h=_t(f-d),{circleTangency:p,lineTangency:g,theta:y}=Uu({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:b,theta:S}=Uu({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-y-S;if(j<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):FN({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:E,theta:O}=Uu({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:k,lineTangency:C,theta:A}=Uu({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),R=c?Math.abs(d-f):Math.abs(d-f)-O-A;if(R<0&&a===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(t,",").concat(n,"Z");return _},n5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UN=e=>{var t=Gt(e,n5),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var g=Ce("recharts-sector",p),y=a-i,w=$t(s,y,0,!0),b;return w>0&&Math.abs(f-h)<360?b=t5({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):b=FN({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),x.createElement("path",zp({},dt(t,!0),{className:g,d:b}))};function r5(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:h,angle:p}=t,g=ot(c,d,f,p),y=ot(c,d,h,p);r=g.x,i=g.y,a=y.x,s=y.y}else return BN(t);return[{x:r,y:i},{x:a,y:s}]}var WN={},HN={},ZN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Av;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ZN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZN;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(HN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mv,n=HN;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=s;return d}e.range=r})(WN);var i5=WN.range;const KN=jr(i5);function Si(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kv(e){let t,n,r;e.length!==2?(t=Si,n=(c,d)=>Si(e(c),d),r=(c,d)=>e(c)-d):(t=e===Si||e===a5?e:o5,n=e,r=e);function i(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;n(c[p],d)<0?f=p+1:h=p}while(f<h)}return f}function a(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;n(c[p],d)<=0?f=p+1:h=p}while(f<h)}return f}function s(c,d,f=0,h=c.length){const p=i(c,d,f,h-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:s,right:a}}function o5(){return 0}function VN(e){return e===null?NaN:+e}function*s5(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const l5=Kv(Si),zl=l5.right;Kv(VN).center;class $b extends Map{constructor(t,n=d5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Bb(this,t))}has(t){return super.has(Bb(this,t))}set(t,n){return super.set(u5(this,t),n)}delete(t){return super.delete(c5(this,t))}}function Bb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function u5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function c5({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function d5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function f5(e=Si){if(e===Si)return GN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function GN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const h5=Math.sqrt(50),m5=Math.sqrt(10),p5=Math.sqrt(2);function rd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=h5?10:a>=m5?5:a>=p5?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?rd(e,t,n*2):[c,d,f]}function $p(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?rd(t,e,n):rd(e,t,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function Bp(e,t,n){return t=+t,e=+e,n=+n,rd(e,t,n)[2]}function Fp(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Bp(t,e,n):Bp(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Fb(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ub(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qN(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?GN:f5(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(d-p)/d)*(f-d/2<0?-1:1),y=Math.max(n,Math.floor(t-f*p/d+g)),w=Math.min(r,Math.floor(t+(d-f)*p/d+g));qN(e,t,y,w,i)}const a=e[t];let s=n,c=r;for(Ns(e,n,t),i(e[r],a)>0&&Ns(e,n,r);s<c;){for(Ns(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Ns(e,n,c):(++c,Ns(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Ns(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g5(e,t,n){if(e=Float64Array.from(s5(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Ub(e);if(t>=1)return Fb(e);var r,i=(r-1)*t,a=Math.floor(i),s=Fb(qN(e,a).subarray(0,a+1)),c=Ub(e.subarray(a+1));return s+(c-s)*(i-a)}}function v5(e,t,n=VN){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function y5(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Up=Symbol("implicit");function Vv(){var e=new $b,t=[],n=[],r=Up;function i(a){let s=e.get(a);if(s===void 0){if(r!==Up)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $b;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Vv(t,n).unknown(r)},Kn.apply(i,arguments),i}function Gv(){var e=Vv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,d=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,y=i<r,w=y?i:r,b=y?r:i;a=(b-w)/Math.max(1,g-d+f*2),c&&(a=Math.floor(a)),w+=(b-w-a*(g-d))*h,s=a*(1-d),c&&(w=Math.round(w),s=Math.round(s));var S=y5(g).map(function(j){return w+a*j});return n(y?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),p()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return Gv(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(h)},Kn.apply(p(),arguments)}function YN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YN(t())},e}function x5(){return YN(Gv.apply(null,arguments).paddingInner(1))}function qv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function XN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $l(){}var _l=.7,id=1/_l,_o="\\s*([+-]?\\d+)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_5=/^#([0-9a-f]{3,8})$/,b5=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),w5=new RegExp(`^rgb\\(${_r},${_r},${_r}\\)$`),j5=new RegExp(`^rgba\\(${_o},${_o},${_o},${bl}\\)$`),P5=new RegExp(`^rgba\\(${_r},${_r},${_r},${bl}\\)$`),N5=new RegExp(`^hsl\\(${bl},${_r},${_r}\\)$`),S5=new RegExp(`^hsla\\(${bl},${_r},${_r},${bl}\\)$`),Wb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qv($l,wl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hb,formatHex:Hb,formatHex8:k5,formatHsl:C5,formatRgb:Zb,toString:Zb});function Hb(){return this.rgb().formatHex()}function k5(){return this.rgb().formatHex8()}function C5(){return QN(this).formatHsl()}function Zb(){return this.rgb().formatRgb()}function wl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Kb(t):n===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Wu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Wu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b5.exec(e))?new en(t[1],t[2],t[3],1):(t=w5.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=j5.exec(e))?Wu(t[1],t[2],t[3],t[4]):(t=P5.exec(e))?Wu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=N5.exec(e))?qb(t[1],t[2]/100,t[3]/100,1):(t=S5.exec(e))?qb(t[1],t[2]/100,t[3]/100,t[4]):Wb.hasOwnProperty(e)?Kb(Wb[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function Kb(e){return new en(e>>16&255,e>>8&255,e&255,1)}function Wu(e,t,n,r){return r<=0&&(e=t=n=NaN),new en(e,t,n,r)}function O5(e){return e instanceof $l||(e=wl(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function Wp(e,t,n,r){return arguments.length===1?O5(e):new en(e,t,n,r??1)}function en(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qv(en,Wp,XN($l,{brighter(e){return e=e==null?id:Math.pow(id,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_l:Math.pow(_l,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(ca(this.r),ca(this.g),ca(this.b),ad(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vb,formatHex:Vb,formatHex8:E5,formatRgb:Gb,toString:Gb}));function Vb(){return`#${na(this.r)}${na(this.g)}${na(this.b)}`}function E5(){return`#${na(this.r)}${na(this.g)}${na(this.b)}${na((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gb(){const e=ad(this.opacity);return`${e===1?"rgb(":"rgba("}${ca(this.r)}, ${ca(this.g)}, ${ca(this.b)}${e===1?")":`, ${e})`}`}function ad(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ca(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function na(e){return e=ca(e),(e<16?"0":"")+e.toString(16)}function qb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rr(e,t,n,r)}function QN(e){if(e instanceof rr)return new rr(e.h,e.s,e.l,e.opacity);if(e instanceof $l||(e=wl(e)),!e)return new rr;if(e instanceof rr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new rr(s,c,d,e.opacity)}function T5(e,t,n,r){return arguments.length===1?QN(e):new rr(e,t,n,r??1)}function rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qv(rr,T5,XN($l,{brighter(e){return e=e==null?id:Math.pow(id,e),new rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_l:Math.pow(_l,e),new rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new en(lm(e>=240?e-240:e+120,i,r),lm(e,i,r),lm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rr(Yb(this.h),Hu(this.s),Hu(this.l),ad(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ad(this.opacity);return`${e===1?"hsl(":"hsla("}${Yb(this.h)}, ${Hu(this.s)*100}%, ${Hu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yb(e){return e=(e||0)%360,e<0?e+360:e}function Hu(e){return Math.max(0,Math.min(1,e||0))}function lm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yv=e=>()=>e;function A5(e,t){return function(n){return e+n*t}}function M5(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function L5(e){return(e=+e)==1?JN:function(t,n){return n-t?M5(t,n,e):Yv(isNaN(t)?n:t)}}function JN(e,t){var n=t-e;return n?A5(e,n):Yv(isNaN(e)?t:e)}const Xb=function e(t){var n=L5(t);function r(i,a){var s=n((i=Wp(i)).r,(a=Wp(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=JN(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=c(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r}(1);function D5(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function I5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function R5(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ko(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function z5(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function od(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $5(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ko(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Hp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,um=new RegExp(Hp.source,"g");function B5(e){return function(){return e}}function F5(e){return function(t){return e(t)+""}}function U5(e,t){var n=Hp.lastIndex=um.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=Hp.exec(e))&&(i=um.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:od(r,i)})),n=um.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?F5(d[0].x):B5(t):(t=d.length,function(f){for(var h=0,p;h<t;++h)c[(p=d[h]).i]=p.x(f);return c.join("")})}function Ko(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yv(t):(n==="number"?od:n==="string"?(r=wl(t))?(t=r,Xb):U5:t instanceof wl?Xb:t instanceof Date?z5:I5(t)?D5:Array.isArray(t)?R5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$5:od)(e,t)}function Xv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function W5(e,t){t===void 0&&(t=e,e=Ko);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function H5(e){return function(){return e}}function sd(e){return+e}var Qb=[0,1];function Ht(e){return e}function Zp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:H5(isNaN(t)?NaN:.5)}function Z5(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function K5(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Zp(i,r),a=n(s,a)):(r=Zp(r,i),a=n(a,s)),function(c){return a(r(c))}}function V5(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Zp(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var d=zl(e,c,1,r)-1;return a[d](i[d](c))}}function Bl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nf(){var e=Qb,t=Qb,n=Ko,r,i,a,s=Ht,c,d,f;function h(){var g=Math.min(e.length,t.length);return s!==Ht&&(s=Z5(e[0],e[g-1])),c=g>2?V5:K5,d=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(d||(d=c(e.map(r),t,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=c(t,e.map(r),od)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,sd),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=Xv,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Ht,h()):s!==Ht},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,y){return r=g,i=y,h()}}function Qv(){return Nf()(Ht,Ht)}function G5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ld(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Do(e){return e=ld(Math.abs(e)),e?e[1]:NaN}function q5(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Y5(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var X5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jl(e){if(!(t=X5.exec(e)))throw new Error("invalid format: "+e);var t;return new Jv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jl.prototype=Jv.prototype;function Jv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q5(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var eS;function J5(e,t){var n=ld(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(eS=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ld(e,Math.max(0,t+a-1))[0]}function Jb(e,t){var n=ld(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ew={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jb(e*100,t),r:Jb,s:J5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tw(e){return e}var nw=Array.prototype.map,rw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function e6(e){var t=e.grouping===void 0||e.thousands===void 0?tw:q5(nw.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?tw:Y5(nw.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=jl(p);var g=p.fill,y=p.align,w=p.sign,b=p.symbol,S=p.zero,j=p.width,_=p.comma,N=p.precision,E=p.trim,O=p.type;O==="n"?(_=!0,O="g"):ew[O]||(N===void 0&&(N=12),E=!0,O="g"),(S||g==="0"&&y==="=")&&(S=!0,g="0",y="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",C=b==="$"?r:/[%p]/.test(O)?s:"",A=ew[O],R=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function z(D){var $=k,I=C,F,B,K;if(O==="c")I=A(D)+I,D="";else{D=+D;var J=D<0||1/D<0;if(D=isNaN(D)?d:A(Math.abs(D),N),E&&(D=Q5(D)),J&&+D==0&&w!=="+"&&(J=!1),$=(J?w==="("?w:c:w==="-"||w==="("?"":w)+$,I=(O==="s"?rw[8+eS/3]:"")+I+(J&&w==="("?")":""),R){for(F=-1,B=D.length;++F<B;)if(K=D.charCodeAt(F),48>K||K>57){I=(K===46?i+D.slice(F+1):D.slice(F))+I,D=D.slice(0,F);break}}}_&&!S&&(D=t(D,1/0));var W=$.length+D.length+I.length,Q=W<j?new Array(j-W+1).join(g):"";switch(_&&S&&(D=t(Q+D,Q.length?j-I.length:1/0),Q=""),y){case"<":D=$+D+I+Q;break;case"=":D=$+Q+D+I;break;case"^":D=Q.slice(0,W=Q.length>>1)+$+D+I+Q.slice(W);break;default:D=Q+$+D+I;break}return a(D)}return z.toString=function(){return p+""},z}function h(p,g){var y=f((p=jl(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Do(g)/3)))*3,b=Math.pow(10,-w),S=rw[8+w/3];return function(j){return y(b*j)+S}}return{format:f,formatPrefix:h}}var Zu,ey,tS;t6({thousands:",",grouping:[3],currency:["$",""]});function t6(e){return Zu=e6(e),ey=Zu.format,tS=Zu.formatPrefix,Zu}function n6(e){return Math.max(0,-Do(Math.abs(e)))}function r6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(t)/3)))*3-Do(Math.abs(e)))}function i6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Do(t)-Do(e))+1}function nS(e,t,n,r){var i=Fp(e,t,n),a;switch(r=jl(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=r6(i,s))&&(r.precision=a),tS(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=i6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=n6(i))&&(r.precision=a-(r.type==="%")*2);break}}return ey(r)}function Ri(e){var t=e.domain;return e.ticks=function(n){var r=t();return $p(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return nS(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],d,f,h=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);h-- >0;){if(f=Bp(s,c,n),f===d)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function rS(){var e=Qv();return e.copy=function(){return Bl(e,rS())},Kn.apply(e,arguments),Ri(e)}function iS(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,sd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return iS(e).unknown(t)},e=arguments.length?Array.from(e,sd):[0,1],Ri(n)}function aS(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function iw(e){return Math.log(e)}function aw(e){return Math.exp(e)}function a6(e){return-Math.log(-e)}function o6(e){return-Math.exp(-e)}function s6(e){return isFinite(e)?+("1e"+e):e<0?0:e}function l6(e){return e===10?s6:e===Math.E?Math.exp:t=>Math.pow(e,t)}function u6(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ow(e){return(t,n)=>-e(-t,n)}function ty(e){const t=e(iw,aw),n=t.domain;let r=10,i,a;function s(){return i=u6(r),a=l6(r),n()[0]<0?(i=ow(i),a=ow(a),e(a6,o6)):e(iw,aw),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],h=d[d.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),y=i(h),w,b;const S=c==null?10:+c;let j=[];if(!(r%1)&&y-g<S){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(w=1;w<r;++w)if(b=g<0?w/a(-g):w*a(g),!(b<f)){if(b>h)break;j.push(b)}}else for(;g<=y;++g)for(w=r-1;w>=1;--w)if(b=g>0?w/a(-g):w*a(g),!(b<f)){if(b>h)break;j.push(b)}j.length*2<S&&(j=$p(f,h,S))}else j=$p(g,y,Math.min(y-g,S)).map(a);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=jl(d)).precision==null&&(d.trim=!0),d=ey(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?d(h):""}},t.nice=()=>n(aS(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function oS(){const e=ty(Nf()).domain([1,10]);return e.copy=()=>Bl(e,oS()).base(e.base()),Kn.apply(e,arguments),e}function sw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ny(e){var t=1,n=e(sw(t),lw(t));return n.constant=function(r){return arguments.length?e(sw(t=+r),lw(t)):t},Ri(n)}function sS(){var e=ny(Nf());return e.copy=function(){return Bl(e,sS()).constant(e.constant())},Kn.apply(e,arguments)}function uw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function c6(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d6(e){return e<0?-e*e:e*e}function ry(e){var t=e(Ht,Ht),n=1;function r(){return n===1?e(Ht,Ht):n===.5?e(c6,d6):e(uw(n),uw(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ri(t)}function iy(){var e=ry(Nf());return e.copy=function(){return Bl(e,iy()).exponent(e.exponent())},Kn.apply(e,arguments),e}function f6(){return iy.apply(null,arguments).exponent(.5)}function cw(e){return Math.sign(e)*e*e}function h6(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lS(){var e=Qv(),t=[0,1],n=!1,r;function i(a){var s=h6(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(cw(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,sd)).map(cw)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lS(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Kn.apply(i,arguments),Ri(i)}function uS(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=v5(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[zl(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Si),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return uS().domain(e).range(t).unknown(r)},Kn.apply(a,arguments)}function cS(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[zl(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return cS().domain([e,t]).range(i).unknown(a)},Kn.apply(Ri(s),arguments)}function dS(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[zl(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dS().domain(e).range(t).unknown(n)},Kn.apply(i,arguments)}const cm=new Date,dm=new Date;function mt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return d},i.filter=a=>mt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(cm.setTime(+a),dm.setTime(+s),e(cm),e(dm),Math.floor(n(cm,dm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ud=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ud.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ud);ud.range;const Lr=1e3,Rn=Lr*60,Dr=Rn*60,Zr=Dr*24,ay=Zr*7,dw=Zr*30,fm=Zr*365,ra=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCSeconds());ra.range;const oy=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lr)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getMinutes());oy.range;const sy=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCMinutes());sy.range;const ly=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lr-e.getMinutes()*Rn)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getHours());ly.range;const uy=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCHours());uy.range;const Fl=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/Zr,e=>e.getDate()-1);Fl.range;const Sf=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zr,e=>e.getUTCDate()-1);Sf.range;const fS=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zr,e=>Math.floor(e/Zr));fS.range;function Oa(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/ay)}const kf=Oa(0),cd=Oa(1),m6=Oa(2),p6=Oa(3),Io=Oa(4),g6=Oa(5),v6=Oa(6);kf.range;cd.range;m6.range;p6.range;Io.range;g6.range;v6.range;function Ea(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ay)}const Cf=Ea(0),dd=Ea(1),y6=Ea(2),x6=Ea(3),Ro=Ea(4),_6=Ea(5),b6=Ea(6);Cf.range;dd.range;y6.range;x6.range;Ro.range;_6.range;b6.range;const cy=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cy.range;const dy=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dy.range;const Kr=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Kr.range;const Vr=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Vr.range;function hS(e,t,n,r,i,a){const s=[[ra,1,Lr],[ra,5,5*Lr],[ra,15,15*Lr],[ra,30,30*Lr],[a,1,Rn],[a,5,5*Rn],[a,15,15*Rn],[a,30,30*Rn],[i,1,Dr],[i,3,3*Dr],[i,6,6*Dr],[i,12,12*Dr],[r,1,Zr],[r,2,2*Zr],[n,1,ay],[t,1,dw],[t,3,3*dw],[e,1,fm]];function c(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:d(f,h,p),w=y?y.range(f,+h+1):[];return g?w.reverse():w}function d(f,h,p){const g=Math.abs(h-f)/p,y=Kv(([,,S])=>S).right(s,g);if(y===s.length)return e.every(Fp(f/fm,h/fm,p));if(y===0)return ud.every(Math.max(Fp(f,h,p),1));const[w,b]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return w.every(b)}return[c,d]}const[w6,j6]=hS(Vr,dy,Cf,fS,uy,sy),[P6,N6]=hS(Kr,cy,kf,Fl,ly,oy);function hm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ss(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function S6(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=ks(i),h=Cs(i),p=ks(a),g=Cs(a),y=ks(s),w=Cs(s),b=ks(c),S=Cs(c),j=ks(d),_=Cs(d),N={a:J,A:W,b:Q,B:G,c:null,d:vw,e:vw,f:q6,g:aR,G:sR,H:K6,I:V6,j:G6,L:mS,m:Y6,M:X6,p:de,q:ee,Q:_w,s:bw,S:Q6,u:J6,U:eR,V:tR,w:nR,W:rR,x:null,X:null,y:iR,Y:oR,Z:lR,"%":xw},E={a:Y,A:ie,b:oe,B:se,c:null,d:yw,e:yw,f:fR,g:wR,G:PR,H:uR,I:cR,j:dR,L:gS,m:hR,M:mR,p:Xe,q:on,Q:_w,s:bw,S:pR,u:gR,U:vR,V:yR,w:xR,W:_R,x:null,X:null,y:bR,Y:jR,Z:NR,"%":xw},O={a:z,A:D,b:$,B:I,c:F,d:pw,e:pw,f:U6,g:mw,G:hw,H:gw,I:gw,j:z6,L:F6,m:R6,M:$6,p:R,q:I6,Q:H6,s:Z6,S:B6,u:T6,U:A6,V:M6,w:E6,W:L6,x:B,X:K,y:mw,Y:hw,Z:D6,"%":W6};N.x=k(n,N),N.X=k(r,N),N.c=k(t,N),E.x=k(n,E),E.X=k(r,E),E.c=k(t,E);function k(ae,me){return function(xe){var q=[],gt=-1,Oe=0,At=ae.length,Mt,Vn,Bi;for(xe instanceof Date||(xe=new Date(+xe));++gt<At;)ae.charCodeAt(gt)===37&&(q.push(ae.slice(Oe,gt)),(Vn=fw[Mt=ae.charAt(++gt)])!=null?Mt=ae.charAt(++gt):Vn=Mt==="e"?" ":"0",(Bi=me[Mt])&&(Mt=Bi(xe,Vn)),q.push(Mt),Oe=gt+1);return q.push(ae.slice(Oe,gt)),q.join("")}}function C(ae,me){return function(xe){var q=Ss(1900,void 0,1),gt=A(q,ae,xe+="",0),Oe,At;if(gt!=xe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Oe=mm(Ss(q.y,0,1)),At=Oe.getUTCDay(),Oe=At>4||At===0?dd.ceil(Oe):dd(Oe),Oe=Sf.offset(Oe,(q.V-1)*7),q.y=Oe.getUTCFullYear(),q.m=Oe.getUTCMonth(),q.d=Oe.getUTCDate()+(q.w+6)%7):(Oe=hm(Ss(q.y,0,1)),At=Oe.getDay(),Oe=At>4||At===0?cd.ceil(Oe):cd(Oe),Oe=Fl.offset(Oe,(q.V-1)*7),q.y=Oe.getFullYear(),q.m=Oe.getMonth(),q.d=Oe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),At="Z"in q?mm(Ss(q.y,0,1)).getUTCDay():hm(Ss(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(At+5)%7:q.w+q.U*7-(At+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mm(q)):hm(q)}}function A(ae,me,xe,q){for(var gt=0,Oe=me.length,At=xe.length,Mt,Vn;gt<Oe;){if(q>=At)return-1;if(Mt=me.charCodeAt(gt++),Mt===37){if(Mt=me.charAt(gt++),Vn=O[Mt in fw?me.charAt(gt++):Mt],!Vn||(q=Vn(ae,xe,q))<0)return-1}else if(Mt!=xe.charCodeAt(q++))return-1}return q}function R(ae,me,xe){var q=f.exec(me.slice(xe));return q?(ae.p=h.get(q[0].toLowerCase()),xe+q[0].length):-1}function z(ae,me,xe){var q=y.exec(me.slice(xe));return q?(ae.w=w.get(q[0].toLowerCase()),xe+q[0].length):-1}function D(ae,me,xe){var q=p.exec(me.slice(xe));return q?(ae.w=g.get(q[0].toLowerCase()),xe+q[0].length):-1}function $(ae,me,xe){var q=j.exec(me.slice(xe));return q?(ae.m=_.get(q[0].toLowerCase()),xe+q[0].length):-1}function I(ae,me,xe){var q=b.exec(me.slice(xe));return q?(ae.m=S.get(q[0].toLowerCase()),xe+q[0].length):-1}function F(ae,me,xe){return A(ae,t,me,xe)}function B(ae,me,xe){return A(ae,n,me,xe)}function K(ae,me,xe){return A(ae,r,me,xe)}function J(ae){return s[ae.getDay()]}function W(ae){return a[ae.getDay()]}function Q(ae){return d[ae.getMonth()]}function G(ae){return c[ae.getMonth()]}function de(ae){return i[+(ae.getHours()>=12)]}function ee(ae){return 1+~~(ae.getMonth()/3)}function Y(ae){return s[ae.getUTCDay()]}function ie(ae){return a[ae.getUTCDay()]}function oe(ae){return d[ae.getUTCMonth()]}function se(ae){return c[ae.getUTCMonth()]}function Xe(ae){return i[+(ae.getUTCHours()>=12)]}function on(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var me=k(ae+="",N);return me.toString=function(){return ae},me},parse:function(ae){var me=C(ae+="",!1);return me.toString=function(){return ae},me},utcFormat:function(ae){var me=k(ae+="",E);return me.toString=function(){return ae},me},utcParse:function(ae){var me=C(ae+="",!0);return me.toString=function(){return ae},me}}}var fw={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,k6=/^%/,C6=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function O6(e){return e.replace(C6,"\\$&")}function ks(e){return new RegExp("^(?:"+e.map(O6).join("|")+")","i")}function Cs(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function E6(e,t,n){var r=jt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function T6(e,t,n){var r=jt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function A6(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function M6(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function L6(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hw(e,t,n){var r=jt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mw(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function D6(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function I6(e,t,n){var r=jt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function R6(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pw(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function z6(e,t,n){var r=jt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gw(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $6(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function B6(e,t,n){var r=jt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function F6(e,t,n){var r=jt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function U6(e,t,n){var r=jt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function W6(e,t,n){var r=k6.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function H6(e,t,n){var r=jt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Z6(e,t,n){var r=jt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vw(e,t){return Pe(e.getDate(),t,2)}function K6(e,t){return Pe(e.getHours(),t,2)}function V6(e,t){return Pe(e.getHours()%12||12,t,2)}function G6(e,t){return Pe(1+Fl.count(Kr(e),e),t,3)}function mS(e,t){return Pe(e.getMilliseconds(),t,3)}function q6(e,t){return mS(e,t)+"000"}function Y6(e,t){return Pe(e.getMonth()+1,t,2)}function X6(e,t){return Pe(e.getMinutes(),t,2)}function Q6(e,t){return Pe(e.getSeconds(),t,2)}function J6(e){var t=e.getDay();return t===0?7:t}function eR(e,t){return Pe(kf.count(Kr(e)-1,e),t,2)}function pS(e){var t=e.getDay();return t>=4||t===0?Io(e):Io.ceil(e)}function tR(e,t){return e=pS(e),Pe(Io.count(Kr(e),e)+(Kr(e).getDay()===4),t,2)}function nR(e){return e.getDay()}function rR(e,t){return Pe(cd.count(Kr(e)-1,e),t,2)}function iR(e,t){return Pe(e.getFullYear()%100,t,2)}function aR(e,t){return e=pS(e),Pe(e.getFullYear()%100,t,2)}function oR(e,t){return Pe(e.getFullYear()%1e4,t,4)}function sR(e,t){var n=e.getDay();return e=n>=4||n===0?Io(e):Io.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function lR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function yw(e,t){return Pe(e.getUTCDate(),t,2)}function uR(e,t){return Pe(e.getUTCHours(),t,2)}function cR(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function dR(e,t){return Pe(1+Sf.count(Vr(e),e),t,3)}function gS(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function fR(e,t){return gS(e,t)+"000"}function hR(e,t){return Pe(e.getUTCMonth()+1,t,2)}function mR(e,t){return Pe(e.getUTCMinutes(),t,2)}function pR(e,t){return Pe(e.getUTCSeconds(),t,2)}function gR(e){var t=e.getUTCDay();return t===0?7:t}function vR(e,t){return Pe(Cf.count(Vr(e)-1,e),t,2)}function vS(e){var t=e.getUTCDay();return t>=4||t===0?Ro(e):Ro.ceil(e)}function yR(e,t){return e=vS(e),Pe(Ro.count(Vr(e),e)+(Vr(e).getUTCDay()===4),t,2)}function xR(e){return e.getUTCDay()}function _R(e,t){return Pe(dd.count(Vr(e)-1,e),t,2)}function bR(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function wR(e,t){return e=vS(e),Pe(e.getUTCFullYear()%100,t,2)}function jR(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function PR(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ro(e):Ro.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function NR(){return"+0000"}function xw(){return"%"}function _w(e){return+e}function bw(e){return Math.floor(+e/1e3)}var Ha,yS,xS;SR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SR(e){return Ha=S6(e),yS=Ha.format,Ha.parse,xS=Ha.utcFormat,Ha.utcParse,Ha}function kR(e){return new Date(e)}function CR(e){return e instanceof Date?+e:+new Date(+e)}function fy(e,t,n,r,i,a,s,c,d,f){var h=Qv(),p=h.invert,g=h.domain,y=f(".%L"),w=f(":%S"),b=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),_=f("%b %d"),N=f("%B"),E=f("%Y");function O(k){return(d(k)<k?y:c(k)<k?w:s(k)<k?b:a(k)<k?S:r(k)<k?i(k)<k?j:_:n(k)<k?N:E)(k)}return h.invert=function(k){return new Date(p(k))},h.domain=function(k){return arguments.length?g(Array.from(k,CR)):g().map(kR)},h.ticks=function(k){var C=g();return e(C[0],C[C.length-1],k??10)},h.tickFormat=function(k,C){return C==null?O:f(C)},h.nice=function(k){var C=g();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?g(aS(C,k)):h},h.copy=function(){return Bl(h,fy(e,t,n,r,i,a,s,c,d,f))},h}function OR(){return Kn.apply(fy(P6,N6,Kr,cy,kf,Fl,ly,oy,ra,yS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ER(){return Kn.apply(fy(w6,j6,Vr,dy,Cf,Sf,uy,sy,ra,xS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Of(){var e=0,t=1,n,r,i,a,s=Ht,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:s(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var y,w;return arguments.length?([y,w]=g,s=p(y,w),f):[s(0),s(1)]}}return f.range=h(Ko),f.rangeRound=h(Xv),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _S(){var e=Ri(Of()(Ht));return e.copy=function(){return zi(e,_S())},Xr.apply(e,arguments)}function bS(){var e=ty(Of()).domain([1,10]);return e.copy=function(){return zi(e,bS()).base(e.base())},Xr.apply(e,arguments)}function wS(){var e=ny(Of());return e.copy=function(){return zi(e,wS()).constant(e.constant())},Xr.apply(e,arguments)}function hy(){var e=ry(Of());return e.copy=function(){return zi(e,hy()).exponent(e.exponent())},Xr.apply(e,arguments)}function TR(){return hy.apply(null,arguments).exponent(.5)}function jS(){var e=[],t=Ht;function n(r){if(r!=null&&!isNaN(r=+r))return t((zl(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Si),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>g5(e,a/r))},n.copy=function(){return jS(t).domain(e)},Xr.apply(n,arguments)}function Ef(){var e=0,t=.5,n=1,r=1,i,a,s,c,d,f=Ht,h,p=!1,g;function y(b){return isNaN(b=+b)?g:(b=.5+((b=+h(b))-a)*(r*b<r*a?c:d),f(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,n]=b,i=h(e=+e),a=h(t=+t),s=h(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(f=b,y):f};function w(b){return function(S){var j,_,N;return arguments.length?([j,_,N]=S,f=W5(b,[j,_,N]),y):[f(0),f(.5),f(1)]}}return y.range=w(Ko),y.rangeRound=w(Xv),y.unknown=function(b){return arguments.length?(g=b,y):g},function(b){return h=b,i=b(e),a=b(t),s=b(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function PS(){var e=Ri(Ef()(Ht));return e.copy=function(){return zi(e,PS())},Xr.apply(e,arguments)}function NS(){var e=ty(Ef()).domain([.1,1,10]);return e.copy=function(){return zi(e,NS()).base(e.base())},Xr.apply(e,arguments)}function SS(){var e=ny(Ef());return e.copy=function(){return zi(e,SS()).constant(e.constant())},Xr.apply(e,arguments)}function my(){var e=ry(Ef());return e.copy=function(){return zi(e,my()).exponent(e.exponent())},Xr.apply(e,arguments)}function AR(){return my.apply(null,arguments).exponent(.5)}const Ds=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gv,scaleDiverging:PS,scaleDivergingLog:NS,scaleDivergingPow:my,scaleDivergingSqrt:AR,scaleDivergingSymlog:SS,scaleIdentity:iS,scaleImplicit:Up,scaleLinear:rS,scaleLog:oS,scaleOrdinal:Vv,scalePoint:x5,scalePow:iy,scaleQuantile:uS,scaleQuantize:cS,scaleRadial:lS,scaleSequential:_S,scaleSequentialLog:bS,scaleSequentialPow:hy,scaleSequentialQuantile:jS,scaleSequentialSqrt:TR,scaleSequentialSymlog:wS,scaleSqrt:f6,scaleSymlog:sS,scaleThreshold:dS,scaleTime:OR,scaleUtc:ER,tickFormat:nS},Symbol.toStringTag,{value:"Module"}));var $i=e=>e.chartData,py=H([$i],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gy=(e,t,n,r)=>r?py(e):$i(e);function zo(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(xn(t)&&xn(n))return!0}return!1}function ww(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function MR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(xn(n))i=n;else if(typeof n=="function")return;if(xn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(zo(s))return s}}function LR(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(zo(r))return ww(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ce(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&gb.test(i)){var d=gb.exec(i);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(ce(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&vb.test(a)){var h=vb.exec(a);if(h==null||t==null)c=void 0;else{var p=+h[1];c=t[1]+p}}else c=t==null?void 0:t[1];var g=[s,c];if(zo(g))return t==null?g:ww(g,t,n)}}}var Vo=1e9,DR={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yy,Be=!0,Wn="[DecimalError] ",da=Wn+"Invalid argument: ",vy=Wn+"Exponent out of range: ",Go=Math.floor,Xi=Math.pow,IR=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,yt=1e7,Ie=7,kS=9007199254740991,fd=Go(kS/Ie),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};re.dividedBy=re.div=function(e){return zr(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,n=t.constructor;return Ee(zr(t,new n(e),0,1),n.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return st(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(fn))throw Error(Wn+"NaN");if(n.s<1)throw Error(Wn+(n.s?"NaN":"-Infinity"));return n.eq(fn)?new r(0):(Be=!1,t=zr(Pl(n,a),Pl(e,a),a),Be=!0,Ee(t,i))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ES(t,e):CS(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Wn+"NaN");return n.s?(Be=!1,t=zr(n,e,0,1).times(e),Be=!0,n.minus(t)):Ee(new r(n),i)};re.naturalExponential=re.exp=function(){return OS(this)};re.naturalLogarithm=re.ln=function(){return Pl(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CS(t,e):ES(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(da+e);if(t=st(i)+1,r=i.d.length-1,n=r*Ie+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};re.squareRoot=re.sqrt=function(){var e,t,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Wn+"NaN")}for(e=st(c),Be=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=gr(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Go((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(zr(c,a,s+2)).times(.5),gr(a.d).slice(0,s)===(t=gr(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ee(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return Be=!0,Ee(r,n)};re.times=re.mul=function(e){var t,n,r,i,a,s,c,d,f,h=this,p=h.constructor,g=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,d=g.length,f=y.length,d<f&&(a=g,g=y,y=a,s=d,d=f,f=s),a=[],s=d+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=a[i]+y[r]*g[i-r-1]+t,a[i--]=c%yt|0,t=c/yt|0;a[i]=(a[i]+t)%yt|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Be?Ee(e,p.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(wr(e,0,Vo),t===void 0?t=r.rounding:wr(t,0,8),Ee(n,e+st(n)+1,t))};re.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=wa(r,!0):(wr(e,0,Vo),t===void 0?t=i.rounding:wr(t,0,8),r=Ee(new i(r),e+1,t),n=wa(r,!0,e+1)),n};re.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?wa(i):(wr(e,0,Vo),t===void 0?t=a.rounding:wr(t,0,8),r=Ee(new a(i),e+st(i)+1,t),n=wa(r.abs(),!1,e+st(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Ee(new t(e),st(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,n,r,i,a,s,c=this,d=c.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(fn);if(c=new d(c),!c.s){if(e.s<1)throw Error(Wn+"Infinity");return c}if(c.eq(fn))return c;if(r=d.precision,e.eq(fn))return Ee(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=h<0?-h:h)<=kS){for(i=new d(fn),t=Math.ceil(r/Ie+4),Be=!1;n%2&&(i=i.times(c),Pw(i.d,t)),n=Go(n/2),n!==0;)c=c.times(c),Pw(c.d,t);return Be=!0,e.s<0?new d(fn).div(i):Ee(i,r)}}else if(a<0)throw Error(Wn+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,Be=!1,i=e.times(Pl(c,r+f)),Be=!0,i=OS(i),i.s=a,i};re.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=st(i),r=wa(i,n<=a.toExpNeg||n>=a.toExpPos)):(wr(e,1,Vo),t===void 0?t=a.rounding:wr(t,0,8),i=Ee(new a(i),e,t),n=st(i),r=wa(i,e<=n||n<=a.toExpNeg,e)),r};re.toSignificantDigits=re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(wr(e,1,Vo),t===void 0?t=r.rounding:wr(t,0,8)),Ee(new r(n),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=st(e),n=e.constructor;return wa(e,t<=n.toExpNeg||t>=n.toExpPos)};function CS(e,t){var n,r,i,a,s,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Be?Ee(t,p):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(p/Ie),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/yt|0,d[a]%=yt;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,Be?Ee(t,p):t}function wr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(da+e)}function gr(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Ie-r.length,n&&(a+=oi(n)),a+=r;s=e[t],r=s+"",n=Ie-r.length,n&&(a+=oi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var zr=function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%yt|0,s=a/yt|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*yt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,f,h,p,g,y,w,b,S,j,_,N,E,O,k,C,A,R=r.constructor,z=r.s==i.s?1:-1,D=r.d,$=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Wn+"Division by zero");for(d=r.e-i.e,C=$.length,O=D.length,y=new R(z),w=y.d=[],f=0;$[f]==(D[f]||0);)++f;if($[f]>(D[f]||0)&&--d,a==null?_=a=R.precision:s?_=a+(st(r)-st(i))+1:_=a,_<0)return new R(0);if(_=_/Ie+2|0,f=0,C==1)for(h=0,$=$[0],_++;(f<O||h)&&_--;f++)N=h*yt+(D[f]||0),w[f]=N/$|0,h=N%$|0;else{for(h=yt/($[0]+1)|0,h>1&&($=e($,h),D=e(D,h),C=$.length,O=D.length),E=C,b=D.slice(0,C),S=b.length;S<C;)b[S++]=0;A=$.slice(),A.unshift(0),k=$[0],$[1]>=yt/2&&++k;do h=0,c=t($,b,C,S),c<0?(j=b[0],C!=S&&(j=j*yt+(b[1]||0)),h=j/k|0,h>1?(h>=yt&&(h=yt-1),p=e($,h),g=p.length,S=b.length,c=t(p,b,g,S),c==1&&(h--,n(p,C<g?A:$,g))):(h==0&&(c=h=1),p=$.slice()),g=p.length,g<S&&p.unshift(0),n(b,p,S),c==-1&&(S=b.length,c=t($,b,C,S),c<1&&(h++,n(b,C<S?A:$,S))),S=b.length):c===0&&(h++,b=[0]),w[f++]=h,c&&b[0]?b[S++]=D[E]||0:(b=[D[E]],S=1);while((E++<O||b[0]!==void 0)&&_--)}return w[0]||w.shift(),y.e=d,Ee(y,s?a+st(y)+1:a)}}();function OS(e,t){var n,r,i,a,s,c,d=0,f=0,h=e.constructor,p=h.precision;if(st(e)>16)throw Error(vy+st(e));if(!e.s)return new h(fn);for(t==null?(Be=!1,c=p):c=t,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(Xi(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new h(fn),h.precision=c;;){if(i=Ee(i.times(e),c),n=n.times(++d),s=a.plus(zr(i,n,c)),gr(s.d).slice(0,c)===gr(a.d).slice(0,c)){for(;f--;)a=Ee(a.times(a),c);return h.precision=p,t==null?(Be=!0,Ee(a,p)):a}a=s}}function st(e){for(var t=e.e*Ie,n=e.d[0];n>=10;n/=10)t++;return t}function pm(e,t,n){if(t>e.LN10.sd())throw Be=!0,n&&(e.precision=n),Error(Wn+"LN10 precision limit exceeded");return Ee(new e(e.LN10),t)}function oi(e){for(var t="";e--;)t+="0";return t}function Pl(e,t){var n,r,i,a,s,c,d,f,h,p=1,g=10,y=e,w=y.d,b=y.constructor,S=b.precision;if(y.s<1)throw Error(Wn+(y.s?"NaN":"-Infinity"));if(y.eq(fn))return new b(0);if(t==null?(Be=!1,f=S):f=t,y.eq(10))return t==null&&(Be=!0),pm(b,f);if(f+=g,b.precision=f,n=gr(w),r=n.charAt(0),a=st(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=gr(y.d),r=n.charAt(0),p++;a=st(y),r>1?(y=new b("0."+n),a++):y=new b(r+"."+n.slice(1))}else return d=pm(b,f+2,S).times(a+""),y=Pl(new b(r+"."+n.slice(1)),f-g).plus(d),b.precision=S,t==null?(Be=!0,Ee(y,S)):y;for(c=s=y=zr(y.minus(fn),y.plus(fn),f),h=Ee(y.times(y),f),i=3;;){if(s=Ee(s.times(h),f),d=c.plus(zr(s,new b(i),f)),gr(d.d).slice(0,f)===gr(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(pm(b,f+2,S).times(a+""))),c=zr(c,new b(p),f),b.precision=S,t==null?(Be=!0,Ee(c,S)):c;c=d,i+=2}}function jw(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Go(n/Ie),e.d=[],r=(n+1)%Ie,n<0&&(r+=Ie),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ie;r<i;)e.d.push(+t.slice(r,r+=Ie));t=t.slice(r),r=Ie-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Be&&(e.e>fd||e.e<-fd))throw Error(vy+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ee(e,t,n){var r,i,a,s,c,d,f,h,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Ie,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Ie),a=p.length,h>=a)return e;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=Ie,i=r-Ie+s}if(n!==void 0&&(a=Xi(10,s-i-1),c=f/a%10|0,d=t<0||p[h+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/Xi(10,s-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=st(e),p.length=1,t=t-a-1,p[0]=Xi(10,(Ie-t%Ie)%Ie),e.e=Go(-t/Ie)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Xi(10,Ie-r),p[h]=i>0?(f/Xi(10,s-i)%Xi(10,i)|0)*a:0),d)for(;;)if(h==0){(p[0]+=a)==yt&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=yt)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Be&&(e.e>fd||e.e<-fd))throw Error(vy+st(e));return e}function ES(e,t){var n,r,i,a,s,c,d,f,h,p,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Be?Ee(t,y):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(h=s<0,h?(n=d,s=-s,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(y/Ie),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,h=i<c,h&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){h=d[i]<p[i];break}s=0}for(h&&(n=d,d=p,p=n,t.s=-t.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>s;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=yt-1;--d[a],d[i]+=yt}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,Be?Ee(t,y):t):new g(0)}function wa(e,t,n){var r,i=st(e),a=gr(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+oi(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+oi(-i-1)+a,n&&(r=n-s)>0&&(a+=oi(r))):i>=s?(a+=oi(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+oi(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=oi(r))),e.s<0?"-"+a:a}function Pw(e,t){if(e.length>t)return e.length=t,!0}function TS(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(da+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return jw(s,a.toString())}else if(typeof a!="string")throw Error(da+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,IR.test(a))jw(s,a);else throw Error(da+a)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TS,i.config=i.set=RR,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function RR(e){if(!e||typeof e!="object")throw Error(Wn+"Object expected");var t,n,r,i=["precision",1,Vo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Go(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(da+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(da+n+": "+r);return this}var yy=TS(DR);fn=new yy(1);const Se=yy;var zR=e=>e,AS={"@@functional/placeholder":!0},MS=e=>e===AS,Nw=e=>function t(){return arguments.length===0||arguments.length===1&&MS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},LS=(e,t)=>e===1?t:Nw(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==AS).length;return a>=e?t(...r):LS(e-a,Nw(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(h=>MS(h)?c.shift():h);return t(...f,...c)}))}),Tf=e=>LS(e.length,e),Kp=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},$R=Tf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),BR=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return zR;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},Vp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),DS=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((s,c)=>{var d;return s===((d=t)===null||d===void 0?void 0:d[c])})||(t=i,n=e(...i)),n}};function IS(e){var t;return e===0?t=1:t=Math.floor(new Se(e).abs().log(10).toNumber())+1,t}function RS(e,t,n){for(var r=new Se(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Tf((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Tf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Tf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var zS=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},$S=(e,t,n)=>{if(e.lte(0))return new Se(0);var r=IS(e.toNumber()),i=new Se(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new Se(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return t?new Se(d.toNumber()):new Se(Math.ceil(d.toNumber()))},FR=(e,t,n)=>{var r=new Se(1),i=new Se(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Se(10).pow(IS(e)-1),i=new Se(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Se(Math.floor(e)))}else e===0?i=new Se(Math.floor((t-1)/2)):n||(i=new Se(Math.floor(e)));var s=Math.floor((t-1)/2),c=BR($R(d=>i.add(new Se(d-s).mul(r)).toNumber()),Kp);return c(0,t)},BS=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Se(0),tickMin:new Se(0),tickMax:new Se(0)};var s=$S(new Se(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Se(0):(c=new Se(t).add(n).div(2),c=c.sub(new Se(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new Se(n).sub(c).div(s).toNumber()),h=d+f+1;return h>r?BS(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:s,tickMin:c.sub(new Se(d).mul(s)),tickMax:c.add(new Se(f).mul(s))})};function UR(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,c]=zS([t,n]);if(s===-1/0||c===1/0){var d=c===1/0?[s,...Kp(0,r-1).map(()=>1/0)]:[...Kp(0,r-1).map(()=>-1/0),c];return t>n?Vp(d):d}if(s===c)return FR(s,r,i);var{step:f,tickMin:h,tickMax:p}=BS(s,c,a,i,0),g=RS(h,p.add(new Se(.1).mul(f)),f);return t>n?Vp(g):g}function WR(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=zS([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var c=Math.max(t,2),d=$S(new Se(s).sub(a).div(c-1),i,0),f=[...RS(new Se(a),new Se(s),d),s];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?Vp(f):f}var HR=DS(UR),ZR=DS(WR),FS=e=>e.rootProps.maxBarSize,KR=e=>e.rootProps.barGap,US=e=>e.rootProps.barCategoryGap,VR=e=>e.rootProps.barSize,Ul=e=>e.rootProps.stackOffset,xy=e=>e.options.chartName,_y=e=>e.rootProps.syncId,WS=e=>e.rootProps.syncMethod,by=e=>e.options.eventEmitter,Er={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Af=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},GR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Er.angleAxisId,includeHidden:!1,name:void 0,reversed:Er.reversed,scale:Er.scale,tick:Er.tick,tickCount:void 0,ticks:void 0,type:Er.type,unit:void 0},qR={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:cn.type,unit:void 0},YR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},XR={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:"category",unit:void 0},wy=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?YR:GR,jy=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?XR:qR,Mf=e=>e.polarOptions,Py=H([qr,Yr,ht],wN),HS=H([Mf,Py],(e,t)=>{if(e!=null)return $t(e.innerRadius,t,0)}),ZS=H([Mf,Py],(e,t)=>{if(e!=null)return $t(e.outerRadius,t,t*.8)}),QR=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},KS=H([Mf],QR);H([wy,KS],Af);var VS=H([Py,HS,ZS],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});H([jy,VS],Af);var GS=H([Ne,Mf,HS,ZS,qr,Yr],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:$t(s,i,i/2),cy:$t(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Fe=(e,t)=>t,Wl=(e,t,n)=>n;function Ny(e){return e==null?void 0:e.id}var pt=e=>{var t=Ne(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qo=e=>e.tooltip.settings.axisId,Pt=e=>{var t=pt(e),n=qo(e);return Hl(e,t,n)},qS=H([Pt],e=>e==null?void 0:e.dataKey);function YS(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=Ny(c);f.forEach((p,g)=>{var y=a==null||i?g:String(Ze(p,a,null)),w=Ze(p,c.dataKey,0),b;s.has(y)?b=s.get(y):b={},Object.assign(b,{[h]:w}),s.set(y,b)})}}),Array.from(s.values())}function Lf(e){return e.stackId!=null&&e.dataKey!=null}function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(n),!0).forEach(function(r){JR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JR(e,t,n){return(t=ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ez(e){var t=tz(e,"string");return typeof t=="symbol"?t:t+""}function tz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp=[0,"auto"],sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XS=(e,t)=>e.cartesianAxis.xAxis[t],Qr=(e,t)=>{var n=XS(e,t);return n??sn},ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rl},QS=(e,t)=>e.cartesianAxis.yAxis[t],Jr=(e,t)=>{var n=QS(e,t);return n??ln},nz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Sy=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??nz},nt=(e,t,n)=>{switch(t){case"xAxis":return Qr(e,n);case"yAxis":return Jr(e,n);case"zAxis":return Sy(e,n);case"angleAxis":return wy(e,n);case"radiusAxis":return jy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rz=(e,t,n)=>{switch(t){case"xAxis":return Qr(e,n);case"yAxis":return Jr(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Hl=(e,t,n)=>{switch(t){case"xAxis":return Qr(e,n);case"yAxis":return Jr(e,n);case"angleAxis":return wy(e,n);case"radiusAxis":return jy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ky(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Cy=e=>e.graphicalItems.cartesianItems,iz=H([Fe,Wl],ky),Oy=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Zl=H([Cy,nt,iz],Oy),ek=H([Zl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Lf)),tk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),nk=H([Zl],tk),Ey=e=>e.map(t=>t.data).filter(Boolean).flat(1),az=H([Zl],Ey),Ty=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ay=H([az,gy],Ty),My=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ze(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ze(i,r)}))):e.map(r=>({value:r})),Df=H([Ay,nt,Zl],My);function rk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ta(e){return e.filter(t=>br(t)||t instanceof Date).map(Number).filter(t=>vn(t)===!1)}function oz(e,t,n){return!n||typeof t!="number"||vn(t)?[]:n.length?Ta(n.flatMap(r=>{var i=Ze(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!xn(a)||!xn(s)))return[t-a,t+s]})):[]}var sz=H([ek,gy,Pt],YS),ik=(e,t,n)=>{var r={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,c]=a,d=c.map(Ny);return[s,{stackedData:p4(e,d,n),graphicalItems:c}]}))},qp=H([sz,ek,Ul],ik),ak=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=_4(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},lz=H([qp,$i,Fe],ak),ok=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var c,d,f=(c=r[s.id])===null||c===void 0?void 0:c.filter(p=>rk(i,p)),h=Ze(a,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey);return{value:h,errorDomain:oz(a,h,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ze(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),If=e=>e.errorBars,sk=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>rk(n,r));H([nk,If,Fe],sk);var uz=H([Ay,nt,nk,If,Fe],ok);function cz(e){var{value:t}=e;if(br(t)||t instanceof Date)return t}var kw=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ta(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dz=(e,t,n)=>{var r=e.map(cz).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&nP(r))?KN(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Ly=e=>{var t;if(e==null||!("domain"in e))return Gp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ta(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Gp},md=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},lk=e=>e.referenceElements.dots,Yo=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),fz=H([lk,Fe,Wl],Yo),uk=e=>e.referenceElements.areas,hz=H([uk,Fe,Wl],Yo),ck=e=>e.referenceElements.lines,mz=H([ck,Fe,Wl],Yo),dk=(e,t)=>{var n=Ta(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pz=H(fz,Fe,dk),fk=(e,t)=>{var n=Ta(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gz=H([hz,Fe],fk),hk=(e,t)=>{var n=Ta(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vz=H(mz,Fe,hk),yz=H(pz,vz,gz,(e,t,n)=>md(e,n,t)),mk=H([nt],Ly),Dy=(e,t,n,r,i,a,s)=>{var c=MR(t,e.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",f=d?md(n,i,kw(r)):md(i,kw(r));return LR(t,f,e.allowDataOverflow)},xz=H([nt,mk,lz,uz,yz,Ne,Fe],Dy),_z=[0,1],Iy=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=ka(t,a);return f&&c==null?KN(0,n.length):d==="category"?dz(r,e,f):i==="expand"?_z:s}},Ry=H([nt,Ne,Ay,Df,Ul,Fe,xz],Iy),pk=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(Ml(a));return c in Ds?c:"point"}}},Xo=H([nt,Ne,JS,xy,Fe],pk);function bz(e){if(e!=null){if(e in Ds)return Ds[e]();var t="scale".concat(Ml(e));if(t in Ds)return Ds[t]()}}function zy(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=bz(t);if(i!=null){var a=i.domain(n).range(r);return c4(a),a}}}var $y=(e,t,n)=>{var r=Ly(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zo(e))return HR(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&zo(e))return ZR(e,t.tickCount,t.allowDecimals)}},By=H([Ry,Hl,Xo],$y),Fy=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&zo(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},wz=H([nt,Ry,By,Fe],Fy),jz=H(Df,nt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ta(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),gk=H(jz,Ne,US,ht,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!xn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=$t(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),Pz=(e,t)=>{var n=Qr(e,t);return n==null||typeof n.padding!="string"?0:gk(e,"xAxis",t,n.padding)},Nz=(e,t)=>{var n=Jr(e,t);return n==null||typeof n.padding!="string"?0:gk(e,"yAxis",t,n.padding)},Sz=H(Qr,Pz,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),kz=H(Jr,Nz,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Cz=H([ht,Sz,wf,bf,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Oz=H([ht,Ne,kz,wf,bf,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Kl=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Cz(e,n,r);case"yAxis":return Oz(e,n,r);case"zAxis":return(i=Sy(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return KS(e);case"radiusAxis":return VS(e,n);default:return}},vk=H([nt,Kl],Af),Qo=H([nt,Xo,wz,vk],zy);H([Zl,If,Fe],sk);function yk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Rf=(e,t)=>t,zf=(e,t,n)=>n,Ez=H(xf,Rf,zf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(yk)),Tz=H(_f,Rf,zf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(yk)),xk=(e,t)=>({width:e.width,height:t.height}),Az=(e,t)=>{var n=typeof t.width=="number"?t.width:Rl;return{width:n,height:e.height}},_k=H(ht,Qr,xk),Mz=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Lz=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Dz=H(Yr,ht,Ez,Rf,zf,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=xk(t,c);s==null&&(s=Mz(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),a}),Iz=H(qr,ht,Tz,Rf,zf,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=Az(t,c);s==null&&(s=Lz(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),a}),Rz=(e,t)=>{var n=Qr(e,t);if(n!=null)return Dz(e,n.orientation,n.mirror)},zz=H([ht,Qr,Rz,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),$z=(e,t)=>{var n=Jr(e,t);if(n!=null)return Iz(e,n.orientation,n.mirror)},Bz=H([ht,Jr,$z,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),bk=H(ht,Jr,(e,t)=>{var n=typeof t.width=="number"?t.width:Rl;return{width:n,height:e.height}}),Cw=(e,t,n)=>{switch(t){case"xAxis":return _k(e,n).width;case"yAxis":return bk(e,n).height;default:return}},wk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=ka(e,r),d=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&nP(d))return d}},Uy=H([Ne,Df,nt,Fe],wk),jk=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=ka(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},Wy=H([Ne,Df,Hl,Fe],jk),Ow=H([Ne,rz,Xo,Qo,Uy,Wy,Kl,By,Fe],(e,t,n,r,i,a,s,c,d)=>{if(t==null)return null;var f=ka(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}),Fz=(e,t,n,r,i,a,s,c,d)=>{if(!(t==null||r==null)){var f=ka(e,d),{type:h,ticks:p,tickCount:g}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/y:0;w=d==="angleAxis"&&a!=null&&a.length>=2?_t(a[0]-a[1])*2*w:w;var b=p||i;if(b){var S=b.map((j,_)=>{var N=s?s.indexOf(j):j;return{index:_,coordinate:r(N)+w,value:j,offset:w}});return S.filter(j=>!vn(j.coordinate))}return f&&c?c.map((j,_)=>({coordinate:r(j)+w,value:j,index:_,offset:w})):r.ticks?r.ticks(g).map(j=>({coordinate:r(j)+w,value:j,offset:w})):r.domain().map((j,_)=>({coordinate:r(j)+w,value:s?s[j]:j,index:_,offset:w}))}},Pk=H([Ne,Hl,Xo,Qo,By,Kl,Uy,Wy,Fe],Fz),Uz=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=ka(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?_t(r[0]-r[1])*2*f:f,c&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},$o=H([Ne,Hl,Qo,Kl,Uy,Wy,Fe],Uz),Bo=H(nt,Qo,(e,t)=>{if(!(e==null||t==null))return hd(hd({},e),{},{scale:t})}),Wz=H([nt,Xo,Ry,vk],zy);H((e,t,n)=>Sy(e,n),Wz,(e,t)=>{if(!(e==null||t==null))return hd(hd({},e),{},{scale:t})});var Hz=H([Ne,xf,_f],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Nk=e=>e.options.defaultTooltipEventType,Sk=e=>e.options.validateTooltipEventTypes;function kk(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Hy(e,t){var n=Nk(e),r=Sk(e);return kk(t,n,r)}function Zz(e){return le(t=>Hy(t,e))}var Ck=(e,t)=>{var n,r=Number(t);if(!(vn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Kz=e=>e.tooltip.settings,fi={active:!1,index:null,dataKey:void 0,coordinate:void 0},Vz={itemInteraction:{click:fi,hover:fi},axisInteraction:{click:fi,hover:fi},keyboardInteraction:fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Ok=wn({name:"tooltip",initialState:Vz,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Rr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Gz,removeTooltipEntrySettings:qz,setTooltipSettingsState:Yz,setActiveMouseOverItemIndex:Ek,mouseLeaveItem:Xz,mouseLeaveChart:Tk,setActiveClickItemIndex:Qz,setMouseOverAxisIndex:Ak,setMouseClickAxisIndex:Jz,setSyncInteraction:Yp,setKeyboardInteraction:Xp}=Ok.actions,e8=Ok.reducer;function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){t8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t8(e,t,n){return(t=n8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i8(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function a8(e){return e.index!=null}var Mk=(e,t,n,r)=>{if(t==null)return fi;var i=i8(e,t,n);if(i==null)return fi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(a8(i)){if(a)return Ku(Ku({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Ku(Ku({},fi),{},{coordinate:i.coordinate})},Zy=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!xn(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},Lk=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},Dk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Vl=e=>e.options.tooltipPayloadSearcher,Jo=e=>e.tooltip;function Tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(n),!0).forEach(function(r){o8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o8(e,t,n){return(t=s8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u8(e,t){return e??t}var Ik=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((g,y)=>{var w,{dataDefinedOnItem:b,settings:S}=y,j=u8(b,c),_=Array.isArray(j)?jN(j,f,h):j,N=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r,E=S==null?void 0:S.nameKey,O;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?O=lL(_,r,i):O=a(_,t,d,E),Array.isArray(O))O.forEach(C=>{var A=Aw(Aw({},S),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});g.push(yb({tooltipEntrySettings:A,dataKey:C.dataKey,payload:C.payload,value:Ze(C.payload,C.dataKey),name:C.name}))});else{var k;g.push(yb({tooltipEntrySettings:S,dataKey:N,payload:O,value:Ze(O,N),name:(k=Ze(O,E))!==null&&k!==void 0?k:S==null?void 0:S.name}))}return g},p)}},Ky=H([Pt,Ne,JS,xy,pt],pk),c8=H([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),d8=H([pt,qo],ky),Gl=H([c8,Pt,d8],Oy),f8=H([Gl],e=>e.filter(Lf)),h8=H([Gl],Ey),es=H([h8,$i],Ty),m8=H([f8,$i,Pt],YS),Vy=H([es,Pt,Gl],My),p8=H([Pt],Ly),g8=H([Gl],e=>e.filter(Lf)),v8=H([m8,g8,Ul],ik),y8=H([v8,$i,pt],ak),x8=H([Gl],tk),_8=H([es,Pt,x8,If,pt],ok),b8=H([lk,pt,qo],Yo),w8=H([b8,pt],dk),j8=H([uk,pt,qo],Yo),P8=H([j8,pt],fk),N8=H([ck,pt,qo],Yo),S8=H([N8,pt],hk),k8=H([w8,S8,P8],md),C8=H([Pt,p8,y8,_8,k8,Ne,pt],Dy),Rk=H([Pt,Ne,es,Vy,Ul,pt,C8],Iy),O8=H([Rk,Pt,Ky],$y),E8=H([Pt,Rk,O8,pt],Fy),zk=e=>{var t=pt(e),n=qo(e),r=!1;return Kl(e,t,n,r)},$k=H([Pt,zk],Af),Bk=H([Pt,Ky,E8,$k],zy),T8=H([Ne,Vy,Pt,pt],wk),A8=H([Ne,Vy,Pt,pt],jk),M8=(e,t,n,r,i,a,s,c)=>{if(t){var{type:d}=t,f=ka(e,c);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_t(i[0]-i[1])*2*p:p,f&&s?s.map((g,y)=>({coordinate:r(g)+p,value:g,index:y,offset:p})):r.domain().map((g,y)=>({coordinate:r(g)+p,value:a?a[g]:g,index:y,offset:p}))}}},ei=H([Ne,Pt,Ky,Bk,zk,T8,A8,pt],M8),Gy=H([Nk,Sk,Kz],(e,t,n)=>kk(n.shared,e,t)),Fk=e=>e.tooltip.settings.trigger,qy=e=>e.tooltip.settings.defaultIndex,$f=H([Jo,Gy,Fk,qy],Mk),ja=H([$f,es],Zy),Uk=H([ei,ja],Ck),Wk=H([$f],e=>{if(e)return e.dataKey}),Hk=H([Jo,Gy,Fk,qy],Dk),L8=H([qr,Yr,Ne,ht,ei,qy,Hk,Vl],Lk),D8=H([$f,L8],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),I8=H([$f],e=>e.active),R8=H([Hk,ja,$i,qS,Uk,Vl,Gy],Ik);H([R8],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(n),!0).forEach(function(r){z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z8(e,t,n){return(t=$8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e){var t=B8(e,"string");return typeof t=="symbol"?t:t+""}function B8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F8=()=>le(Pt),U8=()=>{var e=F8(),t=le(ei),n=le(Bk);return $v(Lw(Lw({},e),{},{scale:n}),t)},W8=()=>le(xy),Yy=(e,t)=>t,Zk=(e,t,n)=>n,Xy=(e,t,n,r)=>r,H8=H(ei,e=>ff(e,t=>t.coordinate)),Qy=H([Jo,Yy,Zk,Xy],Mk),Kk=H([Qy,es],Zy),Z8=(e,t,n)=>{if(t!=null){var r=Jo(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Vk=H([Jo,Yy,Zk,Xy],Dk),pd=H([qr,Yr,Ne,ht,ei,Xy,Vk,Vl],Lk),K8=H([Qy,pd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Gk=H(ei,Kk,Ck),V8=H([Vk,Kk,$i,qS,Gk,Vl,Yy],Ik),G8=H([Qy],e=>({isActive:e.active,activeIndex:e.index})),q8=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a)){var d=b4(e.chartX,e.chartY,t,n,c);if(d){var f=j4(d,t),h=l4(f,s,a,r,i),p=w4(t,a,h,d);return{activeIndex:String(h),activeCoordinate:p}}}};function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(null,arguments)}function Dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(n),!0).forEach(function(r){Y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y8(e,t,n){return(t=X8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8(e){var t=Q8(e,"string");return typeof t=="symbol"?t:t+""}function Q8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J8(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:s,cursor:c,tooltipEventType:d,chartName:f}=e,h=t,p=n,g=r;if(!c||!h||f!=="ScatterChart"&&d!=="axis")return null;var y,w;if(f==="ScatterChart")y=h,w=jI;else if(f==="BarChart")y=PI(s,h,i,a),w=$N;else if(s==="radial"){var{cx:b,cy:S,radius:j,startAngle:_,endAngle:N}=BN(h);y={cx:b,cy:S,startAngle:_,endAngle:N,innerRadius:j,outerRadius:j},w=UN}else y={points:r5(s,h,i)},w=LN;var E=typeof c=="object"&&"className"in c?c.className:void 0,O=Vu(Vu(Vu(Vu({stroke:"#ccc",pointerEvents:"none"},i),y),dt(c,!1)),{},{payload:p,payloadIndex:g,className:Ce("recharts-tooltip-cursor",E)});return x.isValidElement(c)?x.cloneElement(c,O):x.createElement(w,O)}function e$(e){var t=U8(),n=ON(),r=Hv(),i=W8();return x.createElement(J8,Qp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var qk=x.createContext(null),t$=()=>x.useContext(qk),Yk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function a(d,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||d,g),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,w=new Array(y);g<y;g++)w[g]=p[g].fn;return w},c.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,h,p,g,y,w){var b=n?n+f:f;if(!this._events[b])return!1;var S=this._events[b],j=arguments.length,_,N;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,g),!0;case 5:return S.fn.call(S.context,h,p,g,y),!0;case 6:return S.fn.call(S.context,h,p,g,y,w),!0}for(N=1,_=new Array(j-1);N<j;N++)_[N-1]=arguments[N];S.fn.apply(S.context,_)}else{var E=S.length,O;for(N=0;N<E;N++)switch(S[N].once&&this.removeListener(f,S[N].fn,void 0,!0),j){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,h);break;case 3:S[N].fn.call(S[N].context,h,p);break;case 4:S[N].fn.call(S[N].context,h,p,g);break;default:if(!_)for(O=1,_=new Array(j-1);O<j;O++)_[O-1]=arguments[O];S[N].fn.apply(S[N].context,_)}}return!0},c.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},c.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},c.prototype.removeListener=function(f,h,p,g){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!p||w.context===p)&&s(this,y);else{for(var b=0,S=[],j=w.length;b<j;b++)(w[b].fn!==h||g&&!w[b].once||p&&w[b].context!==p)&&S.push(w[b]);S.length?this._events[y]=S.length===1?S[0]:S:s(this,y)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Yk);var n$=Yk.exports;const r$=jr(n$);var Nl=new r$,Jp="recharts.syncEvent.tooltip",Iw="recharts.syncEvent.brush";function Xk(e,t){if(t){var n=Number.parseInt(t,10);if(!vn(n))return e==null?void 0:e[n]}}var i$={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Qk=wn({name:"options",initialState:i$,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),a$=Qk.reducer,{createEventEmitter:o$}=Qk.actions;function s$(e){return e.tooltip.syncInteraction}var l$={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Jk=wn({name:"chartData",initialState:l$,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Rw,setDataStartEndIndexes:u$,setComputedData:NH}=Jk.actions,c$=Jk.reducer,d$=["x","y"];function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(n),!0).forEach(function(r){f$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f$(e,t,n){return(t=h$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h$(e){var t=m$(e,"string");return typeof t=="symbol"?t:t+""}function m$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p$(e,t){if(e==null)return{};var n,r,i=g$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eC=()=>{};function v$(){var e=le(_y),t=le(by),n=Ge(),r=le(WS),i=le(ei),a=Hv(),s=Fv(),c=le(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return eC;var d=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate){var y=h.payload.coordinate,{x:w,y:b}=y,S=p$(y,d$),j=Ki(Ki(Ki({},S),typeof w=="number"&&{x:Math.max(s.x,Math.min(w,s.x+s.width))}),typeof b=="number"&&{y:Math.max(s.y,Math.min(b,s.y+s.height))}),_=Ki(Ki({},h),{},{payload:Ki(Ki({},h.payload),{},{coordinate:j})});n(_)}else n(h);return}if(i!=null){var N;if(typeof r=="function"){var E={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,E);N=i[O]}else r==="value"&&(N=i.find(I=>String(I.value)===h.payload.label));var{coordinate:k}=h.payload;if(N==null||h.payload.active===!1||k==null||s==null){n(Yp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:A}=k,R=Math.min(C,s.x+s.width),z=Math.min(A,s.y+s.height),D={x:a==="horizontal"?N.coordinate:R,y:a==="horizontal"?z:N.coordinate},$=Yp({active:h.payload.active,coordinate:D,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label});n($)}}};return Nl.on(Jp,d),()=>{Nl.off(Jp,d)}},[c,n,t,e,r,i,a,s])}function y$(){var e=le(_y),t=le(by),n=Ge();x.useEffect(()=>{if(e==null)return eC;var r=(i,a,s)=>{t!==s&&e===i&&n(u$(a))};return Nl.on(Iw,r),()=>{Nl.off(Iw,r)}},[n,t,e])}function x$(){var e=Ge();x.useEffect(()=>{e(o$())},[e]),v$(),y$()}function _$(e,t,n,r,i,a){var s=le(g=>Z8(g,e,t)),c=le(by),d=le(_y),f=le(WS),h=le(s$),p=h==null?void 0:h.active;x.useEffect(()=>{if(!p&&d!=null&&c!=null){var g=Yp({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Nl.emit(Jp,d,g,c)}},[p,n,s,i,r,c,d,f,a])}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){b$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b$(e,t,n){return(t=w$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P$(e){return e.dataKey}function N$(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(tI,t)}var Fw=[],S$={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ca.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function si(e){var t=Gt(e,S$),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:b,shared:S,trigger:j,defaultIndex:_,portal:N,axisId:E}=t,O=Ge(),k=typeof _=="number"?String(_):_;x.useEffect(()=>{O(Yz({shared:S,trigger:j,axisId:E,active:n,defaultIndex:k}))},[O,S,j,E,n,k]);var C=Fv(),A=MN(),R=Zz(S),{activeIndex:z,isActive:D}=le(oe=>G8(oe,R,j,k)),$=le(oe=>V8(oe,R,j,k)),I=le(oe=>Gk(oe,R,j,k)),F=le(oe=>K8(oe,R,j,k)),B=$,K=t$(),J=n??D,[W,Q]=XP([B,J]),G=R==="axis"?I:void 0;_$(R,j,F,G,z,J);var de=N??K;if(de==null)return null;var ee=B??Fw;J||(ee=Fw),c&&ee.length&&(ee=$P(B.filter(oe=>oe.value!=null&&(oe.hide!==!0||t.includeHidden)),h,P$));var Y=ee.length>0,ie=x.createElement(lI,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:J,coordinate:F,hasPayload:Y,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:w,lastBoundingBox:W,innerRef:Q,hasPortalFromProps:!!N},N$(s,Bw(Bw({},t),{},{payload:ee,label:G,active:J,coordinate:F,accessibilityLayer:A})));return x.createElement(x.Fragment,null,Hd.createPortal(ie,de),J&&x.createElement(e$,{cursor:b,tooltipEventType:R,coordinate:F,payload:B,index:z}))}var tC={},nC={},rC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},p=()=>{f&&h(),b()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{w(),s=void 0,c=null},S=()=>{h()},j=function(..._){if(i!=null&&i.aborted)return;s=this,c=_;const N=g==null;y(),d&&N&&h()};return j.schedule=y,j.cancel=b,j.flush=S,i==null||i.addEventListener("abort",b,{once:!0}),j}e.debounce=t})(rC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rC;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(...b){h=r.apply(this,b),p=null},i,{edges:f}),y=function(...b){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=r.apply(this,b),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,b),h)},w=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=w,y}e.debounce=n})(nC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nC;function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(tC);var k$=tC.throttle;const C$=jr(k$);var Vs=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){O$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O$(e,t,n){return(t=E$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var li=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:h=0,id:p,className:g,onResize:y,style:w={}}=e,b=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>b.current);var[j,_]=x.useState({containerWidth:r.width,containerHeight:r.height}),N=x.useCallback((O,k)=>{_(C=>{var A=Math.round(O),R=Math.round(k);return C.containerWidth===A&&C.containerHeight===R?C:{containerWidth:A,containerHeight:R}})},[]);x.useEffect(()=>{var O=R=>{var z,{width:D,height:$}=R[0].contentRect;N(D,$),(z=S.current)===null||z===void 0||z.call(S,D,$)};h>0&&(O=C$(O,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(O),{width:C,height:A}=b.current.getBoundingClientRect();return N(C,A),k.observe(b.current),()=>{k.disconnect()}},[N,h]);var E=x.useMemo(()=>{var{containerWidth:O,containerHeight:k}=j;if(O<0||k<0)return null;Vs(ta(i)||ta(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Vs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=ta(i)?O:i,A=ta(a)?k:a;return n&&n>0&&(C?A=C/n:A&&(C=A*n),d&&A>d&&(A=d)),Vs(C>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,A,i,a,s,c,n),x.Children.map(f,R=>x.cloneElement(R,{width:C,height:A,style:gm({width:C,height:A},R.props.style)}))},[n,f,a,d,c,s,j,i]);return x.createElement("div",{id:p?"".concat(p):void 0,className:Ce("recharts-responsive-container",g),style:gm(gm({},w),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:b},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),Dn=e=>null;Dn.displayName="Cell";function A$(e,t,n){return(t=M$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$(e){var t=L$(e,"string");return typeof t=="symbol"?t:t+""}function L$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class D${constructor(t){A$(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(r){R$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R$(e,t,n){return(t=z$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z$(e){var t=$$(e,"string");return typeof t=="symbol"?t:t+""}function $$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B$={cacheSize:2e3,enableCache:!0},iC=I$({},B$),Hw=new D$(iC.cacheSize),F$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Zw="recharts_measurement_span";function U$(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var Kw=(e,t)=>{try{var n=document.getElementById(Zw);n||(n=document.createElement("span"),n.setAttribute("id",Zw),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,F$,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gs=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ca.isSsr)return{width:0,height:0};if(!iC.enableCache)return Kw(t,n);var r=U$(t,n),i=Hw.get(r);if(i)return i;var a=Kw(t,n);return Hw.set(r,a),a},Vw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,H$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Z$=Object.keys(aC),ao="NaN";function K$(e,t){return e*aC[t]}class Yt{static parse(t){var n,[,r,i]=(n=H$.exec(t))!==null&&n!==void 0?n:[];return new Yt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vn(t)&&(this.unit=""),n!==""&&!W$.test(n)&&(this.num=NaN,this.unit=""),Z$.includes(n)&&(this.num=K$(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vn(this.num)}}function oC(e){if(e.includes(ao))return ao;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=Vw.exec(t))!==null&&n!==void 0?n:[],s=Yt.parse(r??""),c=Yt.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return ao;t=t.replace(Vw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=Gw.exec(t))!==null&&f!==void 0?f:[],y=Yt.parse(h??""),w=Yt.parse(g??""),b=p==="+"?y.add(w):y.subtract(w);if(b.isNaN())return ao;t=t.replace(Gw,b.toString())}return t}var qw=/\(([^()]*)\)/;function V$(e){for(var t=e,n;(n=qw.exec(t))!=null;){var[,r]=n;t=t.replace(qw,oC(r))}return t}function G$(e){var t=e.replace(/\s+/g,"");return t=V$(t),t=oC(t),t}function q$(e){try{return G$(e)}catch{return ao}}function vm(e){var t=q$(e.slice(5,-1));return t===ao?"":t}var Y$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],X$=["dx","dy","angle","className","breakAll"];function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg.apply(null,arguments)}function Yw(e,t){if(e==null)return{};var n,r,i=Q$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sC=/[ \f\n\r\t\v\u2028\u2029]+/,lC=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];wt(t)||(n?i=t.toString().split(""):i=t.toString().split(sC));var a=i.map(c=>({word:c,width:Gs(c,r).width})),s=n?0:Gs(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},J$=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,f=ce(a),h=s,p=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(($,I)=>{var{word:F,width:B}=I,K=$[$.length-1];if(K&&(r==null||i||K.width+B+n<Number(r)))K.words.push(F),K.width+=B+n;else{var J={words:[F],width:B};$.push(J)}return $},[])},g=p(t),y=z=>z.reduce((D,$)=>D.width>$.width?D:$);if(!f||i)return g;var w=g.length>a||y(g).width>Number(r);if(!w)return g;for(var b="…",S=z=>{var D=h.slice(0,z),$=lC({breakAll:d,style:c,children:D+b}).wordsWithComputedWidth,I=p($),F=I.length>a||y(I).width>Number(r);return[F,I]},j=0,_=h.length-1,N=0,E;j<=_&&N<=h.length-1;){var O=Math.floor((j+_)/2),k=O-1,[C,A]=S(k),[R]=S(O);if(!C&&!R&&(j=O+1),C&&R&&(_=O-1),!C&&R){E=A;break}N++}return E||g},Xw=e=>{var t=wt(e)?[]:e.toString().split(sC);return[{words:t}]},eB=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Ca.isSsr){var c,d,f=lC({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;c=h,d=p}else return Xw(r);return J$({breakAll:a,children:r,maxLines:s,style:i},c,d,t,n)}return Xw(r)},Qw="#808080",Bf=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=Qw}=e,h=Yw(e,Y$),p=x.useMemo(()=>eB({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:g,dy:y,angle:w,className:b,breakAll:S}=h,j=Yw(h,X$);if(!br(n)||!br(r)||p.length===0)return null;var _=n+(ce(g)?g:0),N=r+(ce(y)?y:0),E;switch(d){case"start":E=vm("calc(".concat(a,")"));break;case"middle":E=vm("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:E=vm("calc(".concat(p.length-1," * -").concat(i,")"));break}var O=[];if(s){var k=p[0].width,{width:C}=h;O.push("scale(".concat(ce(C)?C/k:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(_,", ").concat(N,")")),O.length&&(j.transform=O.join(" ")),x.createElement("text",eg({},dt(j,!0),{ref:t,x:_,y:N,className:Ce("recharts-text",b),textAnchor:c,fill:f.includes("url")?Qw:f}),p.map((A,R)=>{var z=A.words.join(S?"":" ");return x.createElement("tspan",{x:_,dy:R===0?E:i,key:"".concat(z,"-").concat(R)},z)}))});Bf.displayName="Text";var tB=["labelRef"];function nB(e,t){if(e==null)return{};var n,r,i=rB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(n),!0).forEach(function(r){iB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iB(e,t,n){return(t=aB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aB(e){var t=oB(e,"string");return typeof t=="symbol"?t:t+""}function oB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(null,arguments)}var uC=x.createContext(null),sB=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,s=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(uC.Provider,{value:s},a)},cC=()=>{var e=x.useContext(uC),t=Fv();return e||t},lB=x.createContext(null),uB=()=>{var e=x.useContext(lB),t=le(GS);return e||t},cB=e=>{var{value:t,formatter:n}=e,r=wt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Jy=e=>e!=null&&typeof e=="function",dB=(e,t)=>{var n=_t(t-e),r=Math.min(Math.abs(t-e),360);return n*r},fB=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:y}=i,w=(f+h)/2,b=dB(p,g),S=b>=0?1:-1,j,_;switch(t){case"insideStart":j=p+S*a,_=y;break;case"insideEnd":j=g-S*a,_=!y;break;case"end":j=g+S*a,_=y;break;default:throw new Error("Unsupported position ".concat(t))}_=b<=0?_:!_;var N=ot(c,d,w,j),E=ot(c,d,w,j+(_?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),k=wt(e.id)?gl("recharts-radial-line-"):e.id;return x.createElement("text",Tr({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:k,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(k)},n))},hB=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:h,y:p}=ot(r,i,s+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:y,y:w}=ot(r,i,g,f);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},dC=e=>"cx"in e&&ce(e.cx),mB=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!dC(n)&&(a=n);var{x:s,y:c,width:d,height:f}=t,h=f>=0?1:-1,p=h*r,g=h>0?"end":"start",y=h>0?"start":"end",w=d>=0?1:-1,b=w*r,S=w>0?"end":"start",j=w>0?"start":"end";if(i==="top"){var _={x:s+d/2,y:c-h*r,textAnchor:"middle",verticalAnchor:g};return Je(Je({},_),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var N={x:s+d/2,y:c+f+p,textAnchor:"middle",verticalAnchor:y};return Je(Je({},N),a?{height:Math.max(a.y+a.height-(c+f),0),width:d}:{})}if(i==="left"){var E={x:s-b,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Je(Je({},E),a?{width:Math.max(E.x-a.x,0),height:f}:{})}if(i==="right"){var O={x:s+d+b,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return Je(Je({},O),a?{width:Math.max(a.x+a.width-O.x,0),height:f}:{})}var k=a?{width:d,height:f}:{};return i==="insideLeft"?Je({x:s+b,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideRight"?Je({x:s+d-b,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideTop"?Je({x:s+d/2,y:c+p,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?Je({x:s+d/2,y:c+f-p,textAnchor:"middle",verticalAnchor:g},k):i==="insideTopLeft"?Je({x:s+b,y:c+p,textAnchor:j,verticalAnchor:y},k):i==="insideTopRight"?Je({x:s+d-b,y:c+p,textAnchor:S,verticalAnchor:y},k):i==="insideBottomLeft"?Je({x:s+b,y:c+f-p,textAnchor:j,verticalAnchor:g},k):i==="insideBottomRight"?Je({x:s+d-b,y:c+f-p,textAnchor:S,verticalAnchor:g},k):i&&typeof i=="object"&&(ce(i.x)||ta(i.x))&&(ce(i.y)||ta(i.y))?Je({x:s+$t(i.x,d),y:c+$t(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):Je({x:s+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},pB={offset:5};function ui(e){var t=Gt(e,pB),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:d,labelRef:f}=t,h=uB(),p=cC(),g=r==="center"?p:h??p,y=n||g;if(!y||wt(i)&&wt(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var w=Je(Je({},t),{},{viewBox:y});if(x.isValidElement(s)){var b=nB(w,tB);return x.cloneElement(s,b)}var S;if(typeof s=="function"){if(S=x.createElement(s,w),x.isValidElement(S))return S}else S=cB(t);var j=dC(y),_=dt(t,!0);if(j&&(r==="insideStart"||r==="insideEnd"||r==="end"))return fB(t,r,S,_,y);var N=j?hB(y,t.offset,t.position):mB(t,y);return x.createElement(Bf,Tr({ref:f,className:Ce("recharts-label",c)},_,N,{breakAll:d}),S)}ui.displayName="Label";var gB=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(ui,Tr({key:"label-implicit"},r)):br(e)?x.createElement(ui,Tr({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ui?x.cloneElement(e,Je({key:"label-implicit"},r)):x.createElement(ui,Tr({key:"label-implicit",content:e},r)):Jy(e)?x.createElement(ui,Tr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ui,Tr({},e,{key:"label-implicit"},r)):null};function vB(e){var{label:t}=e,n=cC();return gB(t,n)||null}var fC={},hC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(hC);var mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC,n=mC,r=cf;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(fC);var yB=fC.last;const xB=jr(yB);var _B=["valueAccessor"],bB=["dataKey","clockWise","id","textBreakAll"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gd.apply(null,arguments)}function e1(e,t){if(e==null)return{};var n,r,i=wB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jB=e=>Array.isArray(e.value)?xB(e.value):e.value,pC=x.createContext(void 0),PB=pC.Provider,gC=x.createContext(void 0),NB=gC.Provider;function SB(){return x.useContext(pC)}function kB(){return x.useContext(gC)}function dc(e){var{valueAccessor:t=jB}=e,n=e1(e,_B),{dataKey:r,clockWise:i,id:a,textBreakAll:s}=n,c=e1(n,bB),d=SB(),f=kB(),h=d||f;return!h||!h.length?null:x.createElement(an,{className:"recharts-label-list"},h.map((p,g)=>{var y,w=wt(r)?t(p,g):Ze(p&&p.payload,r),b=wt(a)?{}:{id:"".concat(a,"-").concat(g)};return x.createElement(ui,gd({},dt(p,!0),c,b,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:w,textBreakAll:s,viewBox:p.viewBox,key:"label-".concat(g),index:g}))}))}dc.displayName="LabelList";function vC(e){var{label:t}=e;return t?t===!0?x.createElement(dc,{key:"labelList-implicit"}):x.isValidElement(t)||Jy(t)?x.createElement(dc,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(dc,gd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var yC=e=>e.graphicalItems.polarItems,CB=H([Fe,Wl],ky),e0=H([yC,nt,CB],Oy),OB=H([e0],Ey),t0=H([OB,py],Ty),EB=H([t0,nt,e0],My),TB=H([t0,nt,e0],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=Ze(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ze(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),t1=()=>{},AB=H([nt,mk,t1,TB,t1,Ne,Fe],Dy),xC=H([nt,Ne,t0,EB,Ul,Fe,AB],Iy),MB=H([xC,nt,Xo],$y);H([nt,xC,MB,Fe],Fy);var LB={radiusAxis:{},angleAxis:{}},DB=wn({name:"polarAxis",initialState:LB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),IB=DB.reducer;function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){RB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RB(e,t,n){return(t=zB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BB=(e,t)=>t,n0=H([yC,BB],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),FB=[],r0=(e,t,n)=>(n==null?void 0:n.length)===0?FB:n,_C=H([py,n0,r0],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>r1(r1({},t.presentationProps),a.props))),i!=null)return i}}),UB=H([_C,n0,r0],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=Ze(r,t.nameKey,t.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:yf(s,t.dataKey),color:c,payload:r,type:t.legendType}})}),WB=H([_C,n0,r0,ht],(e,t,n,r)=>{if(!(t==null||e==null))return B7({offset:r,pieSettings:t,displayedData:e,cells:n})}),bC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(bC);var HB=bC.isPlainObject;const ZB=jr(HB);function i1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(n),!0).forEach(function(r){KB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KB(e,t,n){return(t=VB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd.apply(null,arguments)}var o1=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},qB={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YB=e=>{var t=Gt(e,qB),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,g=x.useRef(),[y,w]=x.useState(-1),b=x.useRef(i),S=x.useRef(a),j=x.useRef(s),_=x.useRef(n),N=x.useRef(r),E=Pf(e,"trapezoid-");if(x.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var F=g.current.getTotalLength();F&&w(F)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var O=Ce("recharts-trapezoid",c);if(!p)return x.createElement("g",null,x.createElement("path",vd({},dt(t,!0),{className:O,d:o1(n,r,i,a,s)})));var k=b.current,C=S.current,A=j.current,R=_.current,z=N.current,D="0px ".concat(y===-1?1:y,"px"),$="".concat(y,"px 0px"),I=DN(["strokeDasharray"],f,d);return x.createElement(jf,{animationId:E,key:E,canBegin:y>0,duration:f,easing:d,isActive:p,begin:h},F=>{var B=Ot(k,i,F),K=Ot(C,a,F),J=Ot(A,s,F),W=Ot(R,n,F),Q=Ot(z,r,F);g.current&&(b.current=B,S.current=K,j.current=J,_.current=W,N.current=Q);var G=F>0?{transition:I,strokeDasharray:$}:{strokeDasharray:D};return x.createElement("path",vd({},dt(t,!0),{className:O,d:o1(W,Q,B,K,J),ref:g,style:a1(a1({},G),t.style)}))})},XB=["option","shapeType","propTransformer","activeClassName","isActive"];function QB(e,t){if(e==null)return{};var n,r,i=JB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(r){e7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e7(e,t,n){return(t=t7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r7(e,t){return yd(yd({},t),e)}function i7(e,t){return e==="symbols"}function l1(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement($N,n);case"trapezoid":return x.createElement(YB,n);case"sector":return x.createElement(UN,n);case"symbols":if(i7(t))return x.createElement(xv,n);break;default:return null}}function a7(e){return x.isValidElement(e)?e.props:e}function wC(e){var{option:t,shapeType:n,propTransformer:r=r7,activeClassName:i="recharts-active-shape",isActive:a}=e,s=QB(e,XB),c;if(x.isValidElement(t))c=x.cloneElement(t,yd(yd({},s),a7(t)));else if(typeof t=="function")c=t(s);else if(ZB(t)&&typeof t!="boolean"){var d=r(t,s);c=x.createElement(l1,{shapeType:n,elementProps:d})}else{var f=s;c=x.createElement(l1,{shapeType:n,elementProps:f})}return a?x.createElement(an,{className:i},c):c}var i0=(e,t)=>{var n=Ge();return(r,i)=>a=>{e==null||e(r,i,a),n(Ek({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},a0=e=>{var t=Ge();return(n,r)=>i=>{e==null||e(n,r,i),t(Xz())}},o0=(e,t)=>{var n=Ge();return(r,i)=>a=>{e==null||e(r,i,a),n(Qz({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function jC(e){var{fn:t,args:n}=e,r=Ge(),i=Zn();return x.useEffect(()=>{if(!i){var a=t(n);return r(Gz(a)),()=>{r(qz(a))}}},[t,n,r,i]),null}var PC=()=>{};function o7(e){var{legendPayload:t}=e,n=Ge(),r=Zn();return x.useEffect(()=>r?PC:(n(TN(t)),()=>{n(AN(t))}),[n,r,t]),null}function s7(e){var{legendPayload:t}=e,n=Ge(),r=le(Ne);return x.useEffect(()=>r!=="centric"&&r!=="radial"?PC:(n(TN(t)),()=>{n(AN(t))}),[n,r,t]),null}var ym,l7=()=>{var[e]=x.useState(()=>gl("uid-"));return e},u7=(ym=GE.useId)!==null&&ym!==void 0?ym:l7;function c7(e,t){var n=u7();return t||(e?"".concat(e,"-").concat(n):n)}var d7=x.createContext(void 0),NC=e=>{var{id:t,type:n,children:r}=e,i=c7("recharts-".concat(n),t);return x.createElement(d7.Provider,{value:i},r(i))},f7={cartesianItems:[],polarItems:[]},SC=wn({name:"graphicalItems",initialState:f7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Rr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Rr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Rr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:h7,replaceCartesianGraphicalItem:m7,removeCartesianGraphicalItem:p7,addPolarGraphicalItem:g7,removePolarGraphicalItem:v7}=SC.actions,y7=SC.reducer;function x7(e){var t=Ge(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(h7(e)):n.current!==e&&t(m7({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(p7(n.current)),n.current=null)},[t]),null}function _7(e){var t=Ge();return x.useEffect(()=>(t(g7(e)),()=>{t(v7(e))}),[t,e]),null}var b7=["onMouseEnter","onClick","onMouseLeave"],w7=["id"],j7=["id"];function s0(e,t){if(e==null)return{};var n,r,i=P7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function u1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(n),!0).forEach(function(r){N7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}function C7(e){var t=x.useMemo(()=>mv(e.children,Dn),[e.children]),n=le(r=>UB(r,e.id,t));return n==null?null:x.createElement(s7,{legendPayload:n})}function O7(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:c,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:yf(c,t),hide:d,type:f,color:s,unit:""}}}var E7=(e,t)=>e>t?"start":e<t?"end":"middle",T7=(e,t,n)=>$t(typeof t=="function"?t(e):t,n,n*.8),A7=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,c=wN(a,s),d=i+$t(e.cx,a,a/2),f=r+$t(e.cy,s,s/2),h=$t(e.innerRadius,c,0),p=T7(n,e.outerRadius,c),g=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},M7=(e,t)=>{var n=_t(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function L7(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var D7=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Ce("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(LN,Oi({},t,{type:"linear",className:n}))},I7=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=Ce("recharts-pie-label-text",L7(e));return x.createElement(Bf,Oi({},t,{alignmentBaseline:"middle",className:i}),r)};function R7(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var c=Ii(n),d=dt(i,!1),f=dt(a,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((g,y)=>{var w=(g.startAngle+g.endAngle)/2,b=ot(g.cx,g.cy,g.outerRadius+h,w),S=ze(ze(ze(ze({},c),g),{},{stroke:"none"},d),{},{index:y,textAnchor:E7(b.x,g.cx)},b),j=ze(ze(ze(ze({},c),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[ot(g.cx,g.cy,g.outerRadius,w),b],key:"line"});return x.createElement(an,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},a&&D7(a,j),I7(i,S,Ze(g,s)))});return x.createElement(an,{className:"recharts-pie-labels"},p)}function z7(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(vC,{label:i}):x.createElement(R7,{sectors:t,props:n,showLabels:r})}function $7(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,a=le(ja),{onMouseEnter:s,onClick:c,onMouseLeave:d}=i,f=s0(i,b7),h=i0(s,i.dataKey),p=a0(d),g=o0(c,i.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var b=n&&String(w)===a,S=a?r:null,j=b?n:S,_=ze(ze({},y),{},{stroke:y.stroke,tabIndex:-1,[kN]:w,[CN]:i.dataKey});return x.createElement(an,Oi({tabIndex:-1,className:"recharts-pie-sector"},Ll(f,y,w),{onMouseEnter:h(y,w),onMouseLeave:p(y,w),onClick:g(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),x.createElement(wC,Oi({option:j,isActive:b,shapeType:"sector"},_)))}))}function B7(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:c,endAngle:d,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),y=M7(c,d),w=Math.abs(y),b=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(k=>Ze(k,f,0)!==0).length,j=(w>=360?S:S-1)*b,_=w-S*g-j,N=r.reduce((k,C)=>{var A=Ze(C,f,0);return k+(ce(A)?A:0)},0),E;if(N>0){var O;E=r.map((k,C)=>{var A=Ze(k,f,0),R=Ze(k,h,C),z=A7(n,a,k),D=(ce(A)?A:0)/N,$,I=ze(ze({},k),i&&i[C]&&i[C].props);C?$=O.endAngle+_t(y)*b*(A!==0?1:0):$=c;var F=$+_t(y)*((A!==0?g:0)+D*_),B=($+F)/2,K=(z.innerRadius+z.outerRadius)/2,J=[{name:R,value:A,payload:I,dataKey:f,type:p}],W=ot(z.cx,z.cy,K,B);return O=ze(ze(ze(ze({},n.presentationProps),{},{percent:D,cornerRadius:s,name:R,tooltipPayload:J,midAngle:B,middleRadius:K,tooltipPosition:W},I),z),{},{value:A,startAngle:$,endAngle:F,payload:I,paddingAngle:_t(y)*b}),O})}return E}function F7(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return x.createElement(NB,{value:t?i:void 0},r)}function U7(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=t,g=Pf(t,"recharts-pie-"),y=n.current,[w,b]=x.useState(!1),S=x.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),j=x.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return x.createElement(F7,{showLabels:!w,sectors:r},x.createElement(jf,{animationId:g,begin:a,duration:s,isActive:i,easing:c,onAnimationStart:j,onAnimationEnd:S,key:g},_=>{var N=[],E=r&&r[0],O=E==null?void 0:E.startAngle;return r==null||r.forEach((k,C)=>{var A=y&&y[C],R=C>0?ya(k,"paddingAngle",0):0;if(A){var z=Ot(A.endAngle-A.startAngle,k.endAngle-k.startAngle,_),D=ze(ze({},k),{},{startAngle:O+R,endAngle:O+z+R});N.push(D),O=D.endAngle}else{var{endAngle:$,startAngle:I}=k,F=Ot(0,$-I,_),B=ze(ze({},k),{},{startAngle:O+R,endAngle:O+F+R});N.push(B),O=B.endAngle}}),n.current=N,x.createElement(an,null,x.createElement($7,{sectors:N,activeShape:d,inactiveShape:f,allOtherPieProps:t}))}),x.createElement(z7,{showLabels:!w,sectors:r,props:t}),t.children)}var W7={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ca.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function H7(e){var{id:t}=e,n=s0(e,w7),{hide:r,className:i,rootTabIndex:a}=e,s=x.useMemo(()=>mv(e.children,Dn),[e.children]),c=le(h=>WB(h,t,s)),d=x.useRef(null),f=Ce("recharts-pie",i);return r||c==null?(d.current=null,x.createElement(an,{tabIndex:a,className:f})):x.createElement(x.Fragment,null,x.createElement(jC,{fn:O7,args:ze(ze({},e),{},{sectors:c})}),x.createElement(an,{tabIndex:a,className:f},x.createElement(U7,{props:ze(ze({},n),{},{sectors:c}),previousSectorsRef:d})))}function xd(e){var t=Gt(e,W7),{id:n}=t,r=s0(t,j7),i=Ii(r);return x.createElement(NC,{id:n,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(_7,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(C7,Oi({},r,{id:a})),x.createElement(H7,Oi({},r,{id:a}))))}xd.displayName="Pie";function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){Z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z7(e,t,n){return(t=K7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G7={xAxis:{},yAxis:{},zAxis:{}},kC=wn({name:"cartesianAxis",initialState:G7,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=d1(d1({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:q7,removeXAxis:Y7,addYAxis:X7,removeYAxis:Q7,addZAxis:SH,removeZAxis:kH,updateYAxisWidth:J7}=kC.actions,eF=kC.reducer,tF=H([ht],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nF=H([tF,qr,Yr],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),CC=()=>le(nF),rF="Invariant failed";function iF(e,t){throw new Error(rF)}var aF=["x","y"];function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(null,arguments)}function f1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(n),!0).forEach(function(r){oF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oF(e,t,n){return(t=sF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e){var t=lF(e,"string");return typeof t=="symbol"?t:t+""}function lF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uF(e,t){if(e==null)return{};var n,r,i=cF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dF(e,t){var{x:n,y:r}=e,i=uF(e,aF),a="".concat(n),s=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(t.height||i.height),h=parseInt(f,10),p="".concat(t.width||i.width),g=parseInt(p,10);return Os(Os(Os(Os(Os({},t),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function l0(e){return x.createElement(wC,tg({shapeType:"rectangle",propTransformer:dF,activeClassName:"recharts-active-bar"},e))}var fF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ce(t))return t;var a=ce(r)||wt(r);return a?t(r,i):(a||iF(),n)}},hF={},mF=wn({name:"errorBars",initialState:hF,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),pF=mF.reducer,gF=["children"];function vF(e,t){if(e==null)return{};var n,r,i=yF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_F=x.createContext(xF);function bF(e){var{children:t}=e,n=vF(e,gF);return x.createElement(_F.Provider,{value:n},t)}function OC(e,t){var n,r,i=le(f=>Qr(f,e)),a=le(f=>Jr(f,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:sn.allowDataOverflow,c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ln.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function wF(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=CC(),{needClipX:a,needClipY:s,needClip:c}=OC(t,n);if(!c)return null;var{x:d,y:f,width:h,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?d:d-h/2,y:s?f:f-p/2,width:a?h:h*2,height:s?p:p*2}))}var jF=["onMouseEnter","onMouseLeave","onClick"],PF=["value","background","tooltipPosition"],NF=["id"],SF=["onMouseEnter","onClick","onMouseLeave"];function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ei.apply(null,arguments)}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){kF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kF(e,t,n){return(t=CF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(e,t){if(e==null)return{};var n,r,i=EF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TF=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:yf(n,t),payload:e}]};function AF(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:yf(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:c}}}function MF(e){var t=le(ja),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:c,onClick:d}=a,f=_d(a,jF),h=i0(s,r),p=a0(c),g=o0(d,r);if(!i||n==null)return null;var y=dt(i,!1);return x.createElement(x.Fragment,null,n.map((w,b)=>{var{value:S,background:j,tooltipPosition:_}=w,N=_d(w,PF);if(!j)return null;var E=h(w,b),O=p(w,b),k=g(w,b),C=Wt(Wt(Wt(Wt(Wt({option:i,isActive:String(b)===t},N),{},{fill:"#eee"},j),y),Ll(f,w,b)),{},{onMouseEnter:E,onMouseLeave:O,onClick:k,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(l0,Ei({key:"background-bar-".concat(C.index)},C))}))}function LF(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,height:a.height};return Wt(Wt({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return x.createElement(PB,{value:t?i:void 0},n)}function DF(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,c=le(ja),d=le(Wk),f=n&&String(a)===c&&(d==null||s===d),h=f?n:t;return x.createElement(l0,Ei({},r,i,{isActive:f,option:h,index:a,dataKey:s}))}function IF(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(l0,Ei({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function RF(e){var{data:t,props:n}=e,r=Ii(n),i=_d(r,NF),{shape:a,dataKey:s,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=_d(n,SF),g=i0(d,s),y=a0(h),w=o0(f,s);return t?x.createElement(x.Fragment,null,t.map((b,S)=>x.createElement(an,Ei({className:"recharts-bar-rectangle"},Ll(p,b,S),{onMouseEnter:g(b,S),onMouseLeave:y(b,S),onClick:w(b,S),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(S)}),c?x.createElement(DF,{shape:a,activeBar:c,baseProps:i,entry:b,index:S,dataKey:s}):x.createElement(IF,{shape:a,baseProps:i,entry:b,index:S,dataKey:s})))):null}function zF(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,p=n.current,g=Pf(t,"recharts-bar-"),[y,w]=x.useState(!1),b=!y,S=x.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),j=x.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return x.createElement(LF,{showLabels:b,rects:r},x.createElement(jf,{animationId:g,begin:s,duration:c,isActive:a,easing:d,onAnimationEnd:S,onAnimationStart:j,key:g},_=>{var N=_===1?r:r==null?void 0:r.map((E,O)=>{var k=p&&p[O];if(k)return Wt(Wt({},E),{},{x:Ot(k.x,E.x,_),y:Ot(k.y,E.y,_),width:Ot(k.width,E.width,_),height:Ot(k.height,E.height,_)});if(i==="horizontal"){var C=Ot(0,E.height,_);return Wt(Wt({},E),{},{y:E.y+E.height-C,height:C})}var A=Ot(0,E.width,_);return Wt(Wt({},E),{},{width:A})});return _>0&&(n.current=N??null),N==null?null:x.createElement(an,null,x.createElement(RF,{props:t,data:N}))}),x.createElement(vC,{label:t.label}),t.children)}function $F(e){var t=x.useRef(null);return x.createElement(zF,{previousRectanglesRef:t,props:e})}var EC=0,BF=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ze(e,t)}};class FF extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:c,background:d,id:f}=this.props;if(t||n==null)return null;var h=Ce("recharts-bar",i),p=f;return x.createElement(an,{className:h,id:f},c&&x.createElement("defs",null,x.createElement(wF,{clipPathId:p,xAxisId:a,yAxisId:s})),x.createElement(an,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},x.createElement(MF,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),x.createElement($F,this.props)))}}var UF={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ca.isSsr,legendType:"rect",minPointSize:EC,xAxisId:0,yAxisId:0};function WF(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:p}=OC(t,n),g=Hv(),y=Zn(),w=mv(e.children,Dn),b=le(_=>v9(_,t,n,y,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var S,j=b==null?void 0:b[0];return j==null||j.height==null||j.width==null?S=0:S=g==="vertical"?j.height/2:j.width/2,x.createElement(bF,{xAxisId:t,yAxisId:n,data:b,dataPointFormatter:BF,errorBarOffset:S},x.createElement(FF,Ei({},e,{layout:g,needClip:p,data:b,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function HF(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:y,parentViewBox:w}=e,b=t==="horizontal"?c:s,S=h?b.scale.domain():null,j=v4({numericAxis:b});return p.map((_,N)=>{var E,O,k,C,A,R;h?E=d4(h[N],S):(E=Ze(_,n),Array.isArray(E)||(E=[j,E]));var z=fF(r,EC)(E[1],N);if(t==="horizontal"){var D,[$,I]=[c.scale(E[0]),c.scale(E[1])];O=pb({axis:s,ticks:d,bandSize:a,offset:i.offset,entry:_,index:N}),k=(D=I??$)!==null&&D!==void 0?D:void 0,C=i.size;var F=$-I;if(A=vn(F)?0:F,R={x:O,y:g.top,width:C,height:g.height},Math.abs(z)>0&&Math.abs(A)<Math.abs(z)){var B=_t(A||z)*(Math.abs(z)-Math.abs(A));k-=B,A+=B}}else{var[K,J]=[s.scale(E[0]),s.scale(E[1])];if(O=K,k=pb({axis:c,ticks:f,bandSize:a,offset:i.offset,entry:_,index:N}),C=J-K,A=i.size,R={x:g.left,y:k,width:g.width,height:A},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var W=_t(C||z)*(Math.abs(z)-Math.abs(C));C+=W}}if(O==null||k==null||C==null||A==null)return null;var Q=Wt(Wt({},_),{},{x:O,y:k,width:C,height:A,value:h?E:E[1],payload:_,background:R,tooltipPosition:{x:O+C/2,y:k+A/2},parentViewBox:w},y&&y[N]&&y[N].props);return Q}).filter(Boolean)}function ZF(e){var t=Gt(e,UF),n=Zn();return x.createElement(NC,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(o7,{legendPayload:TF(t)}),x.createElement(jC,{fn:AF,args:t}),x.createElement(x7,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:g4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(WF,Ei({},t,{id:r}))))}var oo=x.memo(ZF);oo.displayName="Bar";function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(r){KF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KF(e,t,n){return(t=VF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(e){var t=GF(e,"string");return typeof t=="symbol"?t:t+""}function GF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qF=(e,t)=>t,YF=(e,t,n)=>n,XF=(e,t,n,r)=>r,QF=(e,t,n,r,i)=>i,ql=H([Cy,QF],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),JF=H([ql],e=>e==null?void 0:e.maxBarSize),e9=(e,t,n,r,i,a)=>a,p1=(e,t,n)=>{var r=n??e;if(!wt(r))return $t(r,t,0)},t9=H([Ne,Cy,qF,YF,XF],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),n9=(e,t,n,r)=>{var i=Ne(e);return i==="horizontal"?qp(e,"yAxis",n,r):qp(e,"xAxis",t,r)},r9=(e,t,n)=>{var r=Ne(e);return r==="horizontal"?Cw(e,"xAxis",t):Cw(e,"yAxis",n)},i9=(e,t,n)=>{var r={},i=e.filter(Lf),a=e.filter(f=>f.stackId==null),s=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),c=Object.entries(s).map(f=>{var[h,p]=f,g=p.map(w=>w.dataKey),y=p1(t,n,p[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=a.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=p1(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...c,...d]},a9=H([t9,VR,r9],i9),o9=(e,t,n,r,i)=>{var a,s,c=ql(e,t,n,r,i);if(c!=null){var d=Ne(e),f=FS(e),{maxBarSize:h}=c,p=wt(h)?f:h,g,y;return d==="horizontal"?(g=Bo(e,"xAxis",t,r),y=$o(e,"xAxis",t,r)):(g=Bo(e,"yAxis",n,r),y=$o(e,"yAxis",n,r)),(a=(s=$v(g,y,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},TC=(e,t,n,r)=>{var i=Ne(e),a,s;return i==="horizontal"?(a=Bo(e,"xAxis",t,r),s=$o(e,"xAxis",t,r)):(a=Bo(e,"yAxis",n,r),s=$o(e,"yAxis",n,r)),$v(a,s)};function s9(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=$t(e,n,0,!0),c,d=[];if(xn(r[0].barSize)){var f=!1,h=n/a,p=r.reduce((j,_)=>j+(_.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&h>0&&(f=!0,h*=.9,p=a*h);var g=(n-p)/2>>0,y={offset:g-s,size:0};c=r.reduce((j,_)=>{var N,E={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+s,size:f?h:(N=_.barSize)!==null&&N!==void 0?N:0}},O=[...j,E];return y=O[O.length-1].position,O},d)}else{var w=$t(t,n,0,!0);n-2*w-(a-1)*s<=0&&(s=0);var b=(n-2*w-(a-1)*s)/a;b>1&&(b>>=0);var S=xn(i)?Math.min(b,i):b;c=r.reduce((j,_,N)=>[...j,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w+(b+s)*N+(b-S)/2,size:S}}],d)}return c}}var l9=(e,t,n,r,i,a,s)=>{var c=wt(s)?t:s,d=s9(n,r,i!==a?i:a,e,c);return i!==a&&d!=null&&(d=d.map(f=>Gu(Gu({},f),{},{position:Gu(Gu({},f.position),{},{offset:f.position.offset-i/2})}))),d},u9=H([a9,FS,KR,US,o9,TC,JF],l9),c9=(e,t,n,r)=>Bo(e,"xAxis",t,r),d9=(e,t,n,r)=>Bo(e,"yAxis",n,r),f9=(e,t,n,r)=>$o(e,"xAxis",t,r),h9=(e,t,n,r)=>$o(e,"yAxis",n,r),m9=H([u9,ql],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),p9=(e,t)=>{var n=Ny(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},g9=H([n9,ql],p9),v9=H([ht,Bv,c9,d9,f9,h9,m9,Ne,gy,TC,g9,ql,e9],(e,t,n,r,i,a,s,c,d,f,h,p,g)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:b}=d;if(!(p==null||s==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:S}=p,j;if(S!=null&&S.length>0?j=S:j=y==null?void 0:y.slice(w,b+1),j!=null)return HF({layout:c,barSettings:p,pos:s,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:j,offset:e,cells:g})}}),AC=e=>{var{chartData:t}=e,n=Ge(),r=Zn();return x.useEffect(()=>r?()=>{}:(n(Rw(t)),()=>{n(Rw(void 0))}),[t,n,r]),null},g1={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},y9=wn({name:"brush",initialState:g1,reducers:{setBrushSettings(e,t){return t.payload==null?g1:t.payload}}}),x9=y9.reducer;function _9(e,t,n){return(t=b9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e){var t=w9(e,"string");return typeof t=="symbol"?t:t+""}function w9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class u0{static create(t){return new u0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}_9(u0,"EPS",1e-4);function j9(e){return(e%180+180)%180}var P9=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=j9(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},N9={dots:[],areas:[],lines:[]},S9=wn({name:"referenceElements",initialState:N9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Rr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Rr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Rr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),k9=S9.reducer,C9=x.createContext(void 0),O9=e=>{var{children:t}=e,[n]=x.useState("".concat(gl("recharts"),"-clip")),r=CC();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return x.createElement(C9.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function Fo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function MC(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function E9(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return P9(r,n)}function T9(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function bd(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function A9(e,t){return MC(e,t+1)}function M9(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,h=s,p=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:MC(r,f)};var b=d,S,j=()=>(S===void 0&&(S=n(w,b)),S),_=w.coordinate,N=d===0||bd(e,_,j,h,c);N||(d=0,h=s,f+=1),N&&(h=_+e*(j()/2+i),d+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function v1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(n),!0).forEach(function(r){L9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,f=function(g){var y=a[g],w,b=()=>(w===void 0&&(w=n(y,g)),w);if(g===s-1){var S=e*(y.coordinate+e*b()/2-d);a[g]=y=It(It({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[g]=y=It(It({},y),{},{tickCoord:y.coordinate});var j=bd(e,y.tickCoord,b,c,d);j&&(d=y.tickCoord-e*(b()/2+i),a[g]=It(It({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function z9(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(a){var h=r[c-1],p=n(h,c-1),g=e*(h.coordinate+e*p/2-f);s[c-1]=h=It(It({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=bd(e,h.tickCoord,()=>p,d,f);y&&(f=h.tickCoord-e*(p/2+i),s[c-1]=It(It({},h),{},{isShow:!0}))}for(var w=a?c-1:c,b=function(_){var N=s[_],E,O=()=>(E===void 0&&(E=n(N,_)),E);if(_===0){var k=e*(N.coordinate-e*O()/2-d);s[_]=N=It(It({},N),{},{tickCoord:k<0?N.coordinate-k*e:N.coordinate})}else s[_]=N=It(It({},N),{},{tickCoord:N.coordinate});var C=bd(e,N.tickCoord,O,d,f);C&&(d=N.tickCoord+e*(O()/2+i),s[_]=It(It({},N),{},{isShow:!0}))},S=0;S<w;S++)b(S);return s}function c0(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(ce(d)||Ca.isSsr){var g;return(g=A9(i,ce(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],w=c==="top"||c==="bottom"?"width":"height",b=h&&w==="width"?Gs(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(N,E)=>{var O=typeof f=="function"?f(N.value,E):N.value;return w==="width"?E9(Gs(O,{fontSize:t,letterSpacing:n}),b,p):Gs(O,{fontSize:t,letterSpacing:n})[w]},j=i.length>=2?_t(i[1].coordinate-i[0].coordinate):1,_=T9(a,j,w);return d==="equidistantPreserveStart"?M9(j,_,S,i,s):(d==="preserveStart"||d==="preserveStartEnd"?y=z9(j,_,S,i,s,d==="preserveStartEnd"):y=R9(j,_,S,i,s),y.filter(N=>N.isShow))}var $9=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=s+d+c+(n?r:0);return Math.round(f)}return 0},B9=["axisLine","width","height","className","hide","ticks"],F9=["viewBox"],U9=["viewBox"];function ng(e,t){if(e==null)return{};var n,r,i=W9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(null,arguments)}function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(n),!0).forEach(function(r){H9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H9(e,t,n){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function V9(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=ut(ut(ut({},d),dt(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=ut(ut({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=ut(ut({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return x.createElement("line",Pa({},f,{className:Ce("recharts-cartesian-axis-line",ya(c,"className"))}))}function G9(e,t,n,r,i,a,s,c,d){var f,h,p,g,y,w,b=c?-1:1,S=e.tickSize||s,j=ce(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,g=n+ +!c*i,p=g-b*S,w=p-b*d,y=j;break;case"left":p=g=e.coordinate,h=t+ +!c*r,f=h-b*S,y=f-b*d,w=j;break;case"right":p=g=e.coordinate,h=t+ +c*r,f=h+b*S,y=f+b*d,w=j;break;default:f=h=e.coordinate,g=n+ +c*i,p=g+b*S,w=p+b*d,y=j;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:y,y:w}}}function q9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Y9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function X9(e){var{option:t,tickProps:n,value:r}=e,i,a=Ce(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,ut(ut({},n),{},{className:a}));else if(typeof t=="function")i=t(ut(ut({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ce(s,t==null?void 0:t.className)),i=x.createElement(Bf,Pa({},n,{className:s}),r)}return i}function Q9(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:s,padding:c,tickTextProps:d,orientation:f,mirror:h,x:p,y:g,width:y,height:w,tickSize:b,tickMargin:S,fontSize:j,letterSpacing:_,getTicksConfig:N,events:E}=e,O=c0(ut(ut({},N),{},{ticks:t}),j,_),k=q9(f,h),C=Y9(f,h),A=Ii(N),R=dt(n,!1),z=ut(ut({},A),{},{fill:"none"},dt(r,!1)),D=O.map(($,I)=>{var{line:F,tick:B}=G9($,p,g,y,w,f,b,h,S),K=ut(ut(ut(ut({textAnchor:k,verticalAnchor:C},A),{},{stroke:"none",fill:i},R),B),{},{index:I,payload:$,visibleTicksCount:O.length,tickFormatter:a,padding:c},d);return x.createElement(an,Pa({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Ll(E,$,I)),r&&x.createElement("line",Pa({},z,F,{className:Ce("recharts-cartesian-axis-tick-line",ya(r,"className"))})),n&&x.createElement(X9,{option:n,tickProps:K,value:"".concat(typeof a=="function"?a($.value,I):$.value).concat(s||"")}))});return D.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},D):null}var J9=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c}=e,d=ng(e,B9),[f,h]=x.useState(""),[p,g]=x.useState(""),y=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return $9({ticks:y.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(b=>{if(b){var S=b.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=Array.from(S);var j=S[0];if(j){var _=window.getComputedStyle(j),N=_.fontSize,E=_.letterSpacing;(N!==f||E!==p)&&(h(N),g(E))}}},[f,p]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(an,{className:Ce("recharts-cartesian-axis",a),ref:w},x.createElement(V9,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ii(e)}),x.createElement(Q9,{ticks:c,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:d}),x.createElement(sB,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(vB,{label:e.label}),e.children))}),eU=x.memo(J9,(e,t)=>{var{viewBox:n}=e,r=ng(e,F9),{viewBox:i}=t,a=ng(t,U9);return Fo(n,i)&&Fo(r,a)}),f0=x.forwardRef((e,t)=>{var n=Gt(e,d0);return x.createElement(eU,Pa({},n,{ref:t}))});f0.displayName="CartesianAxis";var tU=["x1","y1","x2","y2","key"],nU=["offset"],rU=["xAxisId","yAxisId"],iU=["xAxisId","yAxisId"];function x1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(n),!0).forEach(function(r){aU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aU(e,t,n){return(t=oU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oU(e){var t=sU(e,"string");return typeof t=="symbol"?t:t+""}function sU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(null,arguments)}function wd(e,t){if(e==null)return{};var n,r,i=lU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uU=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return x.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LC(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:c}=t,d=wd(t,tU),f=Ii(d),h=wd(f,nU);n=x.createElement("line",ia({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:c}))}return n}function cU(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=wd(e,rU),s=i.map((c,d)=>{var f=zt(zt({},a),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return LC(r,f)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function dU(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=wd(e,iU),s=i.map((c,d)=>{var f=zt(zt({},a),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return LC(r,f)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function fU(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var y=!f[g+1],w=y?i+s-p:f[g+1]-p;if(w<=0)return null;var b=g%t.length;return x.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:w,width:a,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function hU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var y=!f[g+1],w=y?i+s-p:f[g+1]-p;if(w<=0)return null;var b=g%n.length;return x.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var mU=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return PN(c0(zt(zt(zt({},d0),n),{},{ticks:NN(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},pU=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return PN(c0(zt(zt(zt({},d0),n),{},{ticks:NN(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},gU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function so(e){var t=Uv(),n=Wv(),r=ON(),i=zt(zt({},Gt(e,gU)),{},{x:ce(e.x)?e.x:r.left,y:ce(e.y)?e.y:r.top,width:ce(e.width)?e.width:r.width,height:ce(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:y}=i,w=Zn(),b=le(R=>Ow(R,"xAxis",a,w)),S=le(R=>Ow(R,"yAxis",s,w));if(!ce(f)||f<=0||!ce(h)||h<=0||!ce(c)||c!==+c||!ce(d)||d!==+d)return null;var j=i.verticalCoordinatesGenerator||mU,_=i.horizontalCoordinatesGenerator||pU,{horizontalPoints:N,verticalPoints:E}=i;if((!N||!N.length)&&typeof _=="function"){var O=g&&g.length,k=_({yAxis:S?zt(zt({},S),{},{ticks:O?g:S.ticks}):void 0,width:t,height:n,offset:r},O?!0:p);Vs(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(N=k)}if((!E||!E.length)&&typeof j=="function"){var C=y&&y.length,A=j({xAxis:b?zt(zt({},b),{},{ticks:C?y:b.ticks}):void 0,width:t,height:n,offset:r},C?!0:p);Vs(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(E=A)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(uU,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(fU,ia({},i,{horizontalPoints:N})),x.createElement(hU,ia({},i,{verticalPoints:E})),x.createElement(cU,ia({},i,{offset:r,horizontalPoints:N,xAxis:b,yAxis:S})),x.createElement(dU,ia({},i,{offset:r,verticalPoints:E,xAxis:b,yAxis:S})))}so.displayName="CartesianGrid";var vU=["dangerouslySetInnerHTML","ticks"],yU=["id"],xU=["domain"],_U=["domain"];function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(null,arguments)}function jd(e,t){if(e==null)return{};var n,r,i=bU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wU(e){var t=Ge();return x.useEffect(()=>(t(q7(e)),()=>{t(Y7(e))}),[e,t]),null}var jU=e=>{var{xAxisId:t,className:n}=e,r=le(Bv),i=Zn(),a="xAxis",s=le(y=>Qo(y,a,t,i)),c=le(y=>Pk(y,a,t,i)),d=le(y=>_k(y,t)),f=le(y=>zz(y,t)),h=le(y=>XS(y,t));if(d==null||f==null||h==null)return null;var p=jd(e,vU),g=jd(h,yU);return x.createElement(f0,rg({},p,g,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:Ce("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},PU={allowDataOverflow:sn.allowDataOverflow,allowDecimals:sn.allowDecimals,allowDuplicatedCategory:sn.allowDuplicatedCategory,height:sn.height,hide:!1,mirror:sn.mirror,orientation:sn.orientation,padding:sn.padding,reversed:sn.reversed,scale:sn.scale,tickCount:sn.tickCount,type:sn.type,xAxisId:0},NU=e=>{var t,n,r,i,a,s=Gt(e,PU);return x.createElement(x.Fragment,null,x.createElement(wU,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),x.createElement(jU,s))},SU=(e,t)=>{var{domain:n}=e,r=jd(e,xU),{domain:i}=t,a=jd(t,_U);return Fo(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Fo({domain:n},{domain:i}):!1},lo=x.memo(NU,SU);lo.displayName="XAxis";var kU=["dangerouslySetInnerHTML","ticks"],CU=["id"],OU=["domain"],EU=["domain"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ig.apply(null,arguments)}function Pd(e,t){if(e==null)return{};var n,r,i=TU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AU(e){var t=Ge();return x.useEffect(()=>(t(X7(e)),()=>{t(Q7(e))}),[e,t]),null}var MU=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),s=x.useRef(null),c=le(Bv),d=Zn(),f=Ge(),h="yAxis",p=le(_=>Qo(_,h,t,d)),g=le(_=>bk(_,t)),y=le(_=>Bz(_,t)),w=le(_=>Pk(_,h,t,d)),b=le(_=>QS(_,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!g||Jy(i)||x.isValidElement(i)||b==null)){var _=a.current;if(_){var N=_.getCalculatedWidth();Math.round(g.width)!==Math.round(N)&&f(J7({id:t,width:N}))}}},[w,g,f,i,t,r,b]),g==null||y==null||b==null)return null;var S=Pd(e,kU),j=Pd(b,CU);return x.createElement(f0,ig({},S,j,{ref:a,labelRef:s,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Ce("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:w}))},LU={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,hide:!1,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tickCount:ln.tickCount,type:ln.type,width:ln.width,yAxisId:0},DU=e=>{var t,n,r,i,a,s=Gt(e,LU);return x.createElement(x.Fragment,null,x.createElement(AU,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),x.createElement(MU,s))},IU=(e,t)=>{var{domain:n}=e,r=Pd(e,OU),{domain:i}=t,a=Pd(t,EU);return Fo(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Fo({domain:n},{domain:i}):!1},uo=x.memo(DU,IU);uo.displayName="YAxis";var RU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=x;function zU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $U=typeof Object.is=="function"?Object.is:zU,BU=Yl.useSyncExternalStore,FU=Yl.useRef,UU=Yl.useEffect,WU=Yl.useMemo,HU=Yl.useDebugValue;RU.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=FU(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=WU(function(){function d(y){if(!f){if(f=!0,h=y,y=r(y),i!==void 0&&s.hasValue){var w=s.value;if(i(w,y))return p=w}return p=y}if(w=p,$U(h,y))return w;var b=r(y);return i!==void 0&&i(w,b)?(h=y,w):(h=y,p=b)}var f=!1,h,p,g=n===void 0?null:n;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,n,r,i]);var c=BU(e,a[0],a[1]);return UU(function(){s.hasValue=!0,s.value=c},[c]),HU(c),c};function ZU(e){e()}function KU(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ZU(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var _1={notify(){},get:()=>[]};function VU(e,t){let n,r=_1,i=0,a=!1;function s(b){h();const S=r.subscribe(b);let j=!1;return()=>{j||(j=!0,S(),p())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return a}function h(){i++,n||(n=e.subscribe(d),r=KU())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_1)}function g(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const w={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return w}var GU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qU=GU(),YU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XU=YU(),QU=()=>qU||XU?x.useLayoutEffect:x.useEffect,JU=QU(),xm=Symbol.for("react-redux-context"),_m=typeof globalThis<"u"?globalThis:{};function eW(){if(!x.createContext)return{};const e=_m[xm]??(_m[xm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var tW=eW();function nW(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const d=VU(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);JU(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||tW;return x.createElement(c.Provider,{value:a},t)}var rW=nW,iW=(e,t)=>t,h0=H([iW,Ne,GS,pt,$k,ei,H8,ht],q8),m0=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},DC=Un("mouseClick"),IC=Il();IC.startListening({actionCreator:DC,effect:(e,t)=>{var n=e.payload,r=h0(t.getState(),m0(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Jz({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ag=Un("mouseMove"),RC=Il();RC.startListening({actionCreator:ag,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Hy(r,r.tooltip.settings.shared),a=h0(r,m0(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(Ak({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Tk()))}});var b1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zC=wn({name:"rootProps",initialState:b1,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:b1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),aW=zC.reducer,{updateOptions:oW}=zC.actions,$C=wn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:sW}=$C.actions,lW=$C.reducer,BC=Un("keyDown"),FC=Un("focus"),p0=Il();p0.startListening({actionCreator:BC,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Zy(i,es(n))),c=ei(n);if(a==="Enter"){var d=pd(n,"axis","hover",String(i.index));t.dispatch(Xp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=Hz(n),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,g=s+p*h;if(!(c==null||g>=c.length||g<0)){var y=pd(n,"axis","hover",String(g));t.dispatch(Xp({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});p0.startListening({actionCreator:FC,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=pd(n,"axis","hover",String(a));t.dispatch(Xp({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var En=Un("externalEvent"),UC=Il();UC.startListening({actionCreator:En,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:D8(n),activeDataKey:Wk(n),activeIndex:ja(n),activeLabel:Uk(n),activeTooltipIndex:ja(n),isTooltipActive:I8(n)};e.payload.handler(r,e.payload.reactEvent)}}});var uW=H([Jo],e=>e.tooltipItemPayloads),cW=H([uW,Vl,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),WC=Un("touchMove"),HC=Il();HC.startListening({actionCreator:WC,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Hy(r,r.tooltip.settings.shared);if(i==="axis"){var a=h0(r,m0({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ak({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(kN),h=(s=d.getAttribute(CN))!==null&&s!==void 0?s:void 0,p=cW(t.getState(),f,h);t.dispatch(Ek({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var dW=JP({brush:x9,cartesianAxis:eF,chartData:c$,errorBars:pF,graphicalItems:y7,layout:qD,legend:$4,options:a$,polarAxis:IB,polarOptions:lW,referenceElements:k9,rootProps:aW,tooltip:e8}),fW=function(t){return _D({reducer:dW,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([IC.middleware,RC.middleware,p0.middleware,UC.middleware,HC.middleware]),devTools:Ca.devToolsEnabled})};function ZC(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Zn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=fW(t));var s=Tv;return x.createElement(rW,{context:s,store:a.current},n)}function KC(e){var{layout:t,width:n,height:r,margin:i}=e,a=Ge(),s=Zn();return x.useEffect(()=>{s||(a(KD(t)),a(VD({width:n,height:r})),a(ZD(i)))},[a,s,t,n,r,i]),null}function VC(e){var t=Ge();return x.useEffect(()=>{t(oW(e))},[t,e]),null}var hW=["children"];function mW(e,t){if(e==null)return{};var n,r,i=pW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nd.apply(null,arguments)}var gW={width:"100%",height:"100%"},vW=x.forwardRef((e,t)=>{var n=Uv(),r=Wv(),i=MN();if(!Lo(n)||!Lo(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,f,h;return typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0,x.createElement(pv,Nd({},s,{title:c,desc:d,role:h,tabIndex:f,width:n,height:r,style:gW,ref:t}),a)}),yW=e=>{var{children:t}=e,n=le(wf);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return x.createElement(pv,{width:r,height:i,x:s,y:a},t)},w1=x.forwardRef((e,t)=>{var{children:n}=e,r=mW(e,hW),i=Zn();return i?x.createElement(yW,null,n):x.createElement(vW,Nd({ref:t},r),n)});function xW(){var e=Ge(),[t,n]=x.useState(null),r=le(P4);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;xn(a)&&a!==r&&e(GD(a))}},[t,e,r]),n}function j1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _W(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(n),!0).forEach(function(r){bW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bW(e,t,n){return(t=wW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PW=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:w,onTouchStart:b,style:S,width:j}=e,_=Ge(),[N,E]=x.useState(null),[O,k]=x.useState(null);x$();var C=xW(),A=x.useCallback(ee=>{C(ee),typeof t=="function"&&t(ee),E(ee),k(ee)},[C,t,E,k]),R=x.useCallback(ee=>{_(DC(ee)),_(En({handler:a,reactEvent:ee}))},[_,a]),z=x.useCallback(ee=>{_(ag(ee)),_(En({handler:f,reactEvent:ee}))},[_,f]),D=x.useCallback(ee=>{_(Tk()),_(En({handler:h,reactEvent:ee}))},[_,h]),$=x.useCallback(ee=>{_(ag(ee)),_(En({handler:p,reactEvent:ee}))},[_,p]),I=x.useCallback(()=>{_(FC())},[_]),F=x.useCallback(ee=>{_(BC(ee.key))},[_]),B=x.useCallback(ee=>{_(En({handler:s,reactEvent:ee}))},[_,s]),K=x.useCallback(ee=>{_(En({handler:c,reactEvent:ee}))},[_,c]),J=x.useCallback(ee=>{_(En({handler:d,reactEvent:ee}))},[_,d]),W=x.useCallback(ee=>{_(En({handler:g,reactEvent:ee}))},[_,g]),Q=x.useCallback(ee=>{_(En({handler:b,reactEvent:ee}))},[_,b]),G=x.useCallback(ee=>{_(WC(ee)),_(En({handler:w,reactEvent:ee}))},[_,w]),de=x.useCallback(ee=>{_(En({handler:y,reactEvent:ee}))},[_,y]);return x.createElement(qk.Provider,{value:N},x.createElement(aP.Provider,{value:O},x.createElement("div",{className:Ce("recharts-wrapper",r),style:_W({position:"relative",cursor:"default",width:j,height:i},S),onClick:R,onContextMenu:B,onDoubleClick:K,onFocus:I,onKeyDown:F,onMouseDown:J,onMouseEnter:z,onMouseLeave:D,onMouseMove:$,onMouseUp:W,onTouchEnd:de,onTouchMove:G,onTouchStart:Q,ref:A},n)))}),NW=["children","className","width","height","style","compact","title","desc"];function SW(e,t){if(e==null)return{};var n,r,i=kW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GC=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:c,title:d,desc:f}=e,h=SW(e,NW),p=Ii(h);return c?x.createElement(w1,{otherAttributes:p,title:d,desc:f},n):x.createElement(PW,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(w1,{otherAttributes:p,title:d,desc:f,ref:t},x.createElement(O9,null,n)))}),CW=["width","height"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(null,arguments)}function OW(e,t){if(e==null)return{};var n,r,i=EW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TW={top:5,right:5,bottom:5,left:5},AW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TW,reverseStackOrder:!1,syncMethod:"index"},MW=x.forwardRef(function(t,n){var r,i=Gt(t.categoricalChartProps,AW),{width:a,height:s}=i,c=OW(i,CW);if(!Lo(a)||!Lo(s))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:g}=t,y={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(ZC,{preloadedState:{options:y},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:d},x.createElement(AC,{chartData:g.data}),x.createElement(KC,{width:a,height:s,layout:i.layout,margin:i.margin}),x.createElement(VC,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(GC,og({},c,{width:a,height:s,ref:n})))}),LW=["axis","item"],Is=x.forwardRef((e,t)=>x.createElement(MW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LW,tooltipPayloadSearcher:Xk,categoricalChartProps:e,ref:t}));function DW(e){var t=Ge();return x.useEffect(()=>{t(sW(e))},[t,e]),null}var IW=["width","height","layout"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(null,arguments)}function RW(e,t){if(e==null)return{};var n,r,i=zW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $W={top:5,right:5,bottom:5,left:5},BW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$W,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},FW=x.forwardRef(function(t,n){var r,i=Gt(t.categoricalChartProps,BW),{width:a,height:s,layout:c}=i,d=RW(i,IW);if(!Lo(a)||!Lo(s))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g}=t,y={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return x.createElement(ZC,{preloadedState:{options:y},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},x.createElement(AC,{chartData:i.data}),x.createElement(KC,{width:a,height:s,layout:c,margin:i.margin}),x.createElement(VC,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(DW,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(GC,sg({width:a,height:s},d,{ref:n})))}),UW=["item"],WW={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lg=x.forwardRef((e,t)=>{var n=Gt(e,WW);return x.createElement(FW,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:UW,tooltipPayloadSearcher:Xk,categoricalChartProps:n,ref:t})});const g0=({open:e,title:t,onClose:n,children:r})=>e?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:n}),l.jsxs("div",{className:"relative bg-white w-[95vw] max-w-3xl max-h-[85vh] rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200 bg-gray-50",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-900",children:t}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 px-2 py-1",children:"✕"})]}),l.jsx("div",{className:"p-5 overflow-auto",children:r})]})]}):null,qu=["#0ea5e9","#22c55e","#f59e0b","#f43f5e","#6366f1","#14b8a6","#a78bfa","#06b6d4"],bm={gender:"Gender",elderly:"Elderly vs Non‑Elderly",critical:"Critical vs Non‑Critical",pregnant:"Pregnancy Status"},HW=({patients:e})=>{const[t,n]=x.useState("gender"),[r,i]=x.useState("bar"),[a,s]=x.useState(!1),[c,d]=x.useState(""),[f,h]=x.useState([]),p=x.useMemo(()=>{const b={};if(t==="gender")for(const S of e){const j=S.gender||"unknown";b[j]=(b[j]||0)+1}else if(t==="elderly")for(const S of e){const j=S.patient_categories.elderly?"Elderly":"Non‑Elderly";b[j]=(b[j]||0)+1}else if(t==="critical")for(const S of e){const j=S.patient_categories.critical?"Critical":"Non‑Critical";b[j]=(b[j]||0)+1}else if(t==="pregnant"){const S=Date.now(),j=42*24*60*60*1e3;for(const _ of e){if(_.pregnancy_status==="pregnant"||_.patient_categories.pregnant){b.Pregnant=(b.Pregnant||0)+1;continue}if(_.pregnancy_status==="postpartum"){const N=_.delivery_date?new Date(_.delivery_date).getTime():NaN;!Number.isNaN(N)&&S-N<=j&&(b["Recently Delivered"]=(b["Recently Delivered"]||0)+1)}}}return Object.entries(b).map(([S,j])=>({name:S,count:j}))},[e,t]),g=e.length,y=b=>{if(t==="gender"){const S=b.toLowerCase();return e.filter(j=>(j.gender||"other").toLowerCase()===S)}if(t==="elderly"){const S=b==="Elderly";return e.filter(j=>!!j.patient_categories.elderly===S)}if(t==="critical"){const S=b==="Critical";return e.filter(j=>!!j.patient_categories.critical===S)}if(t==="pregnant"){const S=Date.now(),j=42*24*60*60*1e3;if(b==="Pregnant")return e.filter(_=>_.pregnancy_status==="pregnant"||_.patient_categories.pregnant);if(b==="Recently Delivered")return e.filter(_=>{if(_.pregnancy_status!=="postpartum")return!1;const N=_.delivery_date?new Date(_.delivery_date).getTime():NaN;return!Number.isNaN(N)&&S-N<=j})}return[]},w=b=>{const S=y(b);d(`${bm[t]} • ${b} (${S.length})`),h(S),s(!0)};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Patient Overview"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[bm[t]," • Total: ",g]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{value:t,onChange:b=>n(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"gender",children:"Gender"}),l.jsx("option",{value:"elderly",children:"Elderly"}),l.jsx("option",{value:"critical",children:"Critical"}),l.jsx("option",{value:"pregnant",children:"Pregnancy"})]}),l.jsxs("div",{className:"inline-flex rounded-lg overflow-hidden border border-gray-300",children:[l.jsx("button",{className:`px-3 py-2 text-sm ${r==="bar"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>i("bar"),children:"Bar"}),l.jsx("button",{className:`px-3 py-2 text-sm border-l border-gray-300 ${r==="pie"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>i("pie"),children:"Pie"})]})]})]}),l.jsx("div",{className:"h-72",children:p.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 text-sm",children:"No data"}):r==="bar"?l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(Is,{data:p,margin:{top:10,right:20,left:0,bottom:0},children:[l.jsx(so,{strokeDasharray:"3 3"}),l.jsx(lo,{dataKey:"name",tick:{fontSize:12}}),l.jsx(uo,{allowDecimals:!1,tick:{fontSize:12}}),l.jsx(si,{}),l.jsx(ba,{}),l.jsx(oo,{dataKey:"count",name:bm[t],radius:[4,4,0,0],onClick:b=>{var S;return w((S=b==null?void 0:b.payload)==null?void 0:S.name)},children:p.map((b,S)=>l.jsx(Dn,{fill:qu[S%qu.length]},`bar-${S}`))})]})}):l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(lg,{children:[l.jsx(si,{}),l.jsx(ba,{}),l.jsx(xd,{data:p,dataKey:"count",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,onClick:b=>w(b==null?void 0:b.name),children:p.map((b,S)=>l.jsx(Dn,{fill:qu[S%qu.length]},`pie-${S}`))})]})})}),l.jsx(g0,{open:a,title:c,onClose:()=>s(!1),children:f.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No matching patients."}):l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-600",children:[l.jsx("th",{className:"py-2 pr-4",children:"Name"}),l.jsx("th",{className:"py-2 pr-4",children:"Gender"}),l.jsx("th",{className:"py-2 pr-4",children:"Doctor"}),l.jsx("th",{className:"py-2 pr-4",children:"MRN"})]})}),l.jsx("tbody",{children:f.map(b=>l.jsxs("tr",{className:"border-t border-gray-100",children:[l.jsx("td",{className:"py-2 pr-4 text-gray-900",children:b.name}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:b.gender}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:b.assigned_doctor}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:b.medical_record_number})]},b.id))})]})})})]})},On=["#0ea5e9","#22c55e","#f59e0b","#f43f5e","#6366f1","#14b8a6","#a78bfa","#06b6d4"],Za=({title:e,subtitle:t,children:n})=>l.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-5",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:e}),t&&l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:t})]}),l.jsx("div",{className:"h-56",children:n})]});function ZW(e){if(!e)return null;const t=parseFloat(String(e).replace(/[^0-9.]/g,""));return Number.isFinite(t)?t:null}const KW=({patients:e})=>{const[t,n]=x.useState(!1),[r,i]=x.useState(""),[a,s]=x.useState([]),c=x.useMemo(()=>{const O={male:0,female:0,other:0};for(const k of e){const C=(k.gender||"other").toLowerCase();O[C]=(O[C]||0)+1}return Object.entries(O).map(([k,C])=>({name:k[0].toUpperCase()+k.slice(1),value:C}))},[e]),d=x.useMemo(()=>{let O=0,k=0;for(const C of e)C.patient_categories.elderly?O++:k++;return[{name:"Elderly",value:O},{name:"Non‑Elderly",value:k}]},[e]),f=x.useMemo(()=>{let O=0,k=0;for(const C of e)C.patient_categories.critical?O++:k++;return[{name:"Critical",value:O},{name:"Non‑Critical",value:k}]},[e]),h=x.useMemo(()=>{let O=0,k=0;const C=Date.now(),A=42*24*60*60*1e3;for(const R of e){const z=R.pregnancy_status;if(z==="pregnant"||R.patient_categories.pregnant){O++;continue}if(z==="postpartum"){const D=R.delivery_date?new Date(R.delivery_date).getTime():NaN;!Number.isNaN(D)&&C-D<=A&&k++}}return[{name:"Pregnant",value:O},{name:"Recently Delivered",value:k}]},[e]),p=x.useMemo(()=>{const O={Underweight:0,Normal:0,Overweight:0,Obese:0};for(const k of e){const C=ZW(k.bmi);C!=null&&(C<18.5?O.Underweight++:C<25?O.Normal++:C<30?O.Overweight++:O.Obese++)}return Object.entries(O).map(([k,C])=>({name:k,count:C}))},[e]),g=x.useMemo(()=>{const O={};for(const C of e){const A=(C.assigned_doctor||"Unassigned").split("-")[0].trim();O[A]=(O[A]||0)+1}const k=Object.entries(O).map(([C,A])=>({name:C,count:A}));return k.sort((C,A)=>A.count-C.count),k.slice(0,6)},[e]),y=(O,k)=>{i(`${O} (${k.length})`),s(k),n(!0)},w=O=>e.filter(k=>(k.gender||"other").toLowerCase()===O.toLowerCase()),b=O=>e.filter(k=>!!k.patient_categories.elderly==(O==="Elderly")),S=O=>e.filter(k=>!!k.patient_categories.critical==(O==="Critical")),j=O=>{const k=Date.now(),C=42*24*60*60*1e3;return O==="Pregnant"?e.filter(A=>A.pregnancy_status==="pregnant"||A.patient_categories.pregnant):O==="Recently Delivered"?e.filter(A=>{if(A.pregnancy_status!=="postpartum")return!1;const R=A.delivery_date?new Date(A.delivery_date).getTime():NaN;return!Number.isNaN(R)&&k-R<=C}):[]},_=O=>{const k=parseFloat(String(O.bmi||"").replace(/[^0-9.]/g,""));return Number.isFinite(k)?k:null},N=O=>e.filter(k=>{const C=_(k);return C==null?!1:O==="Underweight"?C<18.5:O==="Normal"?C>=18.5&&C<25:O==="Overweight"?C>=25&&C<30:O==="Obese"?C>=30:!1}),E=O=>e.filter(k=>(k.assigned_doctor||"Unassigned").split("-")[0].trim()===O);return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[l.jsx(Za,{title:"Gender Distribution",subtitle:"Patients by gender",children:l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(lg,{children:[l.jsx(si,{}),l.jsx(ba,{}),l.jsx(xd,{data:c,dataKey:"value",nameKey:"name",innerRadius:45,outerRadius:80,paddingAngle:2,onClick:O=>y(`Gender: ${O==null?void 0:O.name}`,w(O==null?void 0:O.name)),children:c.map((O,k)=>l.jsx(Dn,{fill:On[k%On.length]},k))})]})})}),l.jsx(Za,{title:"Elderly Status",subtitle:"Elderly vs non‑elderly",children:l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(Is,{data:d,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsx(so,{strokeDasharray:"3 3"}),l.jsx(lo,{dataKey:"name",tick:{fontSize:12}}),l.jsx(uo,{allowDecimals:!1,tick:{fontSize:12}}),l.jsx(si,{}),l.jsx(oo,{dataKey:"value",radius:[6,6,0,0],onClick:O=>{var k,C;return y(`Elderly: ${(k=O==null?void 0:O.payload)==null?void 0:k.name}`,b((C=O==null?void 0:O.payload)==null?void 0:C.name))},children:d.map((O,k)=>l.jsx(Dn,{fill:On[k%On.length]},k))})]})})}),l.jsx(Za,{title:"Criticality",subtitle:"Critical vs non‑critical",children:l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(Is,{data:f,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsx(so,{strokeDasharray:"3 3"}),l.jsx(lo,{dataKey:"name",tick:{fontSize:12}}),l.jsx(uo,{allowDecimals:!1,tick:{fontSize:12}}),l.jsx(si,{}),l.jsx(oo,{dataKey:"value",radius:[6,6,0,0],onClick:O=>{var k,C;return y(`Criticality: ${(k=O==null?void 0:O.payload)==null?void 0:k.name}`,S((C=O==null?void 0:O.payload)==null?void 0:C.name))},children:f.map((O,k)=>l.jsx(Dn,{fill:On[(k+3)%On.length]},k))})]})})}),l.jsx(Za,{title:"Pregnancy",subtitle:"Pregnant vs recently delivered",children:l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(lg,{children:[l.jsx(si,{}),l.jsx(ba,{}),l.jsx(xd,{data:h,dataKey:"value",nameKey:"name",innerRadius:45,outerRadius:80,paddingAngle:2,onClick:O=>y(`Pregnancy: ${O==null?void 0:O.name}`,j(O==null?void 0:O.name)),children:h.map((O,k)=>l.jsx(Dn,{fill:On[(k+4)%On.length]},k))})]})})}),l.jsx(Za,{title:"BMI Categories",subtitle:"Underweight/Normal/Overweight/Obese",children:l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(Is,{data:p,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsx(so,{strokeDasharray:"3 3"}),l.jsx(lo,{dataKey:"name",tick:{fontSize:12}}),l.jsx(uo,{allowDecimals:!1,tick:{fontSize:12}}),l.jsx(si,{}),l.jsx(oo,{dataKey:"count",radius:[6,6,0,0],onClick:O=>{var k,C;return y(`BMI: ${(k=O==null?void 0:O.payload)==null?void 0:k.name}`,N((C=O==null?void 0:O.payload)==null?void 0:C.name))},children:p.map((O,k)=>l.jsx(Dn,{fill:On[(k+1)%On.length]},k))})]})})}),l.jsx(Za,{title:"Patients per Doctor",subtitle:"Top providers by assigned patients",children:l.jsx(li,{width:"100%",height:"100%",children:l.jsxs(Is,{data:g,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsx(so,{strokeDasharray:"3 3"}),l.jsx(lo,{dataKey:"name",tick:{fontSize:11},interval:0,angle:-15,height:50}),l.jsx(uo,{allowDecimals:!1,tick:{fontSize:12}}),l.jsx(si,{}),l.jsx(oo,{dataKey:"count",radius:[6,6,0,0],onClick:O=>{var k,C;return y(`Doctor: ${(k=O==null?void 0:O.payload)==null?void 0:k.name}`,E((C=O==null?void 0:O.payload)==null?void 0:C.name))},children:g.map((O,k)=>l.jsx(Dn,{fill:On[(k+2)%On.length]},k))})]})})}),l.jsx(g0,{open:t,title:r,onClose:()=>n(!1),children:a.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No matching patients."}):l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-600",children:[l.jsx("th",{className:"py-2 pr-4",children:"Name"}),l.jsx("th",{className:"py-2 pr-4",children:"Gender"}),l.jsx("th",{className:"py-2 pr-4",children:"Doctor"}),l.jsx("th",{className:"py-2 pr-4",children:"MRN"})]})}),l.jsx("tbody",{children:a.map(O=>l.jsxs("tr",{className:"border-t border-gray-100",children:[l.jsx("td",{className:"py-2 pr-4 text-gray-900",children:O.name}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:O.gender}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:O.assigned_doctor}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:O.medical_record_number})]},O.id))})]})})})]})},VW=()=>{const e=(n,r)=>{try{const i=localStorage.getItem(n);if(!i){alert(`No data found for ${n}`);return}const a=JSON.parse(i),s=`export const ${n.replace("dummy","").toLowerCase()} = ${JSON.stringify(a,null,2)};`,c=new Blob([s],{type:"text/javascript"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=r,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}catch(i){console.error("Error exporting data:",i),alert("Error exporting data")}},t=()=>{try{const n=localStorage.getItem("dummyMessages"),r=localStorage.getItem("dummyPatientProfiles"),i=localStorage.getItem("dummyTasks"),a=localStorage.getItem("dummyAnnouncements"),s=localStorage.getItem("dummyUsers"),c=localStorage.getItem("dummyDailyRecords"),d={dummyMessages:n?JSON.parse(n):[],dummyPatientProfiles:r?JSON.parse(r):[],dummyTasks:i?JSON.parse(i):[],dummyAnnouncements:a?JSON.parse(a):[],dummyUsers:s?JSON.parse(s):[],dummyDailyRecords:c?JSON.parse(c):[]},f=`export interface DummyUser {
  id: string;
  email: string;
  password: string;
  full_name: string;
  role: 'doctor' | 'patient' | 'volunteer';
  created_at: string;
}

export interface DummyPatientProfile {
  id: string;
  user_id: string;
  // Basic Information
  name: string;
  doe: string;
  gender: 'male' | 'female' | 'other';
  address: string;
  caregivers_contact: string;
  assigned_doctor: string;
  last_record_date: string;
  today_date: string;
  assigned_vhv_name: string;
  medical_record_number: string;
  
  // Medical Information
  patient_categories: {
    critical: boolean;
    elderly: boolean;
    pregnant: boolean;
  };
  personal_health_history: string;
  doctor_diagnosed: string;
  medications_history: string;
  food_allergies: string;
  medication_allergies: string;
  height: string;
  weight: string;
  bmi: string;
  temperature: string;
  pulse: string;
  blood_pressure: string;
  diabetes: string;
  mental_health_status: string;
  other_symptoms: string;
  pregnancy_details: string;
  smoker: boolean;
  doctors_note: string;
  
  created_by: string;
  created_at: string;
  updated_at: string;
}

export interface DummyMessage {
  id: string;
  sender_id: string;
  recipient_id: string;
  subject: string;
  content: string;
  image_url?: string;
  image_name?: string;
  is_read: boolean;
  created_at: string;
}

export interface DummyTask {
  id: string;
  title: string;
  description: string;
  priority: 'low' | 'medium' | 'high' | 'urgent';
  status: 'pending' | 'in_progress' | 'completed' | 'cancelled';
  assigned_to: string;
  assigned_by: string;
  patient_id?: string;
  due_date?: string;
  created_at: string;
  updated_at: string;
  completed_at?: string;
}

export interface DummyAnnouncement {
  id: string;
  title: string;
  content: string;
  priority: 'low' | 'medium' | 'high' | 'urgent';
  created_by: string;
  created_at: string;
  updated_at: string;
}

export interface DummyDailyRecord {
  id: string;
  patient_id: string;
  recorded_by: string;
  record_date: string;
  
  // Vital Signs
  temperature?: string;
  pulse?: string;
  blood_pressure?: string;
  weight?: string;
  blood_sugar?: string;
  oxygen_saturation?: string;
  
  // Symptoms
  pain_level?: number;
  fatigue_level?: number;
  mood?: 'excellent' | 'good' | 'fair' | 'poor' | 'very_poor';
  appetite?: 'excellent' | 'good' | 'fair' | 'poor' | 'very_poor';
  sleep_quality?: 'excellent' | 'good' | 'fair' | 'poor' | 'very_poor';
  
  // Additional Information
  symptoms_description?: string;
  medications_taken?: string;
  activities?: string;
  notes?: string;
  
  created_at: string;
  updated_at: string;
}

// Dummy Users
export const dummyUsers: DummyUser[] = ${JSON.stringify(d.dummyUsers,null,2)};

// Dummy Patient Profiles
export const dummyPatientProfiles: DummyPatientProfile[] = ${JSON.stringify(d.dummyPatientProfiles,null,2)};

// Dummy Tasks
export const dummyTasks: DummyTask[] = ${JSON.stringify(d.dummyTasks,null,2)};

// Dummy Messages
export const dummyMessages: DummyMessage[] = ${JSON.stringify(d.dummyMessages,null,2)};

// Dummy Announcements
export const dummyAnnouncements: DummyAnnouncement[] = ${JSON.stringify(d.dummyAnnouncements,null,2)};

// Dummy Daily Records
export const dummyDailyRecords: DummyDailyRecord[] = ${JSON.stringify(d.dummyDailyRecords,null,2)};

// Helper functions to simulate database operations
export const generateId = () => {
  return 'id-' + Math.random().toString(36).substr(2, 9);
};

export const getCurrentTimestamp = () => {
  return new Date().toISOString();
};`,h=new Blob([f],{type:"text/javascript"}),p=URL.createObjectURL(h),g=document.createElement("a");g.href=p,g.download="dummyData.ts",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p),alert("Complete dummyData.ts file downloaded! Replace the existing file in src/data/ with this updated version.")}catch(n){console.error("Error exporting all data:",n),alert("Error exporting data")}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(wM,{className:"w-5 h-5"}),l.jsx("span",{children:"Export Data to Files"})]}),l.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Download updated dummy data files with all your changes. Replace the original files in your project."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:t,className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2 transition-colors",children:[l.jsx(Wa,{className:"w-5 h-5"}),l.jsx("span",{children:"Download Complete dummyData.ts"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>e("dummyMessages","messages.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[l.jsx(Wa,{className:"w-4 h-4"}),l.jsx("span",{children:"Messages"})]}),l.jsxs("button",{onClick:()=>e("dummyPatientProfiles","patients.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[l.jsx(Wa,{className:"w-4 h-4"}),l.jsx("span",{children:"Patients"})]}),l.jsxs("button",{onClick:()=>e("dummyTasks","tasks.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[l.jsx(Wa,{className:"w-4 h-4"}),l.jsx("span",{children:"Tasks"})]}),l.jsxs("button",{onClick:()=>e("dummyAnnouncements","announcements.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[l.jsx(Wa,{className:"w-4 h-4"}),l.jsx("span",{children:"Announcements"})]}),l.jsxs("button",{onClick:()=>e("dummyDailyRecords","daily-records.js"),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm transition-colors",children:[l.jsx(Wa,{className:"w-4 h-4"}),l.jsx("span",{children:"Daily Records"})]})]})]}),l.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("p",{className:"text-yellow-800 text-xs",children:[l.jsx("strong",{children:"Note:"})," After downloading, manually replace the files in your project's src/data/ folder to make the changes permanent."]})})]})},Ka=()=>{const{user:e}=Ye(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,s]=x.useState(!0),[c,d]=x.useState(!1),[f,h]=x.useState(null),[p,g]=x.useState(null),[y,w]=x.useState(!1),b=async()=>{if(e!=null&&e.id)try{const{data:F,error:B}=await Tl(e.id);B?console.error("Error fetching patient profile:",B):g(F)}catch(F){console.error("Error fetching patient profile:",F)}},S=async()=>{if(!p){alert("Patient profile not found. Please contact emergency services directly.");return}w(!0);try{const{data:F,error:B}=await Di();if(B||!F)throw new Error("Unable to find healthcare providers");const K=F.filter(Q=>Q.role==="doctor"||Q.role==="volunteer");if(K.length===0)throw new Error("No healthcare providers available");const J=`🚨 EMERGENCY - Immediate Assistance Needed

Patient: ${p.full_name}
Medical Record: ${p.medical_record_number}
Phone: ${p.phone_number}
Address: ${p.address}

Medical Conditions:
- Critical: ${p.patient_categories.critical?"Yes":"No"}
- Elderly: ${p.patient_categories.elderly?"Yes":"No"}
- Pregnant: ${p.patient_categories.pregnant?"Yes":"No"}
- Chronic Disease: ${p.patient_categories.chronic_disease?"Yes":"No"}
- Disability: ${p.patient_categories.disability?"Yes":"No"}

Emergency Contact: ${p.emergency_contact_name} - ${p.emergency_contact_phone}

This is an urgent request for immediate medical assistance. Please respond as soon as possible.`,W=K.map(Q=>lv({sender_id:e.id,recipient_id:Q.id,content:J,subject:"🚨 EMERGENCY - Immediate Assistance Needed",priority:"urgent"}));await Promise.all(W),alert(`Emergency message sent successfully to ${K.length} healthcare provider(s). They will be notified immediately.`)}catch(F){console.error("Error sending emergency message:",F),alert("Failed to send emergency message. Please call emergency services directly or try again.")}finally{w(!1)}};x.useEffect(()=>{j(),(e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer"?_():(e==null?void 0:e.role)==="patient"&&b()},[]);const j=async()=>{try{const{data:F,error:B}=await WM();B?console.error("Error fetching announcements:",B):n(F||[])}catch(F){console.error("Error fetching announcements:",F)}finally{s(!1)}},_=async()=>{try{const{data:F,error:B}=await Zo();B?console.error("Error fetching patients:",B):i(F||[])}catch(F){console.error("Error fetching patients:",F)}finally{s(!1)}},N=F=>{h(F),d(!0)},E=async F=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{const{error:B}=await KM(F);B?console.error("Error deleting announcement:",B):j()}catch(B){console.error("Error deleting announcement:",B)}},O=()=>{d(!1),h(null)},k=()=>{j()},C=()=>{switch(e==null?void 0:e.role){case"doctor":return"Welcome to your medical dashboard. Manage patient records and communications.";case"volunteer":return"Welcome to your volunteer dashboard. Help manage patient information and provide support.";case"patient":return"Welcome to your patient portal. View your medical information and communicate with your healthcare team.";default:return"Welcome to MedConnect Portal."}},A=()=>{const F=r.filter(W=>W.patient_categories.critical).length,B=r.filter(W=>W.patient_categories.elderly).length,K=r.filter(W=>W.patient_categories.pregnant).length,J=r.length;return{critical:F,elderly:B,pregnant:K,total:J}},z=(()=>{switch(e==null?void 0:e.role){case"doctor":case"volunteer":return[{icon:qh,title:"Patient Management",description:"View and manage patient profiles",action:"patients"},{icon:yo,title:"Messages",description:"Communicate with patients and colleagues",action:"messages"},{icon:pi,title:"Create Profile",description:"Add new patient information",action:"create-patient"},{icon:Ks,title:"Task Management",description:"Create and manage tasks",action:"tasks"},{icon:Oo,title:"Daily Records",description:"View patient daily records and symptoms",action:"records"},{icon:sv,title:"Geographic Map",description:"View location-based information",action:"map"}];case"patient":return[{icon:pi,title:"My Profile",description:"View your medical information",action:"profile"},{icon:Oo,title:"Daily Records",description:"Track your daily symptoms and vital signs",action:"records"},{icon:yo,title:"Messages",description:"Communicate with your healthcare team",action:"messages"},{icon:xr,title:"Health Resources",description:"Access helpful health information",action:"resources"},{icon:yo,title:"Appointments",description:"View and request appointments",action:"appointments"}];default:return[]}})(),D=A(),$=F=>{switch(F){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=F=>{switch(F){case"urgent":return l.jsx(Ni,{className:"w-4 h-4"});case"high":return l.jsx(Ni,{className:"w-4 h-4"});default:return l.jsx(uc,{className:"w-4 h-4"})}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Good ",new Date().getHours()<12?"morning":new Date().getHours()<17?"afternoon":"evening",", ",e==null?void 0:e.full_name]}),l.jsx("p",{className:"text-gray-600",children:C()})]}),(e==null?void 0:e.role)==="doctor"&&l.jsxs(l.Fragment,{children:[l.jsx(HW,{patients:r}),l.jsx(KW,{patients:r})]}),((e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer")&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(qh,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.total}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Patients"})]})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:l.jsx(Ni,{className:"w-6 h-6 text-red-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.critical}),l.jsx("p",{className:"text-sm text-gray-600",children:"Critical Patients"})]})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:l.jsx(qh,{className:"w-6 h-6 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.elderly}),l.jsx("p",{className:"text-sm text-gray-600",children:"Elderly Patients"})]})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:l.jsx(xr,{className:"w-6 h-6 text-pink-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.pregnant}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pregnant Patients"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(e==null?void 0:e.role)==="patient"&&l.jsx("div",{className:"md:col-span-2 lg:col-span-3 mb-4",children:l.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:l.jsx($c,{className:"w-8 h-8 text-red-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-red-800",children:"Emergency Assistance"}),l.jsx("p",{className:"text-red-700 text-sm",children:"Need immediate medical help? Click to send an urgent message to your healthcare team."}),l.jsx("p",{className:"text-red-600 text-xs mt-1",children:"For life-threatening emergencies, call emergency services immediately."})]})]}),l.jsx("button",{onClick:S,disabled:y||!p,className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 flex items-center space-x-2 font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 active:scale-95",children:y?l.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx($c,{className:"w-6 h-6"}),l.jsx("span",{children:"EMERGENCY"})]})})]})})}),z.map((F,B)=>{const K=F.icon;return l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all cursor-pointer group",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg group-hover:bg-blue-200 transition-colors",children:l.jsx(K,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:F.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F.description})]})]})},B)})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[l.jsx(uc,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{children:"Announcements"})]}),(e==null?void 0:e.role)==="doctor"&&l.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[l.jsx(Wr,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Announcement"})]})]}),a?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"w-6 h-6 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):t.length>0?l.jsx("div",{className:"space-y-4",children:t.slice(0,3).map(F=>{var B;return l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-all",children:l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:F.title}),l.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border flex items-center space-x-1 ${$(F.priority)}`,children:[I(F.priority),l.jsx("span",{children:F.priority.charAt(0).toUpperCase()+F.priority.slice(1)})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:F.content}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[l.jsxs("span",{children:["By: ",(B=F.created_by_user)==null?void 0:B.full_name]}),l.jsx("span",{children:new Date(F.created_at).toLocaleDateString()})]})]}),(e==null?void 0:e.role)==="doctor"&&l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>N(F),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Announcement",children:l.jsx(W2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>E(F.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Announcement",children:l.jsx(Vd,{className:"w-4 h-4"})})]})]})},F.id)})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(uc,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"No announcements to display."}),(e==null?void 0:e.role)==="doctor"&&l.jsx("p",{className:"text-sm mt-1",children:"Create your first announcement to keep everyone informed."})]})]}),l.jsx(VW,{}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(xr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"No recent activity to display."}),l.jsx("p",{className:"text-sm mt-1",children:"Start by exploring the available features above."})]})]})]}),c&&l.jsx(nL,{announcement:f,onClose:O,onSuccess:k})]})};function qC(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function YC(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const GW=1;function qW(e){return Object.freeze({__version:GW,map:e})}function v0(e,t){return Object.freeze({...e,...t})}const XC=x.createContext(null),QC=XC.Provider;function Ff(){const e=x.useContext(XC);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function JC(e){function t(n,r){const{instance:i,context:a}=e(n).current;return x.useImperativeHandle(r,()=>i),n.children==null?null:fc.createElement(QC,{value:a},n.children)}return x.forwardRef(t)}function YW(e){function t(n,r){const[i,a]=x.useState(!1),{instance:s}=e(n,a).current;x.useImperativeHandle(r,()=>s),x.useEffect(function(){i&&s.update()},[s,i,n.children]);const c=s._contentNode;return c?Hd.createPortal(n.children,c):null}return x.forwardRef(t)}function XW(e){function t(n,r){const{instance:i}=e(n).current;return x.useImperativeHandle(r,()=>i),null}return x.forwardRef(t)}function y0(e,t){const n=x.useRef();x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Uf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function QW(e,t){return function(r,i){const a=Ff(),s=e(Uf(r,a),a);return qC(a.map,r.attribution),y0(s.current,r.eventHandlers),t(s.current,a,r,i),s}}var ug={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(AE,function(n){var r="1.9.4";function i(o){var u,m,v,P;for(m=1,v=arguments.length;m<v;m++){P=arguments[m];for(u in P)o[u]=P[u]}return o}var a=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function s(o,u){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var v=m.call(arguments,2);return function(){return o.apply(u,v.length?v.concat(m.call(arguments)):arguments)}}var c=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function f(o,u,m){var v,P,T,M;return M=function(){v=!1,P&&(T.apply(m,P),P=!1)},T=function(){v?P=arguments:(o.apply(m,arguments),setTimeout(M,u),v=!0)},T}function h(o,u,m){var v=u[1],P=u[0],T=v-P;return o===v&&m?o:((o-P)%T+T)%T+P}function p(){return!1}function g(o,u){if(u===!1)return o;var m=Math.pow(10,u===void 0?6:u);return Math.round(o*m)/m}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function w(o){return y(o).split(/\s+/)}function b(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var m in u)o.options[m]=u[m];return o.options}function S(o,u,m){var v=[];for(var P in o)v.push(encodeURIComponent(m?P.toUpperCase():P)+"="+encodeURIComponent(o[P]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function _(o,u){return o.replace(j,function(m,v){var P=u[v];if(P===void 0)throw new Error("No value provided for variable "+m);return typeof P=="function"&&(P=P(u)),P})}var N=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function E(o,u){for(var m=0;m<o.length;m++)if(o[m]===u)return m;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var C=0;function A(o){var u=+new Date,m=Math.max(0,16-(u-C));return C=u+m,window.setTimeout(o,m)}var R=window.requestAnimationFrame||k("RequestAnimationFrame")||A,z=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function D(o,u,m){if(m&&R===A)o.call(u);else return R.call(window,s(o,u))}function $(o){o&&z.call(window,o)}var I={__proto__:null,extend:i,create:a,bind:s,get lastId(){return c},stamp:d,throttle:f,wrapNum:h,falseFn:p,formatNum:g,trim:y,splitWords:w,setOptions:b,getParamString:S,template:_,isArray:N,indexOf:E,emptyImageUrl:O,requestFn:R,cancelFn:z,requestAnimFrame:D,cancelAnimFrame:$};function F(){}F.extend=function(o){var u=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,v=a(m);v.constructor=u,u.prototype=v;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(u[P]=this[P]);return o.statics&&i(u,o.statics),o.includes&&(B(o.includes),i.apply(null,[v].concat(o.includes))),i(v,o),delete v.statics,delete v.includes,v.options&&(v.options=m.options?a(m.options):{},i(v.options,o.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,M=v._initHooks.length;T<M;T++)v._initHooks[T].call(this)}},u},F.include=function(o){var u=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},F.mergeOptions=function(o){return i(this.prototype.options,o),this},F.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function B(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=N(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(o,u,m){if(typeof o=="object")for(var v in o)this._on(v,o[v],u);else{o=w(o);for(var P=0,T=o.length;P<T;P++)this._on(o[P],u,m)}return this},off:function(o,u,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var v in o)this._off(v,o[v],u);else{o=w(o);for(var P=arguments.length===1,T=0,M=o.length;T<M;T++)P?this._off(o[T]):this._off(o[T],u,m)}return this},_on:function(o,u,m,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,m)===!1){m===this&&(m=void 0);var P={fn:u,ctx:m};v&&(P.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(P)}},_off:function(o,u,m){var v,P,T;if(this._events&&(v=this._events[o],!!v)){if(arguments.length===1){if(this._firingCount)for(P=0,T=v.length;P<T;P++)v[P].fn=p;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var M=this._listens(o,u,m);if(M!==!1){var U=v[M];this._firingCount&&(U.fn=p,this._events[o]=v=v.slice()),v.splice(M,1)}}},fire:function(o,u,m){if(!this.listens(o,m))return this;var v=i({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var P=this._events[o];if(P){this._firingCount=this._firingCount+1||1;for(var T=0,M=P.length;T<M;T++){var U=P[T],Z=U.fn;U.once&&this.off(o,Z,U.ctx),Z.call(U.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(o,u,m,v){typeof o!="string"&&console.warn('"string" type argument expected');var P=u;typeof u!="function"&&(v=!!u,P=void 0,m=void 0);var T=this._events&&this._events[o];if(T&&T.length&&this._listens(o,P,m)!==!1)return!0;if(v){for(var M in this._eventParents)if(this._eventParents[M].listens(o,u,m,v))return!0}return!1},_listens:function(o,u,m){if(!this._events)return!1;var v=this._events[o]||[];if(!u)return!!v.length;m===this&&(m=void 0);for(var P=0,T=v.length;P<T;P++)if(v[P].fn===u&&v[P].ctx===m)return P;return!1},once:function(o,u,m){if(typeof o=="object")for(var v in o)this._on(v,o[v],u,!0);else{o=w(o);for(var P=0,T=o.length;P<T;P++)this._on(o[P],u,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var J=F.extend(K);function W(o,u,m){this.x=m?Math.round(o):o,this.y=m?Math.round(u):u}var Q=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(o){return this.clone()._add(G(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(G(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new W(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new W(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(o){o=G(o);var u=o.x-this.x,m=o.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(o){return o=G(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=G(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function G(o,u,m){return o instanceof W?o:N(o)?new W(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new W(o.x,o.y):new W(o,u,m)}function de(o,u){if(o)for(var m=u?[o,u]:o,v=0,P=m.length;v<P;v++)this.extend(m[v])}de.prototype={extend:function(o){var u,m;if(!o)return this;if(o instanceof W||typeof o[0]=="number"||"x"in o)u=m=G(o);else if(o=ee(o),u=o.min,m=o.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,m;return typeof o[0]=="number"||o instanceof W?o=G(o):o=ee(o),o instanceof de?(u=o.min,m=o.max):u=m=o,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=ee(o);var u=this.min,m=this.max,v=o.min,P=o.max,T=P.x>=u.x&&v.x<=m.x,M=P.y>=u.y&&v.y<=m.y;return T&&M},overlaps:function(o){o=ee(o);var u=this.min,m=this.max,v=o.min,P=o.max,T=P.x>u.x&&v.x<m.x,M=P.y>u.y&&v.y<m.y;return T&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,m=this.max,v=Math.abs(u.x-m.x)*o,P=Math.abs(u.y-m.y)*o;return ee(G(u.x-v,u.y-P),G(m.x+v,m.y+P))},equals:function(o){return o?(o=ee(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ee(o,u){return!o||o instanceof de?o:new de(o,u)}function Y(o,u){if(o)for(var m=u?[o,u]:o,v=0,P=m.length;v<P;v++)this.extend(m[v])}Y.prototype={extend:function(o){var u=this._southWest,m=this._northEast,v,P;if(o instanceof oe)v=o,P=o;else if(o instanceof Y){if(v=o._southWest,P=o._northEast,!v||!P)return this}else return o?this.extend(se(o)||ie(o)):this;return!u&&!m?(this._southWest=new oe(v.lat,v.lng),this._northEast=new oe(P.lat,P.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),m.lat=Math.max(P.lat,m.lat),m.lng=Math.max(P.lng,m.lng)),this},pad:function(o){var u=this._southWest,m=this._northEast,v=Math.abs(u.lat-m.lat)*o,P=Math.abs(u.lng-m.lng)*o;return new Y(new oe(u.lat-v,u.lng-P),new oe(m.lat+v,m.lng+P))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof oe||"lat"in o?o=se(o):o=ie(o);var u=this._southWest,m=this._northEast,v,P;return o instanceof Y?(v=o.getSouthWest(),P=o.getNorthEast()):v=P=o,v.lat>=u.lat&&P.lat<=m.lat&&v.lng>=u.lng&&P.lng<=m.lng},intersects:function(o){o=ie(o);var u=this._southWest,m=this._northEast,v=o.getSouthWest(),P=o.getNorthEast(),T=P.lat>=u.lat&&v.lat<=m.lat,M=P.lng>=u.lng&&v.lng<=m.lng;return T&&M},overlaps:function(o){o=ie(o);var u=this._southWest,m=this._northEast,v=o.getSouthWest(),P=o.getNorthEast(),T=P.lat>u.lat&&v.lat<m.lat,M=P.lng>u.lng&&v.lng<m.lng;return T&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=ie(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(o,u){return o instanceof Y?o:new Y(o,u)}function oe(o,u,m){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,m!==void 0&&(this.alt=+m)}oe.prototype={equals:function(o,u){if(!o)return!1;o=se(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return on.distance(this,se(o))},wrap:function(){return on.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,m=u/Math.cos(Math.PI/180*this.lat);return ie([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function se(o,u,m){return o instanceof oe?o:N(o)&&typeof o[0]!="object"?o.length===3?new oe(o[0],o[1],o[2]):o.length===2?new oe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new oe(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new oe(o,u,m)}var Xe={latLngToPoint:function(o,u){var m=this.projection.project(o),v=this.scale(u);return this.transformation._transform(m,v)},pointToLatLng:function(o,u){var m=this.scale(u),v=this.transformation.untransform(o,m);return this.projection.unproject(v)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(o),v=this.transformation.transform(u.min,m),P=this.transformation.transform(u.max,m);return new de(v,P)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?h(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?h(o.lat,this.wrapLat,!0):o.lat,v=o.alt;return new oe(m,u,v)},wrapLatLngBounds:function(o){var u=o.getCenter(),m=this.wrapLatLng(u),v=u.lat-m.lat,P=u.lng-m.lng;if(v===0&&P===0)return o;var T=o.getSouthWest(),M=o.getNorthEast(),U=new oe(T.lat-v,T.lng-P),Z=new oe(M.lat-v,M.lng-P);return new Y(U,Z)}},on=i({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var m=Math.PI/180,v=o.lat*m,P=u.lat*m,T=Math.sin((u.lat-o.lat)*m/2),M=Math.sin((u.lng-o.lng)*m/2),U=T*T+Math.cos(v)*Math.cos(P)*M*M,Z=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*Z}}),ae=6378137,me={R:ae,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,o.lat),-m),P=Math.sin(v*u);return new W(this.R*o.lng*u,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(o){var u=180/Math.PI;return new oe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=ae*Math.PI;return new de([-o,-o],[o,o])}()};function xe(o,u,m,v){if(N(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=m,this._d=v}xe.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new W((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function q(o,u,m,v){return new xe(o,u,m,v)}var gt=i({},on,{code:"EPSG:3857",projection:me,transformation:function(){var o=.5/(Math.PI*me.R);return q(o,.5,-o,.5)}()}),Oe=i({},gt,{code:"EPSG:900913"});function At(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Mt(o,u){var m="",v,P,T,M,U,Z;for(v=0,T=o.length;v<T;v++){for(U=o[v],P=0,M=U.length;P<M;P++)Z=U[P],m+=(P?"L":"M")+Z.x+" "+Z.y;m+=u?ue.svg?"z":"x":""}return m||"M0 0"}var Vn=document.documentElement.style,Bi="ActiveXObject"in window,oO=Bi&&!document.addEventListener,b0="msLaunchUri"in navigator&&!("documentMode"in document),Hf=lr("webkit"),w0=lr("android"),j0=lr("android 2")||lr("android 3"),sO=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lO=w0&&lr("Google")&&sO<537&&!("AudioNode"in window),Zf=!!window.opera,P0=!b0&&lr("chrome"),N0=lr("gecko")&&!Hf&&!Zf&&!Bi,uO=!P0&&lr("safari"),S0=lr("phantom"),k0="OTransition"in Vn,cO=navigator.platform.indexOf("Win")===0,C0=Bi&&"transition"in Vn,Kf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!j0,O0="MozPerspective"in Vn,dO=!window.L_DISABLE_3D&&(C0||Kf||O0)&&!k0&&!S0,ts=typeof orientation<"u"||lr("mobile"),fO=ts&&Hf,hO=ts&&Kf,E0=!window.PointerEvent&&window.MSPointerEvent,T0=!!(window.PointerEvent||E0),A0="ontouchstart"in window||!!window.TouchEvent,mO=!window.L_NO_TOUCH&&(A0||T0),pO=ts&&Zf,gO=ts&&N0,vO=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yO=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",p,u),window.removeEventListener("testPassiveEventSupport",p,u)}catch{}return o}(),xO=function(){return!!document.createElement("canvas").getContext}(),Vf=!!(document.createElementNS&&At("svg").createSVGRect),_O=!!Vf&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bO=!Vf&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),wO=navigator.platform.indexOf("Mac")===0,jO=navigator.platform.indexOf("Linux")===0;function lr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ue={ie:Bi,ielt9:oO,edge:b0,webkit:Hf,android:w0,android23:j0,androidStock:lO,opera:Zf,chrome:P0,gecko:N0,safari:uO,phantom:S0,opera12:k0,win:cO,ie3d:C0,webkit3d:Kf,gecko3d:O0,any3d:dO,mobile:ts,mobileWebkit:fO,mobileWebkit3d:hO,msPointer:E0,pointer:T0,touch:mO,touchNative:A0,mobileOpera:pO,mobileGecko:gO,retina:vO,passiveEvents:yO,canvas:xO,svg:Vf,vml:bO,inlineSvg:_O,mac:wO,linux:jO},M0=ue.msPointer?"MSPointerDown":"pointerdown",L0=ue.msPointer?"MSPointerMove":"pointermove",D0=ue.msPointer?"MSPointerUp":"pointerup",I0=ue.msPointer?"MSPointerCancel":"pointercancel",Gf={touchstart:M0,touchmove:L0,touchend:D0,touchcancel:I0},R0={touchstart:OO,touchmove:Ql,touchend:Ql,touchcancel:Ql},Ma={},z0=!1;function PO(o,u,m){return u==="touchstart"&&CO(),R0[u]?(m=R0[u].bind(this,m),o.addEventListener(Gf[u],m,!1),m):(console.warn("wrong event specified:",u),p)}function NO(o,u,m){if(!Gf[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(Gf[u],m,!1)}function SO(o){Ma[o.pointerId]=o}function kO(o){Ma[o.pointerId]&&(Ma[o.pointerId]=o)}function $0(o){delete Ma[o.pointerId]}function CO(){z0||(document.addEventListener(M0,SO,!0),document.addEventListener(L0,kO,!0),document.addEventListener(D0,$0,!0),document.addEventListener(I0,$0,!0),z0=!0)}function Ql(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Ma)u.touches.push(Ma[m]);u.changedTouches=[u],o(u)}}function OO(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Nt(u),Ql(o,u)}function EO(o){var u={},m,v;for(v in o)m=o[v],u[v]=m&&m.bind?m.bind(o):m;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var TO=200;function AO(o,u){o.addEventListener("dblclick",u);var m=0,v;function P(T){if(T.detail!==1){v=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var M=H0(T);if(!(M.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!M.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var U=Date.now();U-m<=TO?(v++,v===2&&u(EO(T))):v=1,m=U}}}return o.addEventListener("click",P),{dblclick:u,simDblclick:P}}function MO(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var qf=tu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ns=tu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),B0=ns==="webkitTransition"||ns==="OTransition"?ns+"End":"transitionend";function F0(o){return typeof o=="string"?document.getElementById(o):o}function rs(o,u){var m=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(o,null);m=v?v[u]:null}return m==="auto"?null:m}function je(o,u,m){var v=document.createElement(o);return v.className=u||"",m&&m.appendChild(v),v}function Ue(o){var u=o.parentNode;u&&u.removeChild(o)}function Jl(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function La(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Da(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Yf(o,u){if(o.classList!==void 0)return o.classList.contains(u);var m=eu(o);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function pe(o,u){if(o.classList!==void 0)for(var m=w(u),v=0,P=m.length;v<P;v++)o.classList.add(m[v]);else if(!Yf(o,u)){var T=eu(o);Xf(o,(T?T+" ":"")+u)}}function Qe(o,u){o.classList!==void 0?o.classList.remove(u):Xf(o,y((" "+eu(o)+" ").replace(" "+u+" "," ")))}function Xf(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function eu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function jn(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&LO(o,u)}function LO(o,u){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):o.style.filter+=" progid:"+v+"(opacity="+u+")"}function tu(o){for(var u=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in u)return o[m];return!1}function Fi(o,u,m){var v=u||new W(0,0);o.style[qf]=(ue.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function rt(o,u){o._leaflet_pos=u,ue.any3d?Fi(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function Ui(o){return o._leaflet_pos||new W(0,0)}var is,as,Qf;if("onselectstart"in document)is=function(){he(window,"selectstart",Nt)},as=function(){Ae(window,"selectstart",Nt)};else{var os=tu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);is=function(){if(os){var o=document.documentElement.style;Qf=o[os],o[os]="none"}},as=function(){os&&(document.documentElement.style[os]=Qf,Qf=void 0)}}function Jf(){he(window,"dragstart",Nt)}function eh(){Ae(window,"dragstart",Nt)}var nu,th;function nh(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ru(),nu=o,th=o.style.outlineStyle,o.style.outlineStyle="none",he(window,"keydown",ru))}function ru(){nu&&(nu.style.outlineStyle=th,nu=void 0,th=void 0,Ae(window,"keydown",ru))}function U0(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function rh(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var DO={__proto__:null,TRANSFORM:qf,TRANSITION:ns,TRANSITION_END:B0,get:F0,getStyle:rs,create:je,remove:Ue,empty:Jl,toFront:La,toBack:Da,hasClass:Yf,addClass:pe,removeClass:Qe,setClass:Xf,getClass:eu,setOpacity:jn,testProp:tu,setTransform:Fi,setPosition:rt,getPosition:Ui,get disableTextSelection(){return is},get enableTextSelection(){return as},disableImageDrag:Jf,enableImageDrag:eh,preventOutline:nh,restoreOutline:ru,getSizedParentNode:U0,getScale:rh};function he(o,u,m,v){if(u&&typeof u=="object")for(var P in u)ah(o,P,u[P],m);else{u=w(u);for(var T=0,M=u.length;T<M;T++)ah(o,u[T],m,v)}return this}var ur="_leaflet_events";function Ae(o,u,m,v){if(arguments.length===1)W0(o),delete o[ur];else if(u&&typeof u=="object")for(var P in u)oh(o,P,u[P],m);else if(u=w(u),arguments.length===2)W0(o,function(U){return E(u,U)!==-1});else for(var T=0,M=u.length;T<M;T++)oh(o,u[T],m,v);return this}function W0(o,u){for(var m in o[ur]){var v=m.split(/\d/)[0];(!u||u(v))&&oh(o,v,null,null,m)}}var ih={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ah(o,u,m,v){var P=u+d(m)+(v?"_"+d(v):"");if(o[ur]&&o[ur][P])return this;var T=function(U){return m.call(v||o,U||window.event)},M=T;!ue.touchNative&&ue.pointer&&u.indexOf("touch")===0?T=PO(o,u,T):ue.touch&&u==="dblclick"?T=AO(o,T):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(ih[u]||u,T,ue.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(T=function(U){U=U||window.event,lh(o,U)&&M(U)},o.addEventListener(ih[u],T,!1)):o.addEventListener(u,M,!1):o.attachEvent("on"+u,T),o[ur]=o[ur]||{},o[ur][P]=T}function oh(o,u,m,v,P){P=P||u+d(m)+(v?"_"+d(v):"");var T=o[ur]&&o[ur][P];if(!T)return this;!ue.touchNative&&ue.pointer&&u.indexOf("touch")===0?NO(o,u,T):ue.touch&&u==="dblclick"?MO(o,T):"removeEventListener"in o?o.removeEventListener(ih[u]||u,T,!1):o.detachEvent("on"+u,T),o[ur][P]=null}function Wi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function sh(o){return ah(o,"wheel",Wi),this}function ss(o){return he(o,"mousedown touchstart dblclick contextmenu",Wi),o._leaflet_disable_click=!0,this}function Nt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Hi(o){return Nt(o),Wi(o),this}function H0(o){if(o.composedPath)return o.composedPath();for(var u=[],m=o.target;m;)u.push(m),m=m.parentNode;return u}function Z0(o,u){if(!u)return new W(o.clientX,o.clientY);var m=rh(u),v=m.boundingClientRect;return new W((o.clientX-v.left)/m.x-u.clientLeft,(o.clientY-v.top)/m.y-u.clientTop)}var IO=ue.linux&&ue.chrome?window.devicePixelRatio:ue.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function K0(o){return ue.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/IO:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function lh(o,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var RO={__proto__:null,on:he,off:Ae,stopPropagation:Wi,disableScrollPropagation:sh,disableClickPropagation:ss,preventDefault:Nt,stop:Hi,getPropagationPath:H0,getMousePosition:Z0,getWheelDelta:K0,isExternalTarget:lh,addListener:he,removeListener:Ae},V0=J.extend({run:function(o,u,m,v){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Ui(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var m=this._startPos.add(this._offset.multiplyBy(o));u&&m._round(),rt(this._el,m),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),_e=J.extend({options:{crs:gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=b(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(se(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ns&&ue.any3d&&!ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,B0,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(se(o),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,m.zoom):this._tryAnimatedPan(o,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,m){var v=this.getZoomScale(u),P=this.getSize().divideBy(2),T=o instanceof W?o:this.latLngToContainerPoint(o),M=T.subtract(P).multiplyBy(1-1/v),U=this.containerPointToLatLng(P.add(M));return this.setView(U,u,{zoom:m})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():ie(o);var m=G(u.paddingTopLeft||u.padding||[0,0]),v=G(u.paddingBottomRight||u.padding||[0,0]),P=this.getBoundsZoom(o,!1,m.add(v));if(P=typeof u.maxZoom=="number"?Math.min(u.maxZoom,P):P,P===1/0)return{center:o.getCenter(),zoom:P};var T=v.subtract(m).divideBy(2),M=this.project(o.getSouthWest(),P),U=this.project(o.getNorthEast(),P),Z=this.unproject(M.add(U).divideBy(2).add(T),P);return{center:Z,zoom:P}},fitBounds:function(o,u){if(o=ie(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=G(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new V0,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){pe(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,m){if(m=m||{},m.animate===!1||!ue.any3d)return this.setView(o,u,m);this._stop();var v=this.project(this.getCenter()),P=this.project(o),T=this.getSize(),M=this._zoom;o=se(o),u=u===void 0?M:u;var U=Math.max(T.x,T.y),Z=U*this.getZoomScale(M,u),V=P.distanceTo(v)||1,te=1.42,fe=te*te;function ge(it){var pu=it?-1:1,NE=it?Z:U,SE=Z*Z-U*U+pu*fe*fe*V*V,kE=2*NE*fe*V,xh=SE/kE,kx=Math.sqrt(xh*xh+1)-xh,CE=kx<1e-9?-18:Math.log(kx);return CE}function Ft(it){return(Math.exp(it)-Math.exp(-it))/2}function vt(it){return(Math.exp(it)+Math.exp(-it))/2}function Nn(it){return Ft(it)/vt(it)}var qt=ge(0);function Fa(it){return U*(vt(qt)/vt(qt+te*it))}function bE(it){return U*(vt(qt)*Nn(qt+te*it)-Ft(qt))/fe}function wE(it){return 1-Math.pow(1-it,1.5)}var jE=Date.now(),Nx=(ge(1)-qt)/te,PE=m.duration?1e3*m.duration:1e3*Nx*.8;function Sx(){var it=(Date.now()-jE)/PE,pu=wE(it)*Nx;it<=1?(this._flyToFrame=D(Sx,this),this._move(this.unproject(v.add(P.subtract(v).multiplyBy(bE(pu)/V)),M),this.getScaleZoom(U/Fa(pu),M),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Sx.call(this),this},flyToBounds:function(o,u){var m=this._getBoundsCenterZoom(o,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(o){return o=ie(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,ie(o));return m.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var m=G(u.paddingTopLeft||u.padding||[0,0]),v=G(u.paddingBottomRight||u.padding||[0,0]),P=this.project(this.getCenter()),T=this.project(o),M=this.getPixelBounds(),U=ee([M.min.add(m),M.max.subtract(v)]),Z=U.getSize();if(!U.contains(T)){this._enforcingBounds=!0;var V=T.subtract(U.getCenter()),te=U.extend(T).getSize().subtract(Z);P.x+=V.x<0?-te.x:te.x,P.y+=V.y<0?-te.y:te.y,this.panTo(this.unproject(P),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=u.divideBy(2).round(),P=m.divideBy(2).round(),T=v.subtract(P);return!T.x&&!T.y?this:(o.animate&&o.pan?this.panBy(T):(o.pan&&this._rawPanBy(T),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=s(this._handleGeolocationResponse,this),m=s(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,o):navigator.geolocation.getCurrentPosition(u,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,m=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,m=o.coords.longitude,v=new oe(u,m),P=v.toBounds(o.coords.accuracy*2),T=this._locateOptions;if(T.setView){var M=this.getBoundsZoom(P);this.setView(v,T.maxZoom?Math.min(M,T.maxZoom):M)}var U={latlng:v,bounds:P,timestamp:o.timestamp};for(var Z in o.coords)typeof o.coords[Z]=="number"&&(U[Z]=o.coords[Z]);this.fire("locationfound",U)}},addHandler:function(o,u){if(!u)return this;var m=this[o]=new u(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ue(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),v=je("div",m,u||this._mapPane);return o&&(this._panes[o]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new Y(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,m){o=ie(o),m=G(m||[0,0]);var v=this.getZoom()||0,P=this.getMinZoom(),T=this.getMaxZoom(),M=o.getNorthWest(),U=o.getSouthEast(),Z=this.getSize().subtract(m),V=ee(this.project(U,v),this.project(M,v)).getSize(),te=ue.any3d?this.options.zoomSnap:1,fe=Z.x/V.x,ge=Z.y/V.y,Ft=u?Math.max(fe,ge):Math.min(fe,ge);return v=this.getScaleZoom(Ft,v),te&&(v=Math.round(v/(te/100))*(te/100),v=u?Math.ceil(v/te)*te:Math.floor(v/te)*te),Math.max(P,Math.min(T,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var m=this._getTopLeftPoint(o,u);return new de(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(o)/m.scale(u)},getScaleZoom:function(o,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var v=m.zoom(o*m.scale(u));return isNaN(v)?1/0:v},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(se(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(G(o),u)},layerPointToLatLng:function(o){var u=G(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(se(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(se(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ie(o))},distance:function(o,u){return this.options.crs.distance(se(o),se(u))},containerPointToLayerPoint:function(o){return G(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return G(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(G(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(o)))},mouseEventToContainerPoint:function(o){return Z0(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=F0(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ue.any3d,pe(o,"leaflet-container"+(ue.touch?" leaflet-touch":"")+(ue.retina?" leaflet-retina":"")+(ue.ielt9?" leaflet-oldie":"")+(ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=rs(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pe(o.markerPane,"leaflet-zoom-hide"),pe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,m){rt(this._mapPane,new W(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var P=this._zoom!==u;this._moveStart(P,m)._move(o,u)._moveEnd(P),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,m,v){u===void 0&&(u=this._zoom);var P=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),v?m&&m.pinch&&this.fire("zoom",m):((P||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){rt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?Ae:he;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),ue.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var m=[],v,P=u==="mouseout"||u==="mouseover",T=o.target||o.srcElement,M=!1;T;){if(v=this._targets[d(T)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){M=!0;break}if(v&&v.listens(u,!0)&&(P&&!lh(T,o)||(m.push(v),P))||T===this._container)break;T=T.parentNode}return!m.length&&!M&&!P&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var m=o.type;m==="mousedown"&&nh(u),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,m){if(o.type==="click"){var v=i({},o);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var P=this._findEventTargets(o,u);if(m){for(var T=[],M=0;M<m.length;M++)m[M].listens(u,!0)&&T.push(m[M]);P=T.concat(P)}if(P.length){u==="contextmenu"&&Nt(o);var U=P[0],Z={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var V=U.getLatLng&&(!U._radius||U._radius<=10);Z.containerPoint=V?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(o),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=V?U.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(M=0;M<P.length;M++)if(P[M].fire(u,Z,!0),Z.originalEvent._stopped||P[M].options.bubblingMouseEvents===!1&&E(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return Ui(this._mapPane)||new W(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var m=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var m=this.getSize()._divideBy(2);return this.project(o,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,m){var v=this._getNewPixelOrigin(m,u);return this.project(o,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(o,u,m){var v=this._getNewPixelOrigin(m,u);return ee([this.project(o.getSouthWest(),u)._subtract(v),this.project(o.getNorthWest(),u)._subtract(v),this.project(o.getSouthEast(),u)._subtract(v),this.project(o.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,m){if(!m)return o;var v=this.project(o,u),P=this.getSize().divideBy(2),T=new de(v.subtract(P),v.add(P)),M=this._getBoundsOffset(T,m,u);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?o:this.unproject(v.add(M),u)},_limitOffset:function(o,u){if(!u)return o;var m=this.getPixelBounds(),v=new de(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(o,u,m){var v=ee(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),P=v.min.subtract(o.min),T=v.max.subtract(o.max),M=this._rebound(P.x,-T.x),U=this._rebound(P.y,-T.y);return new W(M,U)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),m=this.getMaxZoom(),v=ue.any3d?this.options.zoomSnap:1;return v&&(o=Math.round(o/v)*v),Math.max(u,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var m=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var o=this._proxy=je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var m=qf,v=this._proxy.style[m];Fi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();Fi(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),P=this._getCenterOffset(o)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(P)?!1:(D(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zO(o,u){return new _e(o,u)}var Gn=F.extend({options:{position:"topright"},initialize:function(o){b(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),m=this.getPosition(),v=o._controlCorners[m];return pe(u,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ls=function(o){return new Gn(o)};_e.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",m=this._controlContainer=je("div",u+"control-container",this._container);function v(P,T){var M=u+P+" "+u+T;o[P+T]=je("div",M,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ue(this._controlCorners[o]);Ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var G0=Gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,m,v){return m<v?-1:v<m?1:0}},initialize:function(o,u,m){b(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in o)this._addLayer(o[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Gn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=je("div",o),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ss(u),sh(u);var v=this._section=je("section",o+"-list");m&&(this._map.on("click",this.collapse,this),he(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=je("a",o+"-toggle",u);P.href="#",P.title="Layers",P.setAttribute("role","button"),he(P,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){Nt(T),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=je("div",o+"-base",v),this._separator=je("div",o+"-separator",v),this._overlaysList=je("div",o+"-overlays",v),u.appendChild(v)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(s(function(v,P){return this.options.sortFunction(v.layer,P.layer,v.name,P.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jl(this._baseLayersList),Jl(this._overlaysList),this._layerControlInputs=[];var o,u,m,v,P=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),u=u||v.overlay,o=o||!v.overlay,P+=v.overlay?0:1;return this.options.hideSingleBase&&(o=o&&P>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),m=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(o,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(o){var u=document.createElement("label"),m=this._map.hasLayer(o.layer),v;o.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(v),v.layerId=d(o.layer),he(v,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+o.name;var T=document.createElement("span");u.appendChild(T),T.appendChild(v),T.appendChild(P);var M=o.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,m,v=[],P=[];this._handlingClick=!0;for(var T=o.length-1;T>=0;T--)u=o[T],m=this._getLayer(u.layerId).layer,u.checked?v.push(m):u.checked||P.push(m);for(T=0;T<P.length;T++)this._map.hasLayer(P[T])&&this._map.removeLayer(P[T]);for(T=0;T<v.length;T++)this._map.hasLayer(v[T])||this._map.addLayer(v[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,m,v=this._map.getZoom(),P=o.length-1;P>=0;P--)u=o[P],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,he(o,"click",Nt),this.expand();var u=this;setTimeout(function(){Ae(o,"click",Nt),u._preventClick=!1})}}),$O=function(o,u,m){return new G0(o,u,m)},uh=Gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",m=je("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,m,v,P){var T=je("a",m,v);return T.innerHTML=o,T.href="#",T.title=u,T.setAttribute("role","button"),T.setAttribute("aria-label",u),ss(T),he(T,"click",Hi),he(T,"click",P,this),he(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";Qe(this._zoomInButton,u),Qe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(pe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(pe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});_e.mergeOptions({zoomControl:!0}),_e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new uh,this.addControl(this.zoomControl))});var BO=function(o){return new uh(o)},q0=Gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",m=je("div",u),v=this.options;return this._addScales(v,u+"-line",m),o.on(v.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,m){o.metric&&(this._mScale=je("div",u,m)),o.imperial&&(this._iScale=je("div",u,m))},_update:function(){var o=this._map,u=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/o)},_updateImperial:function(o){var u=o*3.2808399,m,v,P;u>5280?(m=u/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(P=this._getRoundNum(u),this._updateScale(this._iScale,P+" ft",P/u))},_updateScale:function(o,u,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),m=o/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),FO=function(o){return new q0(o)},UO='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ch=Gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ue.inlineSvg?UO+" ":"")+"Leaflet</a>"},initialize:function(o){b(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=je("div","leaflet-control-attribution"),ss(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});_e.mergeOptions({attributionControl:!0}),_e.addInitHook(function(){this.options.attributionControl&&new ch().addTo(this)});var WO=function(o){return new ch(o)};Gn.Layers=G0,Gn.Zoom=uh,Gn.Scale=q0,Gn.Attribution=ch,ls.layers=$O,ls.zoom=BO,ls.scale=FO,ls.attribution=WO;var cr=F.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cr.addTo=function(o,u){return o.addHandler(u,this),this};var HO={Events:K},Y0=ue.touch?"touchstart mousedown":"mousedown",ti=J.extend({options:{clickTolerance:3},initialize:function(o,u,m,v){b(this,v),this._element=o,this._dragStartTarget=u||o,this._preventOutline=m},enable:function(){this._enabled||(he(this._dragStartTarget,Y0,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ti._dragging===this&&this.finishDrag(!0),Ae(this._dragStartTarget,Y0,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Yf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){ti._dragging===this&&this.finishDrag();return}if(!(ti._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(ti._dragging=this,this._preventOutline&&nh(this._element),Jf(),is(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,m=U0(this._element);this._startPoint=new W(u.clientX,u.clientY),this._startPos=Ui(this._element),this._parentScale=rh(m);var v=o.type==="mousedown";he(document,v?"mousemove":"touchmove",this._onMove,this),he(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,m=new W(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Nt(o),this._moved||(this.fire("dragstart"),this._moved=!0,pe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),rt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ae(document,"mousemove touchmove",this._onMove,this),Ae(document,"mouseup touchend touchcancel",this._onUp,this),eh(),as();var u=this._moved&&this._moving;this._moving=!1,ti._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function X0(o,u,m){var v,P=[1,4,2,8],T,M,U,Z,V,te,fe,ge;for(T=0,te=o.length;T<te;T++)o[T]._code=Zi(o[T],u);for(U=0;U<4;U++){for(fe=P[U],v=[],T=0,te=o.length,M=te-1;T<te;M=T++)Z=o[T],V=o[M],Z._code&fe?V._code&fe||(ge=iu(V,Z,fe,u,m),ge._code=Zi(ge,u),v.push(ge)):(V._code&fe&&(ge=iu(V,Z,fe,u,m),ge._code=Zi(ge,u),v.push(ge)),v.push(Z));o=v}return o}function Q0(o,u){var m,v,P,T,M,U,Z,V,te;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var fe=se([0,0]),ge=ie(o),Ft=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());Ft<1700&&(fe=dh(o));var vt=o.length,Nn=[];for(m=0;m<vt;m++){var qt=se(o[m]);Nn.push(u.project(se([qt.lat-fe.lat,qt.lng-fe.lng])))}for(U=Z=V=0,m=0,v=vt-1;m<vt;v=m++)P=Nn[m],T=Nn[v],M=P.y*T.x-T.y*P.x,Z+=(P.x+T.x)*M,V+=(P.y+T.y)*M,U+=M*3;U===0?te=Nn[0]:te=[Z/U,V/U];var Fa=u.unproject(G(te));return se([Fa.lat+fe.lat,Fa.lng+fe.lng])}function dh(o){for(var u=0,m=0,v=0,P=0;P<o.length;P++){var T=se(o[P]);u+=T.lat,m+=T.lng,v++}return se([u/v,m/v])}var ZO={__proto__:null,clipPolygon:X0,polygonCenter:Q0,centroid:dh};function J0(o,u){if(!u||!o.length)return o.slice();var m=u*u;return o=GO(o,m),o=VO(o,m),o}function ex(o,u,m){return Math.sqrt(us(o,u,m,!0))}function KO(o,u,m){return us(o,u,m)}function VO(o,u){var m=o.length,v=typeof Uint8Array<"u"?Uint8Array:Array,P=new v(m);P[0]=P[m-1]=1,fh(o,P,u,0,m-1);var T,M=[];for(T=0;T<m;T++)P[T]&&M.push(o[T]);return M}function fh(o,u,m,v,P){var T=0,M,U,Z;for(U=v+1;U<=P-1;U++)Z=us(o[U],o[v],o[P],!0),Z>T&&(M=U,T=Z);T>m&&(u[M]=1,fh(o,u,m,v,M),fh(o,u,m,M,P))}function GO(o,u){for(var m=[o[0]],v=1,P=0,T=o.length;v<T;v++)qO(o[v],o[P])>u&&(m.push(o[v]),P=v);return P<T-1&&m.push(o[T-1]),m}var tx;function nx(o,u,m,v,P){var T=v?tx:Zi(o,m),M=Zi(u,m),U,Z,V;for(tx=M;;){if(!(T|M))return[o,u];if(T&M)return!1;U=T||M,Z=iu(o,u,U,m,P),V=Zi(Z,m),U===T?(o=Z,T=V):(u=Z,M=V)}}function iu(o,u,m,v,P){var T=u.x-o.x,M=u.y-o.y,U=v.min,Z=v.max,V,te;return m&8?(V=o.x+T*(Z.y-o.y)/M,te=Z.y):m&4?(V=o.x+T*(U.y-o.y)/M,te=U.y):m&2?(V=Z.x,te=o.y+M*(Z.x-o.x)/T):m&1&&(V=U.x,te=o.y+M*(U.x-o.x)/T),new W(V,te,P)}function Zi(o,u){var m=0;return o.x<u.min.x?m|=1:o.x>u.max.x&&(m|=2),o.y<u.min.y?m|=4:o.y>u.max.y&&(m|=8),m}function qO(o,u){var m=u.x-o.x,v=u.y-o.y;return m*m+v*v}function us(o,u,m,v){var P=u.x,T=u.y,M=m.x-P,U=m.y-T,Z=M*M+U*U,V;return Z>0&&(V=((o.x-P)*M+(o.y-T)*U)/Z,V>1?(P=m.x,T=m.y):V>0&&(P+=M*V,T+=U*V)),M=o.x-P,U=o.y-T,v?M*M+U*U:new W(P,T)}function Pn(o){return!N(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function rx(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(o)}function ix(o,u){var m,v,P,T,M,U,Z,V;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var te=se([0,0]),fe=ie(o),ge=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());ge<1700&&(te=dh(o));var Ft=o.length,vt=[];for(m=0;m<Ft;m++){var Nn=se(o[m]);vt.push(u.project(se([Nn.lat-te.lat,Nn.lng-te.lng])))}for(m=0,v=0;m<Ft-1;m++)v+=vt[m].distanceTo(vt[m+1])/2;if(v===0)V=vt[0];else for(m=0,T=0;m<Ft-1;m++)if(M=vt[m],U=vt[m+1],P=M.distanceTo(U),T+=P,T>v){Z=(T-v)/P,V=[U.x-Z*(U.x-M.x),U.y-Z*(U.y-M.y)];break}var qt=u.unproject(G(V));return se([qt.lat+te.lat,qt.lng+te.lng])}var YO={__proto__:null,simplify:J0,pointToSegmentDistance:ex,closestPointOnSegment:KO,clipSegment:nx,_getEdgeIntersection:iu,_getBitCode:Zi,_sqClosestPointOnSegment:us,isFlat:Pn,_flat:rx,polylineCenter:ix},hh={project:function(o){return new W(o.lng,o.lat)},unproject:function(o){return new oe(o.y,o.x)},bounds:new de([-180,-90],[180,90])},mh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,m=this.R,v=o.lat*u,P=this.R_MINOR/m,T=Math.sqrt(1-P*P),M=T*Math.sin(v),U=Math.tan(Math.PI/4-v/2)/Math.pow((1-M)/(1+M),T/2);return v=-m*Math.log(Math.max(U,1e-10)),new W(o.lng*u*m,v)},unproject:function(o){for(var u=180/Math.PI,m=this.R,v=this.R_MINOR/m,P=Math.sqrt(1-v*v),T=Math.exp(-o.y/m),M=Math.PI/2-2*Math.atan(T),U=0,Z=.1,V;U<15&&Math.abs(Z)>1e-7;U++)V=P*Math.sin(M),V=Math.pow((1-V)/(1+V),P/2),Z=Math.PI/2-2*Math.atan(T*V)-M,M+=Z;return new oe(M*u,o.x*u/m)}},XO={__proto__:null,LonLat:hh,Mercator:mh,SphericalMercator:me},QO=i({},on,{code:"EPSG:3395",projection:mh,transformation:function(){var o=.5/(Math.PI*mh.R);return q(o,.5,-o,.5)}()}),ax=i({},on,{code:"EPSG:4326",projection:hh,transformation:q(1/180,1,-1/180,.5)}),JO=i({},Xe,{projection:hh,transformation:q(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var m=u.lng-o.lng,v=u.lat-o.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Xe.Earth=on,Xe.EPSG3395=QO,Xe.EPSG3857=gt,Xe.EPSG900913=Oe,Xe.EPSG4326=ax,Xe.Simple=JO;var qn=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});_e.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},_addLayers:function(o){o=o?N(o)?o:[o]:[];for(var u=0,m=o.length;u<m;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var P=this._zoomBoundLayers[v].options;o=P.minZoom===void 0?o:Math.min(o,P.minZoom),u=P.maxZoom===void 0?u:Math.max(u,P.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ia=qn.extend({initialize:function(o,u){b(this,u),this._layers={};var m,v;if(o)for(m=0,v=o.length;m<v;m++)this.addLayer(o[m])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[o]&&v[o].apply(v,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),eE=function(o,u){return new Ia(o,u)},Pr=Ia.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ia.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ia.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Y;for(var u in this._layers){var m=this._layers[u];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),tE=function(o,u){return new Pr(o,u)},Ra=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){b(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(o,u){var m=this.options,v=m[u+"Size"];typeof v=="number"&&(v=[v,v]);var P=G(v),T=G(u==="shadow"&&m.shadowAnchor||m.iconAnchor||P&&P.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(m.className||""),T&&(o.style.marginLeft=-T.x+"px",o.style.marginTop=-T.y+"px"),P&&(o.style.width=P.x+"px",o.style.height=P.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return ue.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function nE(o){return new Ra(o)}var cs=Ra.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof cs.imagePath!="string"&&(cs.imagePath=this._detectIconPath()),(this.options.imagePath||cs.imagePath)+Ra.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(m,v,P){var T=v.exec(m);return T&&T[P]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=je("div","leaflet-default-icon-path",document.body),u=rs(o,"background-image")||rs(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ox=cr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new ti(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,m=u._map,v=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,T=Ui(u._icon),M=m.getPixelBounds(),U=m.getPixelOrigin(),Z=ee(M.min._subtract(U).add(P),M.max._subtract(U).subtract(P));if(!Z.contains(T)){var V=G((Math.max(Z.max.x,T.x)-Z.max.x)/(M.max.x-Z.max.x)-(Math.min(Z.min.x,T.x)-Z.min.x)/(M.min.x-Z.min.x),(Math.max(Z.max.y,T.y)-Z.max.y)/(M.max.y-Z.max.y)-(Math.min(Z.min.y,T.y)-Z.min.y)/(M.min.y-Z.min.y)).multiplyBy(v);m.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),rt(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=D(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,m=u._shadow,v=Ui(u._icon),P=u._map.layerPointToLatLng(v);m&&rt(m,v),u._latlng=P,o.latlng=P,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),au=qn.extend({options:{icon:new cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){b(this,u),this._latlng=se(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=se(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),pe(m,u),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(m,"focus",this._panOnFocus,this);var P=o.icon.createShadow(this._shadow),T=!1;P!==this._shadow&&(this._removeShadow(),T=!0),P&&(pe(P,u),P.alt=""),this._shadow=P,o.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&T&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(this._icon,"focus",this._panOnFocus,this),Ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ue(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&rt(this._icon,o),this._shadow&&rt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ox)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ox(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&jn(this._icon,o),this._shadow&&jn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,m=u.iconSize?G(u.iconSize):G(0,0),v=u.iconAnchor?G(u.iconAnchor):G(0,0);o.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function rE(o,u){return new au(o,u)}var ni=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return b(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ou=ni.extend({options:{fill:!0,radius:10},initialize:function(o,u){b(this,u),this._latlng=se(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=se(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return ni.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,m=this._clickTolerance(),v=[o+m,u+m];this._pxBounds=new de(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function iE(o,u){return new ou(o,u)}var ph=ou.extend({initialize:function(o,u,m){if(typeof u=="number"&&(u=i({},m,{radius:u})),b(this,u),this._latlng=se(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ni.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===on.distance){var P=Math.PI/180,T=this._mRadius/on.R/P,M=m.project([u+T,o]),U=m.project([u-T,o]),Z=M.add(U).divideBy(2),V=m.unproject(Z).lat,te=Math.acos((Math.cos(T*P)-Math.sin(u*P)*Math.sin(V*P))/(Math.cos(u*P)*Math.cos(V*P)))/P;(isNaN(te)||te===0)&&(te=T/Math.cos(Math.PI/180*u)),this._point=Z.subtract(m.getPixelOrigin()),this._radius=isNaN(te)?0:Z.x-m.project([V,o-te]).x,this._radiusY=Z.y-M.y}else{var fe=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(fe).x}this._updateBounds()}});function aE(o,u,m){return new ph(o,u,m)}var Nr=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){b(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,m=null,v=us,P,T,M=0,U=this._parts.length;M<U;M++)for(var Z=this._parts[M],V=1,te=Z.length;V<te;V++){P=Z[V-1],T=Z[V];var fe=v(o,P,T,!0);fe<u&&(u=fe,m=v(o,P,T))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ix(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=se(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Y,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],m=Pn(o),v=0,P=o.length;v<P;v++)m?(u[v]=se(o[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(o[v]);return u},_project:function(){var o=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new W(o,o);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,m){var v=o[0]instanceof oe,P=o.length,T,M;if(v){for(M=[],T=0;T<P;T++)M[T]=this._map.latLngToLayerPoint(o[T]),m.extend(M[T]);u.push(M)}else for(T=0;T<P;T++)this._projectLatlngs(o[T],u,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,v,P,T,M,U,Z;for(m=0,P=0,T=this._rings.length;m<T;m++)for(Z=this._rings[m],v=0,M=Z.length;v<M-1;v++)U=nx(Z[v],Z[v+1],o,v,!0),U&&(u[P]=u[P]||[],u[P].push(U[0]),(U[1]!==Z[v+1]||v===M-2)&&(u[P].push(U[1]),P++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,m=0,v=o.length;m<v;m++)o[m]=J0(o[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var m,v,P,T,M,U,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,T=this._parts.length;m<T;m++)for(U=this._parts[m],v=0,M=U.length,P=M-1;v<M;P=v++)if(!(!u&&v===0)&&ex(o,U[P],U[v])<=Z)return!0;return!1}});function oE(o,u){return new Nr(o,u)}Nr._flat=rx;var za=Nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Q0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=Nr.prototype._convertLatLngs.call(this,o),m=u.length;return m>=2&&u[0]instanceof oe&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(o){Nr.prototype._setLatLngs.call(this,o),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,m=new W(u,u);if(o=new de(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,P=this._rings.length,T;v<P;v++)T=X0(this._rings[v],o,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,m,v,P,T,M,U,Z,V;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(T=0,Z=this._parts.length;T<Z;T++)for(m=this._parts[T],M=0,V=m.length,U=V-1;M<V;U=M++)v=m[M],P=m[U],v.y>o.y!=P.y>o.y&&o.x<(P.x-v.x)*(o.y-v.y)/(P.y-v.y)+v.x&&(u=!u);return u||Nr.prototype._containsPoint.call(this,o,!0)}});function sE(o,u){return new za(o,u)}var Sr=Pr.extend({initialize:function(o,u){b(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=N(o)?o:o.features,m,v,P;if(u){for(m=0,v=u.length;m<v;m++)P=u[m],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var T=this.options;if(T.filter&&!T.filter(o))return this;var M=su(o,T);return M?(M.feature=cu(o),M.defaultOptions=M.options,this.resetStyle(M),T.onEachFeature&&T.onEachFeature(o,M),this.addLayer(M)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function su(o,u){var m=o.type==="Feature"?o.geometry:o,v=m?m.coordinates:null,P=[],T=u&&u.pointToLayer,M=u&&u.coordsToLatLng||gh,U,Z,V,te;if(!v&&!m)return null;switch(m.type){case"Point":return U=M(v),sx(T,o,U,u);case"MultiPoint":for(V=0,te=v.length;V<te;V++)U=M(v[V]),P.push(sx(T,o,U,u));return new Pr(P);case"LineString":case"MultiLineString":return Z=lu(v,m.type==="LineString"?0:1,M),new Nr(Z,u);case"Polygon":case"MultiPolygon":return Z=lu(v,m.type==="Polygon"?1:2,M),new za(Z,u);case"GeometryCollection":for(V=0,te=m.geometries.length;V<te;V++){var fe=su({geometry:m.geometries[V],type:"Feature",properties:o.properties},u);fe&&P.push(fe)}return new Pr(P);case"FeatureCollection":for(V=0,te=m.features.length;V<te;V++){var ge=su(m.features[V],u);ge&&P.push(ge)}return new Pr(P);default:throw new Error("Invalid GeoJSON object.")}}function sx(o,u,m,v){return o?o(u,m):new au(m,v&&v.markersInheritOptions&&v)}function gh(o){return new oe(o[1],o[0],o[2])}function lu(o,u,m){for(var v=[],P=0,T=o.length,M;P<T;P++)M=u?lu(o[P],u-1,m):(m||gh)(o[P]),v.push(M);return v}function vh(o,u){return o=se(o),o.alt!==void 0?[g(o.lng,u),g(o.lat,u),g(o.alt,u)]:[g(o.lng,u),g(o.lat,u)]}function uu(o,u,m,v){for(var P=[],T=0,M=o.length;T<M;T++)P.push(u?uu(o[T],Pn(o[T])?0:u-1,m,v):vh(o[T],v));return!u&&m&&P.length>0&&P.push(P[0].slice()),P}function $a(o,u){return o.feature?i({},o.feature,{geometry:u}):cu(u)}function cu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var yh={toGeoJSON:function(o){return $a(this,{type:"Point",coordinates:vh(this.getLatLng(),o)})}};au.include(yh),ph.include(yh),ou.include(yh),Nr.include({toGeoJSON:function(o){var u=!Pn(this._latlngs),m=uu(this._latlngs,u?1:0,!1,o);return $a(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),za.include({toGeoJSON:function(o){var u=!Pn(this._latlngs),m=u&&!Pn(this._latlngs[0]),v=uu(this._latlngs,m?2:u?1:0,!0,o);return u||(v=[v]),$a(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Ia.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(o).geometry.coordinates)}),$a(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var m=u==="GeometryCollection",v=[];return this.eachLayer(function(P){if(P.toGeoJSON){var T=P.toGeoJSON(o);if(m)v.push(T.geometry);else{var M=cu(T);M.type==="FeatureCollection"?v.push.apply(v,M.features):v.push(M)}}}),m?$a(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function lx(o,u){return new Sr(o,u)}var lE=lx,du=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,m){this._url=o,this._bounds=ie(u),b(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&La(this._image),this},bringToBack:function(){return this._map&&Da(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ie(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:je("img");if(pe(u,"leaflet-image-layer"),this._zoomAnimated&&pe(u,"leaflet-zoom-animated"),this.options.className&&pe(u,this.options.className),u.onselectstart=p,u.onmousemove=p,u.onload=s(this.fire,this,"load"),u.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Fi(this._image,m,u)},_reset:function(){var o=this._image,u=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();rt(o,u.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){jn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),uE=function(o,u,m){return new du(o,u,m)},ux=du.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:je("video");if(pe(u,"leaflet-image-layer"),this._zoomAnimated&&pe(u,"leaflet-zoom-animated"),this.options.className&&pe(u,this.options.className),u.onselectstart=p,u.onmousemove=p,u.onloadeddata=s(this.fire,this,"load"),o){for(var m=u.getElementsByTagName("source"),v=[],P=0;P<m.length;P++)v.push(m[P].src);this._url=m.length>0?v:[u.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var M=je("source");M.src=this._url[T],u.appendChild(M)}}});function cE(o,u,m){return new ux(o,u,m)}var cx=du.extend({_initImage:function(){var o=this._image=this._url;pe(o,"leaflet-image-layer"),this._zoomAnimated&&pe(o,"leaflet-zoom-animated"),this.options.className&&pe(o,this.options.className),o.onselectstart=p,o.onmousemove=p}});function dE(o,u,m){return new cx(o,u,m)}var dr=qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof oe||N(o))?(this._latlng=se(o),b(this,u)):(b(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&jn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&jn(this._container,1),this.bringToFront(),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(jn(this._container,0),this._removeTimeout=setTimeout(s(Ue,void 0,this._container),200)):Ue(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=se(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&La(this._container),this},bringToBack:function(){return this._map&&Da(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof Pr){u=null;var m=this._source._layers;for(var v in m)if(m[v]._map){u=m[v];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=G(this.options.offset),m=this._getAnchor();this._zoomAnimated?rt(this._container,o.add(m)):u=u.add(o).add(m);var v=this._containerBottom=-u.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});_e.include({_initOverlay:function(o,u,m,v){var P=u;return P instanceof o||(P=new o(v).setContent(u)),m&&P.setLatLng(m),P}}),qn.include({_initOverlay:function(o,u,m,v){var P=m;return P instanceof o?(b(P,v),P._source=this):(P=u&&!v?u:new o(v,this),P.setContent(m)),P}});var fu=dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,dr.prototype.openOn.call(this,o)},onAdd:function(o){dr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",Wi))},onRemove:function(o){dr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",Wi))},getEvents:function(){var o=dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=je("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=je("div",o+"-content-wrapper",u);if(this._contentNode=je("div",o+"-content",m),ss(u),sh(this._contentNode),he(u,"contextmenu",Wi),this._tipContainer=je("div",o+"-tip-container",u),this._tip=je("div",o+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=je("a",o+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',he(v,"click",function(P){Nt(P),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var v=o.offsetHeight,P=this.options.maxHeight,T="leaflet-popup-scrolled";P&&v>P?(u.height=P+"px",pe(o,T)):Qe(o,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();rt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(rs(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,v=this._containerWidth,P=new W(this._containerLeft,-m-this._containerBottom);P._add(Ui(this._container));var T=o.layerPointToContainerPoint(P),M=G(this.options.autoPanPadding),U=G(this.options.autoPanPaddingTopLeft||M),Z=G(this.options.autoPanPaddingBottomRight||M),V=o.getSize(),te=0,fe=0;T.x+v+Z.x>V.x&&(te=T.x+v-V.x+Z.x),T.x-te-U.x<0&&(te=T.x-U.x),T.y+m+Z.y>V.y&&(fe=T.y+m-V.y+Z.y),T.y-fe-U.y<0&&(fe=T.y-U.y),(te||fe)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([te,fe]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fE=function(o,u){return new fu(o,u)};_e.mergeOptions({closePopupOnClick:!0}),_e.include({openPopup:function(o,u,m){return this._initOverlay(fu,o,u,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),qn.include({bindPopup:function(o,u){return this._popup=this._initOverlay(fu,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Pr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Hi(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var hu=dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){dr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){dr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=dr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=je("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,m,v=this._map,P=this._container,T=v.latLngToContainerPoint(v.getCenter()),M=v.layerPointToContainerPoint(o),U=this.options.direction,Z=P.offsetWidth,V=P.offsetHeight,te=G(this.options.offset),fe=this._getAnchor();U==="top"?(u=Z/2,m=V):U==="bottom"?(u=Z/2,m=0):U==="center"?(u=Z/2,m=V/2):U==="right"?(u=0,m=V/2):U==="left"?(u=Z,m=V/2):M.x<T.x?(U="right",u=0,m=V/2):(U="left",u=Z+(te.x+fe.x)*2,m=V/2),o=o.subtract(G(u,m,!0)).add(te).add(fe),Qe(P,"leaflet-tooltip-right"),Qe(P,"leaflet-tooltip-left"),Qe(P,"leaflet-tooltip-top"),Qe(P,"leaflet-tooltip-bottom"),pe(P,"leaflet-tooltip-"+U),rt(P,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&jn(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hE=function(o,u){return new hu(o,u)};_e.include({openTooltip:function(o,u,m){return this._initOverlay(hu,o,u,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),qn.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hu,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Pr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(he(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),he(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,m,v;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),v=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var dx=Ra.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Jl(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=G(m.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function mE(o){return new dx(o)}Ra.Default=cs;var ds=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){b(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ue(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(La(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Da(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof W?o:new W(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,m=-o(-1/0,1/0),v=0,P=u.length,T;v<P;v++)T=u[v].style.zIndex,u[v]!==this._container&&T&&(m=o(m,+T));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ue.ielt9){jn(this._container,this.options.opacity);var o=+new Date,u=!1,m=!1;for(var v in this._tiles){var P=this._tiles[v];if(!(!P.current||!P.loaded)){var T=Math.min(1,(o-P.loaded)/200);jn(P.el,T),T<1?u=!0:(P.active?m=!0:this._onOpaqueTile(P),P.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&($(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=u-Math.abs(o-m),this._onUpdateLevel(m)):(Ue(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[o],P=this._map;return v||(v=this._levels[o]={},v.el=je("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=P.project(P.unproject(P.getPixelOrigin()),o).round(),v.zoom=o,this._setZoomTransform(v,P.getCenter(),P.getZoom()),p(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var o,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ue(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,m,v){var P=Math.floor(o/2),T=Math.floor(u/2),M=m-1,U=new W(+P,+T);U.z=+M;var Z=this._tileCoordsToKey(U),V=this._tiles[Z];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),M>v?this._retainParent(P,T,M,v):!1)},_retainChildren:function(o,u,m,v){for(var P=2*o;P<2*o+2;P++)for(var T=2*u;T<2*u+2;T++){var M=new W(P,T);M.z=m+1;var U=this._tileCoordsToKey(M),Z=this._tiles[U];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);m+1<v&&this._retainChildren(P,T,m+1,v)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,m,v){var P=Math.round(u);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var T=this.options.updateWhenZooming&&P!==this._tileZoom;(!v||T)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,u)},_setZoomTransform:function(o,u,m){var v=this._map.getZoomScale(m,o.zoom),P=o.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,m)).round();ue.any3d?Fi(o.el,P,v):rt(o.el,P)},_resetGrid:function(){var o=this._map,u=o.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],v).x/m.x),Math.ceil(o.project([0,u.wrapLng[1]],v).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],v).y/m.x),Math.ceil(o.project([u.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(m,this._tileZoom),P=u.project(o,this._tileZoom).floor(),T=u.getSize().divideBy(v*2);return new de(P.subtract(T),P.add(T))},_update:function(o){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(o),P=this._pxBoundsToTileRange(v),T=P.getCenter(),M=[],U=this.options.keepBuffer,Z=new de(P.getBottomLeft().subtract([U,-U]),P.getTopRight().add([U,-U]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var te=this._tiles[V].coords;(te.z!==this._tileZoom||!Z.contains(new W(te.x,te.y)))&&(this._tiles[V].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var fe=P.min.y;fe<=P.max.y;fe++)for(var ge=P.min.x;ge<=P.max.x;ge++){var Ft=new W(ge,fe);if(Ft.z=this._tileZoom,!!this._isValidTile(Ft)){var vt=this._tiles[this._tileCoordsToKey(Ft)];vt?vt.current=!0:M.push(Ft)}}if(M.sort(function(qt,Fa){return qt.distanceTo(T)-Fa.distanceTo(T)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nn=document.createDocumentFragment();for(ge=0;ge<M.length;ge++)this._addTile(M[ge],Nn);this._level.el.appendChild(Nn)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!u.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(o);return ie(this.options.bounds).overlaps(v)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,m=this.getTileSize(),v=o.scaleBy(m),P=v.add(m),T=u.unproject(v,o.z),M=u.unproject(P,o.z);return[T,M]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),m=new Y(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),m=new W(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(o){var u=this._tiles[o];u&&(Ue(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){pe(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=p,o.onmousemove=p,ue.ielt9&&this.options.opacity<1&&jn(o,this.options.opacity)},_addTile:function(o,u){var m=this._getTilePos(o),v=this._tileCoordsToKey(o),P=this.createTile(this._wrapCoords(o),s(this._tileReady,this,o));this._initTile(P),this.createTile.length<2&&D(s(this._tileReady,this,o,null,P)),rt(P,m),this._tiles[v]={el:P,coords:o,current:!0},u.appendChild(P),this.fire("tileloadstart",{tile:P,coords:o})},_tileReady:function(o,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:o});var v=this._tileCoordsToKey(o);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(jn(m.el,0),$(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(pe(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ue.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new W(this._wrapX?h(o.x,this._wrapX):o.x,this._wrapY?h(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new de(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function pE(o){return new ds(o)}var Ba=ds.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=b(this,u),u.detectRetina&&ue.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var m=document.createElement("img");return he(m,"load",s(this._tileOnLoad,this,u,m)),he(m,"error",s(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var u={r:ue.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=m),u["-y"]=m}return _(this._url,i(u,this.options))},_tileOnLoad:function(o,u){ue.ielt9?setTimeout(s(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,m){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),o(m,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(o=u-o),o+v},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=p,u.onerror=p,!u.complete)){u.src=O;var m=this._tiles[o].coords;Ue(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",O),ds.prototype._removeTile.call(this,o)},_tileReady:function(o,u,m){if(!(!this._map||m&&m.getAttribute("src")===O))return ds.prototype._tileReady.call(this,o,u,m)}});function fx(o,u){return new Ba(o,u)}var hx=Ba.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var m=i({},this.defaultWmsParams);for(var v in u)v in this.options||(m[v]=u[v]);u=b(this,u);var P=u.detectRetina&&ue.retina?2:1,T=this.getTileSize();m.width=T.x*P,m.height=T.y*P,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ba.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),m=this._crs,v=ee(m.project(u[0]),m.project(u[1])),P=v.min,T=v.max,M=(this._wmsVersion>=1.3&&this._crs===ax?[P.y,P.x,T.y,T.x]:[P.x,P.y,T.x,T.y]).join(","),U=Ba.prototype.getTileUrl.call(this,o);return U+S(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(o,u){return i(this.wmsParams,o),u||this.redraw(),this}});function gE(o,u){return new hx(o,u)}Ba.WMS=hx,fx.wms=gE;var kr=qn.extend({options:{padding:.1},initialize:function(o){b(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var m=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,u),T=v.multiplyBy(-m).add(P).subtract(this._map._getNewPixelOrigin(o,u));ue.any3d?Fi(this._container,T,m):rt(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new de(m,m.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mx=kr.extend({options:{tolerance:0},getEvents:function(){var o=kr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");he(o,"mousemove",this._onMouseMove,this),he(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Ue(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kr.prototype._update.call(this);var o=this._bounds,u=this._container,m=o.getSize(),v=ue.retina?2:1;rt(u,o.min),u.width=v*m.x,u.height=v*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){kr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,m=u.next,v=u.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),m=[],v,P;for(P=0;P<u.length;P++){if(v=Number(u[P]),isNaN(v))return;m.push(v)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)o=v.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var m,v,P,T,M=o._parts,U=M.length,Z=this._ctx;if(U){for(Z.beginPath(),m=0;m<U;m++){for(v=0,P=M[m].length;v<P;v++)T=M[m][v],Z[v?"lineTo":"moveTo"](T.x,T.y);u&&Z.closePath()}this._fillStroke(Z,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,m=this._ctx,v=Math.max(Math.round(o._radius),1),P=(Math.max(Math.round(o._radiusY),1)||v)/v;P!==1&&(m.save(),m.scale(1,P)),m.beginPath(),m.arc(u.x,u.y/P,v,0,Math.PI*2,!1),P!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,u){var m=u.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),m,v,P=this._drawFirst;P;P=P.next)m=P.layer,m.options.interactive&&m._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var m,v,P=this._drawFirst;P;P=P.next)m=P.layer,m.options.interactive&&m._containsPoint(u)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(o),v&&(pe(this._container,"leaflet-interactive"),this._fireEvent([v],o,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,m){this._map._fireDOMEvent(u,m||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var m=u.next,v=u.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var m=u.next,v=u.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function px(o){return ue.canvas?new mx(o):null}var fs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),vE={_initContainer:function(){this._container=je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=fs("shape");pe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=fs("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;Ue(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,m=o._fill,v=o.options,P=o._container;P.stroked=!!v.stroke,P.filled=!!v.fill,v.stroke?(u||(u=o._stroke=fs("stroke")),P.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=N(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(P.removeChild(u),o._stroke=null),v.fill?(m||(m=o._fill=fs("fill")),P.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(P.removeChild(m),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),m=Math.round(o._radius),v=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){La(o._container)},_bringToBack:function(o){Da(o._container)}},mu=ue.vml?fs:At,hs=kr.extend({_initContainer:function(){this._container=mu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ue(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kr.prototype._update.call(this);var o=this._bounds,u=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),rt(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=mu("path");o.options.className&&pe(u,o.options.className),o.options.interactive&&pe(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ue(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,m=o.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Mt(o._parts,u))},_updateCircle:function(o){var u=o._point,m=Math.max(Math.round(o._radius),1),v=Math.max(Math.round(o._radiusY),1)||m,P="a"+m+","+v+" 0 1,0 ",T=o._empty()?"M0 0":"M"+(u.x-m)+","+u.y+P+m*2+",0 "+P+-m*2+",0 ";this._setPath(o,T)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){La(o._path)},_bringToBack:function(o){Da(o._path)}});ue.vml&&hs.include(vE);function gx(o){return ue.svg||ue.vml?new hs(o):null}_e.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&px(o)||gx(o)}});var vx=za.extend({initialize:function(o,u){za.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ie(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function yE(o,u){return new vx(o,u)}hs.create=mu,hs.pointsToPath=Mt,Sr.geometryToLayer=su,Sr.coordsToLatLng=gh,Sr.coordsToLatLngs=lu,Sr.latLngToCoords=vh,Sr.latLngsToCoords=uu,Sr.getFeature=$a,Sr.asFeature=cu,_e.mergeOptions({boxZoom:!0});var yx=cr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),is(),Jf(),this._startPoint=this._map.mouseEventToContainerPoint(o),he(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=je("div","leaflet-zoom-box",this._container),pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new de(this._point,this._startPoint),m=u.getSize();rt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Ue(this._box),Qe(this._container,"leaflet-crosshair")),as(),eh(),Ae(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var u=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_e.addInitHook("addHandler","boxZoom",yx),_e.mergeOptions({doubleClickZoom:!0});var xx=cr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,m=u.getZoom(),v=u.options.zoomDelta,P=o.originalEvent.shiftKey?m-v:m+v;u.options.doubleClickZoom==="center"?u.setZoom(P):u.setZoomAround(o.containerPoint,P)}});_e.addInitHook("addHandler","doubleClickZoom",xx),_e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _x=cr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new ti(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ie(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,P=(v-u+m)%o+u-m,T=(v+u+m)%o-u-m,M=Math.abs(P+m)<Math.abs(T+m)?P:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(o){var u=this._map,m=u.options,v=!m.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),v)u.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,M=m.easeLinearity,U=P.multiplyBy(M/T),Z=U.distanceTo([0,0]),V=Math.min(m.inertiaMaxSpeed,Z),te=U.multiplyBy(V/Z),fe=V/(m.inertiaDeceleration*M),ge=te.multiplyBy(-fe/2).round();!ge.x&&!ge.y?u.fire("moveend"):(ge=u._limitOffset(ge,u.options.maxBounds),D(function(){u.panBy(ge,{duration:fe,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});_e.addInitHook("addHandler","dragging",_x),_e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bx=cr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),he(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,m=o.scrollTop||u.scrollTop,v=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},m=this.keyCodes,v,P;for(v=0,P=m.left.length;v<P;v++)u[m.left[v]]=[-1*o,0];for(v=0,P=m.right.length;v<P;v++)u[m.right[v]]=[o,0];for(v=0,P=m.down.length;v<P;v++)u[m.down[v]]=[0,o];for(v=0,P=m.up.length;v<P;v++)u[m.up[v]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},m=this.keyCodes,v,P;for(v=0,P=m.zoomIn.length;v<P;v++)u[m.zoomIn[v]]=o;for(v=0,P=m.zoomOut.length;v<P;v++)u[m.zoomOut[v]]=-o},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,m=this._map,v;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[u],o.shiftKey&&(v=G(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(G(v),m.options.maxBounds)),m.options.worldCopyJump){var P=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(P)}else m.panBy(v)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Hi(o)}}});_e.addInitHook("addHandler","keyboard",bx),_e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wx=cr.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=K0(o),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),v),Hi(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,T=m?Math.ceil(P/m)*m:P,M=o._limitZoom(u+(this._delta>0?T:-T))-u;this._delta=0,this._startTime=null,M&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+M):o.setZoomAround(this._lastMousePos,u+M))}});_e.addInitHook("addHandler","scrollWheelZoom",wx);var xE=600;_e.mergeOptions({tapHold:ue.touchNative&&ue.safari&&ue.mobile,tapTolerance:15});var jx=cr.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new W(u.clientX,u.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",Nt),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),xE),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ae(document,"touchend",Nt),Ae(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new W(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});_e.addInitHook("addHandler","tapHold",jx),_e.mergeOptions({touchZoom:ue.touch,bounceAtZoomLimits:!0});var Px=cr.extend({addHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(o.touches[0]),v=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),Nt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(o.touches[0]),v=u.mouseEventToContainerPoint(o.touches[1]),P=m.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(P,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&P<1||this._zoom>u.getMaxZoom()&&P>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var T=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(P===1&&T.x===0&&T.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var M=s(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(M,this,!0),Nt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_e.addInitHook("addHandler","touchZoom",Px),_e.BoxZoom=yx,_e.DoubleClickZoom=xx,_e.Drag=_x,_e.Keyboard=bx,_e.ScrollWheelZoom=wx,_e.TapHold=jx,_e.TouchZoom=Px,n.Bounds=de,n.Browser=ue,n.CRS=Xe,n.Canvas=mx,n.Circle=ph,n.CircleMarker=ou,n.Class=F,n.Control=Gn,n.DivIcon=dx,n.DivOverlay=dr,n.DomEvent=RO,n.DomUtil=DO,n.Draggable=ti,n.Evented=J,n.FeatureGroup=Pr,n.GeoJSON=Sr,n.GridLayer=ds,n.Handler=cr,n.Icon=Ra,n.ImageOverlay=du,n.LatLng=oe,n.LatLngBounds=Y,n.Layer=qn,n.LayerGroup=Ia,n.LineUtil=YO,n.Map=_e,n.Marker=au,n.Mixin=HO,n.Path=ni,n.Point=W,n.PolyUtil=ZO,n.Polygon=za,n.Polyline=Nr,n.Popup=fu,n.PosAnimation=V0,n.Projection=XO,n.Rectangle=vx,n.Renderer=kr,n.SVG=hs,n.SVGOverlay=cx,n.TileLayer=Ba,n.Tooltip=hu,n.Transformation=xe,n.Util=I,n.VideoOverlay=ux,n.bind=s,n.bounds=ee,n.canvas=px,n.circle=aE,n.circleMarker=iE,n.control=ls,n.divIcon=mE,n.extend=i,n.featureGroup=tE,n.geoJSON=lx,n.geoJson=lE,n.gridLayer=pE,n.icon=nE,n.imageOverlay=uE,n.latLng=se,n.latLngBounds=ie,n.layerGroup=eE,n.map=zO,n.marker=rE,n.point=G,n.polygon=sE,n.polyline=oE,n.popup=fE,n.rectangle=yE,n.setOptions=b,n.stamp=d,n.svg=gx,n.svgOverlay=dE,n.tileLayer=fx,n.tooltip=hE,n.transformation=q,n.version=r,n.videoOverlay=cE;var _E=window.L;n.noConflict=function(){return window.L=_E,this},window.L=n})})(ug,ug.exports);var Aa=ug.exports;const Sd=jr(Aa);function Xl(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Wf(e,t){return t==null?function(r,i){const a=x.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=x.useRef();a.current||(a.current=e(r,i));const s=x.useRef(r),{instance:c}=a.current;return x.useEffect(function(){s.current!==r&&(t(c,r,s.current),s.current=r)},[c,r,i]),a}}function eO(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function tO(e){return function(n){const r=Ff(),i=e(Uf(n,r),r);return qC(r.map,n.attribution),y0(i.current,n.eventHandlers),eO(i.current,r),i}}function JW(e,t){const n=x.useRef();x.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function eH(e){return function(n){const r=Ff(),i=e(Uf(n,r),r);return y0(i.current,n.eventHandlers),eO(i.current,r),JW(i.current,n),i}}function tH(e,t){const n=Wf(e,t),r=tO(n);return JC(r)}function nH(e,t){const n=Wf(e),r=QW(n,t);return YW(r)}function nO(e,t){const n=Wf(e,t),r=eH(n);return JC(r)}function rH(e,t){const n=Wf(e,t),r=tO(n);return XW(r)}function iH(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function rO(){return Ff().map}function iO(e){const t=rO();return x.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const aH=nO(function({center:t,children:n,...r},i){const a=new Aa.Circle(t,r);return Xl(a,v0(i,{overlayContainer:a}))},YC),oH=nO(function({center:t,children:n,...r},i){const a=new Aa.CircleMarker(t,r);return Xl(a,v0(i,{overlayContainer:a}))},YC);function cg(){return cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cg.apply(this,arguments)}function sH({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:s,style:c,whenReady:d,zoom:f,...h},p){const[g]=x.useState({className:i,id:a,style:c}),[y,w]=x.useState(null);x.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const b=x.useCallback(j=>{if(j!==null&&y===null){const _=new Aa.Map(j,h);n!=null&&f!=null?_.setView(n,f):e!=null&&_.fitBounds(e,t),d!=null&&_.whenReady(d),w(qW(_))}},[]);x.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const S=y?fc.createElement(QC,{value:y},r):s??null;return fc.createElement("div",cg({},g,{ref:b}),S)}const x0=x.forwardRef(sH),kd=tH(function({position:t,...n},r){const i=new Aa.Marker(t,n);return Xl(i,v0(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),wm=nH(function(t,n){const r=new Aa.Popup(t,n.overlayContainer);return Xl(r,n)},function(t,n,{position:r},i){x.useEffect(function(){const{instance:s}=t;function c(f){f.popup===s&&(s.update(),i(!0))}function d(f){f.popup===s&&i(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var h;n.map.off({popupopen:c,popupclose:d}),(h=n.overlayContainer)==null||h.unbindPopup(),n.map.removeLayer(s)}},[t,n,i,r])}),_0=rH(function({url:t,...n},r){const i=new Aa.TileLayer(t,Uf(n,r));return Xl(i,r)},function(t,n,r){iH(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),lH=({patient:e,onClose:t})=>{const{user:n}=Ye(),[r,i]=x.useState(!1),[a,s]=x.useState({name:"",doe:"",gender:"male",address:"",province:"",district:"",subdistrict:"",addressLine:"",phone_number:"",caregivers_contact:"",caregiver_name:"",caregiver_phone:"",assigned_doctor:"",last_record_date:"",today_date:new Date().toISOString().split("T")[0],assigned_vhv_name:"",medical_record_number:"",patient_categories:{critical:!1,elderly:!1,pregnant:!1},personal_health_history:"",doctor_diagnosed:"",medications_history:"",food_allergies:"",medication_allergies:"",height:"",weight:"",bmi:"",temperature:"",pulse:"",blood_pressure:"",diabetes:"",mental_health_status:"",other_symptoms:"",pregnancy_details:"",smoker:!1,doctors_note:"",photo_url:"",lat:void 0,lng:void 0,patient_email:""}),[c,d]=x.useState([]),[f,h]=x.useState([]);x.useEffect(()=>{var j,_,N;(async()=>{const{data:E}=await Di(),O=(E||[]).filter(C=>C.role==="doctor").map(C=>({id:C.id,full_name:C.full_name}));d(O);const k=await Al();h(k.data||[])})(),e&&s({name:e.name,doe:e.doe,gender:e.gender,address:e.address,province:e.address.split(",").map(E=>E.trim()).slice(-1)[0]||"",district:e.address.split(",").map(E=>E.trim()).slice(-2,-1)[0]||"",subdistrict:e.address.split(",").map(E=>E.trim()).slice(-3,-2)[0]||"",addressLine:e.address.split(",").slice(0,-3).join(", ").trim(),phone_number:e.phone_number||"",caregivers_contact:e.caregivers_contact,caregiver_name:((j=e.caregivers_contact.split("-")[0])==null?void 0:j.trim())||"",caregiver_phone:((_=e.caregivers_contact.split("-")[1])==null?void 0:_.trim())||"",assigned_doctor:e.assigned_doctor,last_record_date:e.last_record_date,today_date:e.today_date,assigned_vhv_name:e.assigned_vhv_name,medical_record_number:e.medical_record_number,patient_categories:e.patient_categories,personal_health_history:e.personal_health_history,doctor_diagnosed:e.doctor_diagnosed,medications_history:e.medications_history,food_allergies:e.food_allergies,medication_allergies:e.medication_allergies,height:e.height,weight:e.weight,bmi:e.bmi,temperature:e.temperature,pulse:e.pulse,blood_pressure:e.blood_pressure,diabetes:e.diabetes,mental_health_status:e.mental_health_status,other_symptoms:e.other_symptoms,pregnancy_details:e.pregnancy_details,smoker:e.smoker,doctors_note:e.doctors_note,lat:e.lat,lng:e.lng,patient_email:e.user_id&&((N=Co(e.user_id))==null?void 0:N.email)||""})},[e]),x.useEffect(()=>{e||(async()=>{const j=await G2();s(_=>({..._,medical_record_number:j}))})()},[e]),x.useEffect(()=>{const j=parseFloat(a.height),_=parseFloat(a.weight);if(j>0&&_>0&&!Number.isNaN(j)&&!Number.isNaN(_)){const N=_/Math.pow(j/100,2);s(E=>({...E,bmi:N.toFixed(1)}))}},[a.height,a.weight]);const p=async j=>{j.preventDefault(),i(!0);try{const _=[a.addressLine,a.subdistrict,a.district,a.province].filter(Boolean).join(", "),N=[a.caregiver_name,a.caregiver_phone].filter(Boolean).join(" - "),E={name:a.name,doe:a.doe,gender:a.gender,address:_||a.address,phone_number:a.phone_number,caregivers_contact:N||a.caregivers_contact,assigned_doctor:a.assigned_doctor,last_record_date:a.last_record_date,today_date:a.today_date,assigned_vhv_name:a.assigned_vhv_name,medical_record_number:a.medical_record_number,patient_categories:a.patient_categories,personal_health_history:a.personal_health_history,doctor_diagnosed:a.doctor_diagnosed,medications_history:a.medications_history,food_allergies:a.food_allergies,medication_allergies:a.medication_allergies,height:a.height,weight:a.weight,bmi:a.bmi,temperature:a.temperature,pulse:a.pulse,blood_pressure:a.blood_pressure,diabetes:a.diabetes,mental_health_status:a.mental_health_status,other_symptoms:a.other_symptoms,pregnancy_details:a.pregnancy_details,smoker:a.smoker,doctors_note:a.doctors_note,lat:a.lat,lng:a.lng,photo_url:a.photo_url};if(e){let O={...E};if((!e.user_id||!Co(e.user_id))&&a.patient_email){const{data:C}=await z_(a.patient_email,a.name);C!=null&&C.id&&(O.user_id=C.id)}const{error:k}=await LM(e.id,O);if(k){console.error("Error updating patient:",k);return}}else{const{data:O}=await z_(a.patient_email,a.name),{error:k}=await MM({...E,created_by:(n==null?void 0:n.id)||"",user_id:(O==null?void 0:O.id)||""});if(k){console.error("Error creating patient:",k);return}}t()}catch(_){console.error("Error saving patient:",_)}finally{i(!1)}},g=j=>{const{name:_,value:N,type:E}=j.target;if(E==="checkbox"){const O=j.target;if(_.startsWith("patient_categories.")){const k=_.split(".")[1];s({...a,patient_categories:{...a.patient_categories,[k]:O.checked}})}else s({...a,[_]:O.checked})}else s({...a,[_]:N})},y=!1,w=x.useMemo(()=>a.lat&&a.lng?[a.lat,a.lng]:[13.793,100.321],[a.lat,a.lng]),b=x.useMemo(()=>Sd.divIcon({className:"patient-pin",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#a21caf;border:2px solid #fff;box-shadow:0 0 0 3px rgba(162,28,175,0.25);color:#fff;font-size:14px;line-height:1">👤</div>',iconSize:[26,26],iconAnchor:[13,13],popupAnchor:[0,-13]}),[]),S=()=>(iO({click(j){s(_=>({..._,lat:j.latlng.lat,lng:j.latlng.lng}))}}),null);return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsx("div",{className:"border-b border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:l.jsx(Zd,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:l.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Patient":"New Patient"})]})]})}),l.jsxs("form",{onSubmit:p,className:"p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),l.jsx("input",{type:"text",name:"name",required:!0,value:a.name,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Entry (DOE) *"}),l.jsx("input",{type:"date",name:"doe",required:!0,value:a.doe,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),l.jsxs("select",{name:"gender",required:!0,value:a.gender,onChange:g,disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",children:[l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical Record Number (auto)"}),l.jsx("input",{type:"text",name:"medical_record_number",required:!0,value:a.medical_record_number,onChange:g,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province"}),l.jsxs("select",{name:"province",value:a.province,onChange:g,disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Nakhon Pathom",children:"Nakhon Pathom"}),l.jsx("option",{value:"Bangkok",children:"Bangkok"}),l.jsx("option",{value:"Nonthaburi",children:"Nonthaburi"}),l.jsx("option",{value:"Pathum Thani",children:"Pathum Thani"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District/ Area"}),l.jsxs("select",{name:"district",value:a.district,onChange:g,disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Phutthamonthon",children:"Phutthamonthon"}),l.jsx("option",{value:"Salaya",children:"Salaya"}),l.jsx("option",{value:"Bang Khae",children:"Bang Khae"}),l.jsx("option",{value:"Mueang",children:"Mueang"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-District/ Sub-Area"}),l.jsxs("select",{name:"subdistrict",value:a.subdistrict,onChange:g,disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Phra Khanong Tai",children:"Phra Khanong Tai"}),l.jsx("option",{value:"Maha Sawat",children:"Maha Sawat"}),l.jsx("option",{value:"Salaya",children:"Salaya"})]})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx("input",{type:"text",name:"addressLine",placeholder:"House number, street, village",value:a.addressLine,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:j=>{var E;const _=(E=j.target.files)==null?void 0:E[0];if(!_)return;const N=new FileReader;N.onload=()=>s(O=>({...O,photo_url:String(N.result)})),N.readAsDataURL(_)},disabled:y}),l.jsx("span",{className:"text-sm text-gray-500",children:"or"}),l.jsx("input",{type:"text",name:"photo_url",placeholder:"Image URL",value:a.photo_url||"",onChange:g,readOnly:y,className:"flex-1 px-3 py-2 border rounded"})]}),a.photo_url&&l.jsx("img",{src:a.photo_url,alt:"preview",className:"mt-2 w-20 h-20 rounded-full object-cover"})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Email (for login)"}),l.jsx("input",{type:"email",name:"patient_email",value:a.patient_email,onChange:g,readOnly:y,required:!e,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caregiver's Name"}),l.jsx("input",{type:"text",name:"caregiver_name",value:a.caregiver_name,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caregiver's Contact Number"}),l.jsx("input",{type:"text",name:"caregiver_phone",value:a.caregiver_phone,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),l.jsx("input",{type:"text",name:"phone_number",value:a.phone_number,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Doctor *"}),l.jsxs("select",{name:"assigned_doctor",required:!0,value:a.assigned_doctor,onChange:g,disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[l.jsx("option",{value:"",children:"Select"}),c.map(j=>l.jsx("option",{value:j.full_name,children:j.full_name},j.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned VHV"}),l.jsxs("select",{name:"assigned_vhv_name",value:a.assigned_vhv_name,onChange:g,disabled:!a.subdistrict,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[l.jsx("option",{value:"",children:a.subdistrict?"Select":"Select sub-district first"}),(()=>{const j=k=>{if(!k)return"";const C=k.split(",").map(A=>A.trim()).filter(Boolean);return C.length>=3?C[C.length-3]:""},_=a.subdistrict,E=(f||[]).filter(k=>j(k.address)===_).map(k=>{var C;return{id:k.user_id||k.id,name:((C=k.user)==null?void 0:C.full_name)||k.name}}),O=new Set(E.map(k=>k.name));return a.assigned_vhv_name&&!O.has(a.assigned_vhv_name)&&E.unshift({id:"current",name:a.assigned_vhv_name}),E.map(k=>l.jsx("option",{value:k.name,children:k.name},k.id+k.name))})()]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Today's Date"}),l.jsx("input",{type:"date",name:"today_date",value:a.today_date,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Record Date"}),l.jsx("input",{type:"date",name:"last_record_date",value:a.last_record_date,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Location"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Click on the map to set the patient's exact location."}),l.jsx("div",{className:"h-72 w-full border border-gray-200 rounded-lg overflow-hidden",children:l.jsxs(x0,{center:w,zoom:14,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[l.jsx(_0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),l.jsx(S,{}),typeof a.lat=="number"&&typeof a.lng=="number"&&l.jsx(kd,{position:[a.lat,a.lng],icon:b})]})}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700",children:"Latitude"}),l.jsx("input",{type:"number",step:"any",name:"lat",value:a.lat??"",onChange:g,className:"w-full px-3 py-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700",children:"Longitude"}),l.jsx("input",{type:"number",step:"any",name:"lng",value:a.lng??"",onChange:g,className:"w-full px-3 py-2 border rounded"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Medical Information"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Categories"}),l.jsxs("div",{className:"flex space-x-6",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"patient_categories.critical",checked:a.patient_categories.critical,onChange:g,disabled:y,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Critical"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"patient_categories.elderly",checked:a.patient_categories.elderly,onChange:g,disabled:y,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Elderly"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"patient_categories.pregnant",checked:a.patient_categories.pregnant,onChange:g,disabled:y,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Pregnant"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal Health History"}),l.jsx("textarea",{name:"personal_health_history",rows:3,value:a.personal_health_history,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor Diagnosed"}),l.jsx("textarea",{name:"doctor_diagnosed",rows:3,value:a.doctor_diagnosed,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medications History"}),l.jsx("textarea",{name:"medications_history",rows:3,value:a.medications_history,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Allergies"}),l.jsx("input",{type:"text",name:"food_allergies",value:a.food_allergies,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medication Allergies"}),l.jsx("input",{type:"text",name:"medication_allergies",value:a.medication_allergies,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),l.jsx("input",{type:"text",name:"height",value:a.height,onChange:g,readOnly:y,placeholder:"e.g., 175 cm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),l.jsx("input",{type:"text",name:"weight",value:a.weight,onChange:g,readOnly:y,placeholder:"e.g., 70 kg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BMI"}),l.jsx("input",{type:"text",name:"bmi",value:a.bmi,onChange:g,readOnly:!0,placeholder:"Auto-calculated",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),l.jsx("input",{type:"text",name:"temperature",value:a.temperature,onChange:g,readOnly:y,placeholder:"e.g., 98.6°F",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pulse"}),l.jsx("input",{type:"text",name:"pulse",value:a.pulse,onChange:g,readOnly:y,placeholder:"e.g., 72 bpm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Pressure"}),l.jsx("input",{type:"text",name:"blood_pressure",value:a.blood_pressure,onChange:g,readOnly:y,placeholder:"e.g., 120/80 mmHg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diabetes"}),l.jsx("input",{type:"text",name:"diabetes",value:a.diabetes,onChange:g,readOnly:y,placeholder:"e.g., Type 2, HbA1c: 7.2%",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mental Health Status"}),l.jsx("div",{className:"flex flex-wrap gap-4",children:["Normal","Anxiety","Depression","Stress","Other"].map(j=>{const _=(a.mental_health_status||"").split(",").map(N=>N.trim()).includes(j);return l.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx("input",{type:"checkbox",checked:_,onChange:N=>{const E=new Set((a.mental_health_status||"").split(",").map(O=>O.trim()).filter(Boolean));N.target.checked?E.add(j):E.delete(j),s(O=>({...O,mental_health_status:Array.from(E).join(", ")}))},disabled:y,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),j]},j)})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Any Other Symptoms"}),l.jsx("textarea",{name:"other_symptoms",rows:2,value:a.other_symptoms,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pregnancy Details"}),l.jsx("textarea",{name:"pregnancy_details",rows:3,value:a.pregnancy_details,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",placeholder:"Include gestational age, due date, complications, etc."})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Smoker"}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:"smoker",checked:a.smoker===!0,onChange:()=>s(j=>({...j,smoker:!0})),disabled:y}),"Yes"]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:"smoker",checked:a.smoker===!1,onChange:()=>s(j=>({...j,smoker:!1})),disabled:y}),"No"]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor's Notes"}),l.jsx("textarea",{name:"doctors_note",rows:4,value:a.doctors_note,onChange:g,readOnly:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",placeholder:"Doctor's observations, recommendations, and notes..."})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Kd,{className:"w-5 h-5"}),l.jsx("span",{children:e?"Update Patient":"Create Patient"})]})})]})]})]})})},uH=()=>{const{user:e}=Ye(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,s]=x.useState(""),[c,d]=x.useState(!1),[f,h]=x.useState(null),[p,g]=x.useState(!1),[y,w]=x.useState(""),[b,S]=x.useState("");x.useEffect(()=>{j(),(async()=>{var J;if((e==null?void 0:e.role)!=="volunteer")return;const{data:B}=await Al(),K=(B||[]).find(W=>W.user_id===e.id);if(K){w(((J=K.user)==null?void 0:J.full_name)||K.name);const W=(K.address||"").split(",").map(G=>G.trim()).filter(Boolean),Q=W.length>=3?W[W.length-3]:"";S(Q)}})()},[]);const j=async()=>{try{const{data:B,error:K}=await Zo();K?console.error("Error fetching patients:",K):n((B||[]).map(J=>({...J,created_by_user:J.created_by_user})))}catch(B){console.error("Error fetching patients:",B)}finally{i(!1)}},_=x.useMemo(()=>{const B=a.toLowerCase();let K=t;if((e==null?void 0:e.role)==="volunteer"&&b){const J=W=>{if(!W)return"";const Q=W.split(",").map(G=>G.trim()).filter(Boolean);return Q.length>=3?Q[Q.length-3]:""};K=K.filter(W=>J(W.address)===b)}return(e==null?void 0:e.role)==="volunteer"&&p&&y&&(K=K.filter(J=>(J.assigned_vhv_name||"").toLowerCase().includes(y.toLowerCase()))),K.filter(J=>{var W,Q;return J.name.toLowerCase().includes(B)||J.medical_record_number.toLowerCase().includes(B)||((W=J.assigned_vhv_name)==null?void 0:W.toLowerCase().includes(B))||((Q=J.assigned_doctor)==null?void 0:Q.toLowerCase().includes(B))||J.doctor_diagnosed.toLowerCase().includes(B)})},[t,a,e==null?void 0:e.role,p,y,b]),[N,E]=x.useState(1),O=10,k=Math.max(1,Math.ceil(_.length/O)),C=x.useMemo(()=>{const B=(N-1)*O;return _.slice(B,B+O)},[_,N]);x.useEffect(()=>{E(1)},[a]);const A=B=>B.patient_categories.critical?"Critical":B.patient_categories.elderly?"Elderly":B.patient_categories.pregnant?"Pregnant":"Normal",R=B=>{try{if(!B.last_record_date)return"New";const K=new Date(B.last_record_date),J=new Date;return K.toDateString()===J.toDateString()?"New":"Follow-Up"}catch{return"Follow-Up"}},z=B=>{const K=(B.address||"").split(",").map(J=>J.trim()).filter(Boolean);return K.length>=3?K[K.length-3]:K.length>=2?K[K.length-2]:K.length>=1?K[K.length-1]:""},D=B=>{h(B),d(!0)},$=()=>{d(!1),h(null),j()};if(r)return l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})});if(c)return l.jsx(lH,{patient:f,onClose:$});const I=(e==null?void 0:e.role)==="doctor",F=(e==null?void 0:e.role)==="volunteer";return I||F?l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"relative w-full max-w-xl",children:[l.jsx(va,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search",value:a,onChange:B=>s(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{className:"ml-3 flex items-center gap-3",children:[F&&l.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:B=>g(B.target.checked)}),"Assigned to me"]}),((e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer")&&l.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-sky-100 text-sky-700 hover:bg-sky-200 border border-sky-200",children:[l.jsx(Wr,{className:"w-4 h-4"}),l.jsx("span",{children:"create new patient"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-sky-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Patient ID"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Name"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Type"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Category"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Sub District/Sub-Area"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Assigned VHV"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Action"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100",children:[C.map(B=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:B.medical_record_number}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:B.name}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${A(B)==="Critical"?"bg-red-100 text-red-700":A(B)==="Elderly"?"bg-orange-100 text-orange-700":A(B)==="Pregnant"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:A(B)})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:R(B)}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:z(B)}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:B.assigned_vhv_name||"-"}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsxs("button",{onClick:()=>D(B),className:"text-sky-700 hover:underline inline-flex items-center gap-1",children:[l.jsx(H2,{className:"w-4 h-4"}),"View Detail"]})})]},B.id)),C.length===0&&l.jsx("tr",{children:l.jsx("td",{className:"px-4 py-6 text-center text-gray-500",colSpan:7,children:"No patients found."})})]})]})}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Math.min(N*O,_.length)," of ",_.length," patients"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{className:"px-2 py-1 rounded hover:bg-gray-100 disabled:text-gray-300",onClick:()=>E(B=>Math.max(1,B-1)),disabled:N===1,"aria-label":"Previous page",children:"<"}),l.jsx("button",{className:`px-3 py-1 rounded ${N===1?"bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>E(1),children:"1"}),k>2&&l.jsxs(l.Fragment,{children:[N>2&&l.jsx("span",{className:"px-1",children:"…"}),N>1&&N<k&&l.jsx("button",{className:"px-3 py-1 rounded bg-gray-200",children:N}),N<k-1&&l.jsx("span",{className:"px-1",children:"…"})]}),k>1&&l.jsx("button",{className:`px-3 py-1 rounded ${N===k?"bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>E(k),children:k}),l.jsx("button",{className:"px-2 py-1 rounded hover:bg-gray-100 disabled:text-gray-300",onClick:()=>E(B=>Math.min(k,B+1)),disabled:N===k,"aria-label":"Next page",children:">"})]})]})]})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Management"}),((e==null?void 0:e.role)==="doctor"||(e==null?void 0:e.role)==="volunteer")&&l.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[l.jsx(Wr,{className:"w-5 h-5"}),l.jsx("span",{children:"Add Patient"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(va,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search patients by name, MRN, or condition...",value:a,onChange:B=>s(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(B=>{var K,J;return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all cursor-pointer",onClick:()=>D(B),children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["MRN: ",B.medical_record_number]}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:B.doctor_diagnosed})]})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(pr,{className:"w-4 h-4"}),l.jsxs("span",{children:["Gender: ",B.gender]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx($c,{className:"w-4 h-4"}),l.jsx("span",{children:B.caregivers_contact})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(tt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Dr: ",B.assigned_doctor]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mt-3",children:["Created by: ",(K=B.created_by_user)==null?void 0:K.full_name," (",(J=B.created_by_user)==null?void 0:J.role,")"]}),(B.patient_categories.critical||B.patient_categories.elderly||B.patient_categories.pregnant)&&l.jsxs("div",{className:"flex space-x-1 mt-2",children:[B.patient_categories.critical&&l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Critical"}),B.patient_categories.elderly&&l.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full",children:"Elderly"}),B.patient_categories.pregnant&&l.jsx("span",{className:"px-2 py-1 bg-pink-100 text-pink-800 text-xs rounded-full",children:"Pregnant"})]})]})]},B.id)})}),_.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(tt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:a?"No patients found matching your search.":"No patients found."})]})]})},cH=()=>{var s,c;const{user:e}=Ye(),[t,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{a()},[e]);const a=async()=>{if(e)try{const{data:d,error:f}=await Tl(e.id);f&&f.code!=="PGRST116"?console.error("Error fetching patient profile:",f):n(d)}catch(d){console.error("Error fetching patient profile:",d)}finally{i(!1)}};return r?l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):t?l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsx("div",{className:"border-b border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(tt,{className:"w-8 h-8 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),l.jsxs("p",{className:"text-gray-600",children:["Medical Record: ",t.medical_record_number]})]})]})}),l.jsxs("div",{className:"p-6",children:[(t.patient_categories.critical||t.patient_categories.elderly||t.patient_categories.pregnant)&&l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Patient Categories"}),l.jsxs("div",{className:"flex space-x-2",children:[t.patient_categories.critical&&l.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:"Critical"}),t.patient_categories.elderly&&l.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:"Elderly"}),t.patient_categories.pregnant&&l.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 text-sm rounded-full",children:"Pregnant"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[l.jsx(tt,{className:"w-5 h-5"}),l.jsx("span",{children:"Basic Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(pr,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Gender"}),l.jsx("p",{className:"text-gray-900 capitalize",children:t.gender})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(pi,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Address"}),l.jsx("p",{className:"text-gray-900",children:t.address})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($c,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Caregiver's Contact"}),l.jsx("p",{className:"text-gray-900",children:t.caregivers_contact})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(tt,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Assigned Doctor"}),l.jsx("p",{className:"text-gray-900",children:t.assigned_doctor})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(tt,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Assigned VHV"}),l.jsx("p",{className:"text-gray-900",children:t.assigned_vhv_name||"Not assigned"})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[l.jsx(xr,{className:"w-5 h-5"}),l.jsx("span",{children:"Vital Signs"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Height / Weight / BMI"}),l.jsxs("p",{className:"text-gray-900",children:[t.height," / ",t.weight," / ",t.bmi]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Temperature"}),l.jsx("p",{className:"text-gray-900",children:t.temperature})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Pulse"}),l.jsx("p",{className:"text-gray-900",children:t.pulse})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Blood Pressure"}),l.jsx("p",{className:"text-gray-900",children:t.blood_pressure})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Diabetes Status"}),l.jsx("p",{className:"text-gray-900",children:t.diabetes||"None"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Smoker"}),l.jsx("p",{className:"text-gray-900",children:t.smoker?"Yes":"No"})]})]})]})]}),t.personal_health_history&&l.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-blue-800 flex items-center space-x-2 mb-3",children:[l.jsx(pi,{className:"w-5 h-5"}),l.jsx("span",{children:"Personal Health History"})]}),l.jsx("p",{className:"text-blue-700",children:t.personal_health_history})]}),t.doctor_diagnosed&&l.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-green-800 flex items-center space-x-2 mb-3",children:[l.jsx(pi,{className:"w-5 h-5"}),l.jsx("span",{children:"Doctor Diagnosed"})]}),l.jsx("p",{className:"text-green-700",children:t.doctor_diagnosed})]}),(t.food_allergies||t.medication_allergies)&&l.jsxs("div",{className:"mt-8 p-4 bg-red-50 rounded-lg border border-red-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-red-800 flex items-center space-x-2 mb-3",children:[l.jsx(Ni,{className:"w-5 h-5"}),l.jsx("span",{children:"Allergies"})]}),t.food_allergies&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Food Allergies:"}),l.jsx("p",{className:"text-red-700",children:t.food_allergies})]}),t.medication_allergies&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Medication Allergies:"}),l.jsx("p",{className:"text-red-700",children:t.medication_allergies})]})]}),t.medications_history&&l.jsxs("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-purple-800 flex items-center space-x-2 mb-3",children:[l.jsx(SM,{className:"w-5 h-5"}),l.jsx("span",{children:"Medications History"})]}),l.jsx("p",{className:"text-purple-700",children:t.medications_history})]}),t.mental_health_status&&l.jsxs("div",{className:"mt-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 flex items-center space-x-2 mb-3",children:[l.jsx(xr,{className:"w-5 h-5"}),l.jsx("span",{children:"Mental Health Status"})]}),l.jsx("p",{className:"text-indigo-700",children:t.mental_health_status})]}),t.other_symptoms&&l.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-yellow-800 flex items-center space-x-2 mb-3",children:[l.jsx(Ni,{className:"w-5 h-5"}),l.jsx("span",{children:"Other Symptoms"})]}),l.jsx("p",{className:"text-yellow-700",children:t.other_symptoms})]}),t.pregnancy_details&&l.jsxs("div",{className:"mt-6 p-4 bg-pink-50 rounded-lg border border-pink-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-pink-800 flex items-center space-x-2 mb-3",children:[l.jsx(xr,{className:"w-5 h-5"}),l.jsx("span",{children:"Pregnancy Details"})]}),l.jsx("p",{className:"text-pink-700",children:t.pregnancy_details})]}),t.doctors_note&&l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2 mb-3",children:[l.jsx(pi,{className:"w-5 h-5"}),l.jsx("span",{children:"Doctor's Notes"})]}),l.jsx("p",{className:"text-gray-700",children:t.doctors_note})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-sm text-gray-500",children:[l.jsxs("p",{children:["Date of Entry: ",new Date(t.doe).toLocaleDateString()]}),l.jsxs("p",{children:["Last Record Date: ",t.last_record_date?new Date(t.last_record_date).toLocaleDateString():"N/A"]}),l.jsxs("p",{children:["Profile created by: ",(s=t.created_by_user)==null?void 0:s.full_name," (",(c=t.created_by_user)==null?void 0:c.role,")"]}),l.jsxs("p",{children:["Created: ",new Date(t.created_at).toLocaleDateString()]}),t.updated_at&&l.jsxs("p",{children:["Last updated: ",new Date(t.updated_at).toLocaleDateString()]})]})]})]})}):l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[l.jsx(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Profile Found"}),l.jsx("p",{className:"text-gray-600",children:"Your medical profile hasn't been created yet. Please contact your healthcare provider to set up your profile."})]})})},dH=()=>{var J,W,Q,G,de,ee;const{user:e}=Ye(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,s]=x.useState(null),[c,d]=x.useState(""),[f,h]=x.useState(!1),[p,g]=x.useState(""),[y,w]=x.useState(""),[b,S]=x.useState(!0),[j,_]=x.useState(""),[N,E]=x.useState(null),[O,k]=x.useState(null);x.useEffect(()=>{C(),A()},[e]);const C=async()=>{if(e)try{const{data:Y,error:ie}=await zM(e.id);ie?console.error("Error fetching messages:",ie):n(Y||[])}catch(Y){console.error("Error fetching messages:",Y)}finally{S(!1)}},A=async()=>{try{const{data:Y,error:ie}=await Di(e==null?void 0:e.id);ie?console.error("Error fetching users:",ie):i(Y||[])}catch(Y){console.error("Error fetching users:",Y)}},R=()=>{const Y=new Map;return t.forEach(ie=>{const oe=ie.sender_id===(e==null?void 0:e.id)?ie.recipient_id:ie.sender_id,se=ie.sender_id===(e==null?void 0:e.id)?ie.recipient:ie.sender;Y.has(oe)||Y.set(oe,{userId:oe,user:se,lastMessage:ie,messages:[]}),Y.get(oe).messages.push(ie)}),Array.from(Y.values()).sort((ie,oe)=>new Date(oe.lastMessage.created_at).getTime()-new Date(ie.lastMessage.created_at).getTime())},z=Y=>{var oe;const ie=(oe=Y.target.files)==null?void 0:oe[0];if(ie){if(ie.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!ie.type.startsWith("image/")){alert("Please select an image file");return}E(ie);const se=new FileReader;se.onload=Xe=>{var on;k((on=Xe.target)==null?void 0:on.result)},se.readAsDataURL(ie)}},D=()=>{E(null),k(null)},$=async()=>{if(!c.trim()&&!N)return;const Y=f?p:a;if(!Y)return;let ie,oe;N&&(ie=O,oe=N.name);try{const{data:se,error:Xe}=await lv({sender_id:(e==null?void 0:e.id)||"",recipient_id:Y,subject:f?y:"Re: Conversation",content:c||(N?`[Image: ${N.name}]`:""),image_url:ie,image_name:oe,is_read:!1});Xe?(console.error("Error sending message:",Xe),alert("Failed to send message. Please try again.")):(d(""),D(),f&&(w(""),h(!1),g(""),_("")),await C())}catch(se){console.error("Error sending message:",se),alert("Failed to send message. Please try again.")}},I=async Y=>{try{await $M(Y,(e==null?void 0:e.id)||"")}catch(ie){console.error("Error marking message as read:",ie)}},F=R(),B=a?((J=F.find(Y=>Y.userId===a))==null?void 0:J.messages)||[]:[],K=r.filter(Y=>Y.full_name.toLowerCase().includes(j.toLowerCase())||Y.email.toLowerCase().includes(j.toLowerCase()));return b?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),l.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[l.jsx(Wr,{className:"w-5 h-5"}),l.jsx("span",{children:"New Message"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("div",{className:"flex h-[600px]",children:[l.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h3",{className:"font-semibold text-gray-900",children:"Conversations"})}),l.jsx("div",{className:"overflow-y-auto",style:{height:"calc(600px - 60px)"},children:F.map(Y=>{var ie,oe;return l.jsx("div",{onClick:()=>{s(Y.userId),h(!1),Y.messages.filter(se=>se.recipient_id===(e==null?void 0:e.id)&&!se.is_read).forEach(se=>I(se.id))},className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${a===Y.userId?"bg-blue-50":""}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:l.jsx(tt,{className:"w-5 h-5 text-gray-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900 truncate",children:(ie=Y.user)==null?void 0:ie.full_name}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(oe=Y.user)==null?void 0:oe.role}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:Y.lastMessage.content})]}),Y.messages.some(se=>se.recipient_id===(e==null?void 0:e.id)&&!se.is_read)&&l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})},Y.userId)})})]}),l.jsx("div",{className:"flex-1",children:f?l.jsxs("div",{className:"p-4 h-full flex flex-col",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"New Message"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),l.jsxs("div",{className:"relative",children:[l.jsx(va,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:j,onChange:Y=>_(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),l.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-lg",children:K.map(Y=>l.jsxs("div",{onClick:()=>{g(Y.id),_(Y.full_name)},className:`p-2 cursor-pointer hover:bg-gray-50 ${p===Y.id?"bg-blue-50":""}`,children:[l.jsx("p",{className:"text-sm font-medium",children:Y.full_name}),l.jsx("p",{className:"text-xs text-gray-600 capitalize",children:Y.role})]},Y.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),l.jsx("input",{type:"text",value:y,onChange:Y=>w(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Message subject..."})]})]}),l.jsxs("div",{className:"flex-1 mt-4 flex flex-col",children:[O&&l.jsxs("div",{className:"mb-4 relative inline-block",children:[l.jsx("img",{src:O,alt:"Preview",className:"max-w-xs max-h-32 rounded-lg border border-gray-300"}),l.jsx("button",{onClick:D,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:l.jsx(Bc,{className:"w-3 h-3"})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:N==null?void 0:N.name})]}),l.jsx("textarea",{value:c,onChange:Y=>d(Y.target.value),placeholder:N?"Add a caption (optional)...":"Type your message...",className:"flex-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none"}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsx("div",{className:"flex space-x-2",children:l.jsxs("label",{className:"cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"}),l.jsxs("div",{className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all flex items-center space-x-1",children:[l.jsx(_M,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Image"})]})]})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:$,disabled:!c.trim()&&!N||!p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(R_,{className:"w-4 h-4"}),l.jsx("span",{children:"Send"})]})]})]})]})]}):a?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("p",{className:"font-semibold text-gray-900",children:((W=B[0])==null?void 0:W.sender_id)===(e==null?void 0:e.id)?(G=(Q=B[0])==null?void 0:Q.recipient)==null?void 0:G.full_name:(ee=(de=B[0])==null?void 0:de.sender)==null?void 0:ee.full_name})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:B.sort((Y,ie)=>new Date(Y.created_at).getTime()-new Date(ie.created_at).getTime()).map(Y=>l.jsx("div",{className:`flex ${Y.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Y.sender_id===(e==null?void 0:e.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[Y.image_url&&l.jsxs("div",{className:"mb-2",children:[l.jsx("img",{src:Y.image_url,alt:Y.image_name||"Shared image",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(Y.image_url,"_blank")}),Y.image_name&&l.jsx("p",{className:`text-xs mt-1 ${Y.sender_id===(e==null?void 0:e.id)?"text-blue-200":"text-gray-500"}`,children:Y.image_name})]}),Y.content&&Y.content!==`[Image: ${Y.image_name}]`&&l.jsx("p",{className:"text-sm",children:Y.content}),l.jsx("p",{className:`text-xs mt-1 ${Y.sender_id===(e==null?void 0:e.id)?"text-blue-200":"text-gray-500"}`,children:new Date(Y.created_at).toLocaleString()})]})},Y.id))}),l.jsxs("div",{className:"p-4 border-t border-gray-200",children:[O&&l.jsxs("div",{className:"mb-3 relative inline-block",children:[l.jsx("img",{src:O,alt:"Preview",className:"max-w-xs max-h-24 rounded-lg border border-gray-300"}),l.jsx("button",{onClick:D,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:l.jsx(Bc,{className:"w-3 h-3"})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:N==null?void 0:N.name})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("label",{className:"cursor-pointer self-end",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"}),l.jsx("div",{className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:l.jsx(jM,{className:"w-5 h-5"})})]}),l.jsx("textarea",{value:c,onChange:Y=>d(Y.target.value),placeholder:N?"Add a caption (optional)...":"Type your reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none",rows:2,onKeyPress:Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),$())}}),l.jsx("button",{onClick:$,disabled:!c.trim()&&!N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(R_,{className:"w-5 h-5"})})]})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(yo,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"Select a conversation to start messaging"})]})})})]})})]})},aO=({task:e,onClose:t,rolesFilter:n,forceAssignedToUserId:r,hideAssignedTo:i})=>{const{user:a}=Ye(),[s,c]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState([]),[g,y]=x.useState([]),[w,b]=x.useState("general"),[S,j]=x.useState({title:"",description:"",priority:"medium",status:"pending",assigned_to:r||"",patient_id:"",due_date:""}),[_,N]=x.useState([]);x.useEffect(()=>{if(E(),k(),O(),e){const D=!!(e.patient_id&&e.due_date);b(D?"appointment":"general"),j({title:e.title,description:e.description,priority:e.priority,status:e.status,assigned_to:r||e.assigned_to,patient_id:e.patient_id||"",due_date:e.due_date||""}),e.form_fields&&Array.isArray(e.form_fields)&&N(e.form_fields.map($=>{var I;return{...$,options:((I=$.options)==null?void 0:I.join(", "))||""}}))}},[e]);const E=async()=>{try{const{data:D,error:$}=await Di();if($)console.error("Error fetching users:",$);else{let I=(D||[]).filter(F=>F.role==="doctor"||F.role==="volunteer");n&&n.length&&(I=I.filter(F=>n.includes(F.role))),f(I)}}catch(D){console.error("Error fetching users:",D)}},O=async()=>{try{const{data:D,error:$}=await Al();$||y(D||[])}catch(D){console.error("Error fetching volunteers:",D)}},k=async()=>{try{const{data:D,error:$}=await Zo();$?console.error("Error fetching patients:",$):p(D||[])}catch(D){console.error("Error fetching patients:",D)}},C=async D=>{if(D.preventDefault(),c(!0),w==="appointment"){if(!S.patient_id){alert("Please select a patient for the appointment."),c(!1);return}if(!S.due_date){alert("Please select a date for the appointment."),c(!1);return}}try{const $=_.map(I=>({id:I.id,label:I.label,type:I.type,required:!!I.required,options:I.options?I.options.split(",").map(F=>F.trim()).filter(Boolean):void 0}));if(e){const{error:I}=await pl(e.id,{...S,form_fields:$});if(I){console.error("Error updating task:",I);return}}else{const I={...S,assigned_to:r||S.assigned_to,assigned_by:(a==null?void 0:a.id)||"",patient_id:w==="appointment"?S.patient_id:void 0,form_fields:$,form_responses:{}},{error:F}=await X2(I);if(F){console.error("Error creating task:",F);return}}t()}catch($){console.error("Error saving task:",$)}finally{c(!1)}},A=D=>{const{name:$,value:I}=D.target;$==="assigned_to"&&r||j({...S,[$]:I})},R=D=>{b(D),D==="general"&&j({...S,patient_id:""})},z=(n==null?void 0:n.includes("volunteer"))&&!e;return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsx("div",{className:"border-b border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:l.jsx(Zd,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:l.jsx(Ks,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Task":"Create New Task"})]})]})}),l.jsxs("form",{onSubmit:C,className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Type *"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:"taskType",value:"general",checked:w==="general",onChange:()=>R("general"),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),l.jsx("span",{className:"text-sm text-gray-700",children:"General Task"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:"taskType",value:"appointment",checked:w==="appointment",onChange:()=>R("appointment"),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Appointment"})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w==="appointment"?`Appointments require a patient and date, and will appear in the volunteer's "Today's Appointments" tab.`:`General tasks will appear in the volunteer's "Today's To-Do" tab when due today.`})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),l.jsx("input",{type:"text",name:"title",required:!0,value:S.title,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter task title..."})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),l.jsx("textarea",{name:"description",required:!0,rows:4,value:S.description,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Describe the task in detail..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),l.jsxs("select",{name:"priority",required:!0,value:S.priority,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),l.jsxs("select",{name:"status",required:!0,value:S.status,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),l.jsxs("div",{className:w==="general"?"opacity-50":"",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w==="appointment"?"Patient *":"Related Patient (Optional)"}),l.jsxs("select",{name:"patient_id",value:S.patient_id,onChange:A,required:w==="appointment",disabled:w==="general",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"",children:"Select patient..."}),h.map(D=>l.jsxs("option",{value:D.id,children:[D.name," - ",D.medical_record_number]},D.id))]}),w==="general"&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"General tasks don't require a patient assignment"})]}),i?l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To"}),l.jsx("div",{className:"px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:"You"})]}):l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To *"}),l.jsxs("select",{name:"assigned_to",required:!0,value:S.assigned_to,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"",children:"Select user..."}),(()=>{const D=I=>{if(!I)return"";const F=I.split(",").map(B=>B.trim()).filter(Boolean);return F.length>=3?F[F.length-3].toLowerCase():""};let $=d;if(n!=null&&n.includes("volunteer")&&w==="appointment"&&S.patient_id){const I=h.find(K=>K.id===S.patient_id),F=D(I==null?void 0:I.address),B=g.filter(K=>D(K.address)===F).map(K=>K.user_id);$=d.filter(K=>K.role==="volunteer"&&B.includes(K.id))}return $.map(I=>l.jsxs("option",{value:I.id,children:[I.full_name," (",I.role,")"]},I.id))})()]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w==="appointment"?"Appointment Date *":"Due Date (Optional)"}),l.jsx("input",{type:"date",name:"due_date",value:S.due_date,onChange:A,required:w==="appointment",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),w==="appointment"&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Appointment date is required and will appear in the volunteer's appointment schedule"})]}),(n==null?void 0:n.includes("volunteer"))&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Form Fields (for volunteer to fill)"}),l.jsxs("div",{className:"space-y-3",children:[_.map((D,$)=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-center",children:[l.jsx("input",{className:"px-3 py-2 border rounded md:col-span-2",placeholder:"Field label",value:D.label,onChange:I=>{const F=I.target.value;N(B=>B.map((K,J)=>J===$?{...K,label:F}:K))}}),l.jsxs("select",{className:"px-3 py-2 border rounded",value:D.type,onChange:I=>{const F=I.target.value;N(B=>B.map((K,J)=>J===$?{...K,type:F}:K))},children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"textarea",children:"Textarea"}),l.jsx("option",{value:"number",children:"Number"}),l.jsx("option",{value:"date",children:"Date"}),l.jsx("option",{value:"select",children:"Select"}),l.jsx("option",{value:"checkbox",children:"Checkbox"}),l.jsx("option",{value:"radio",children:"Radio"})]}),l.jsx("input",{className:"px-3 py-2 border rounded md:col-span-2",placeholder:"Options (comma separated)",value:D.options||"",onChange:I=>{const F=I.target.value;N(B=>B.map((K,J)=>J===$?{...K,options:F}:K))}}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!D.required,onChange:I=>{const F=I.target.checked;N(B=>B.map((K,J)=>J===$?{...K,required:F}:K))}})," Required"]}),l.jsx("button",{type:"button",className:"text-red-600 text-sm",onClick:()=>N(I=>I.filter((F,B)=>B!==$)),children:"Remove"})]})]},D.id)),l.jsx("button",{type:"button",className:"px-3 py-2 border rounded text-sm",onClick:()=>N(D=>[...D,{id:"f-"+Math.random().toString(36).slice(2,9),label:"",type:"text",options:""}]),children:"+ Add Field"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"These fields will appear on the volunteer side when they open the task to complete it."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Kd,{className:"w-5 h-5"}),l.jsx("span",{children:e?"Update Task":"Create Task"})]})})]})]})]})})},P1=({personalOnly:e=!1,title:t})=>{const{user:n}=Ye(),[r,i]=x.useState([]),[a,s]=x.useState(!0),[c,d]=x.useState(""),[f,h]=x.useState("all"),[p,g]=x.useState("all"),[y,w]=x.useState(!1),[b,S]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:z,error:D}=await ml(n==null?void 0:n.id);if(D)console.error("Error fetching tasks:",D);else{let $=z||[];e&&(n!=null&&n.id)&&($=$.filter(I=>I.assigned_to===n.id)),i($)}}catch(z){console.error("Error fetching tasks:",z)}finally{s(!1)}},_=async(z,D)=>{try{const{error:$}=await pl(z,{status:D});$?console.error("Error updating task:",$):j()}catch($){console.error("Error updating task:",$)}},N=async z=>{if(window.confirm("Are you sure you want to delete this task?"))try{const{error:D}=await Q2(z);D?console.error("Error deleting task:",D):j()}catch(D){console.error("Error deleting task:",D)}},E=z=>{S(z),w(!0)},O=()=>{w(!1),S(null),j()},k=r.filter(z=>{var F;const D=z.title.toLowerCase().includes(c.toLowerCase())||z.description.toLowerCase().includes(c.toLowerCase())||((F=z.assigned_to_user)==null?void 0:F.full_name.toLowerCase().includes(c.toLowerCase())),$=f==="all"||z.status===f,I=p==="all"||z.priority===p;return D&&$&&I}),C=z=>{switch(z){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=z=>{switch(z){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=z=>{switch(z){case"completed":return l.jsx(fl,{className:"w-4 h-4"});case"in_progress":return l.jsx(Rc,{className:"w-4 h-4"});case"pending":return l.jsx(Ni,{className:"w-4 h-4"});default:return l.jsx(Rc,{className:"w-4 h-4"})}};return a?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):y?l.jsx(aO,{task:b,onClose:O,forceAssignedToUserId:e?n==null?void 0:n.id:void 0,hideAssignedTo:e}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t||(e?"My Tasks":"Task Management")}),l.jsxs("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[l.jsx(Wr,{className:"w-5 h-5"}),l.jsx("span",{children:e?"Add Task":"Create Task"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(va,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search tasks...",value:c,onChange:z=>d(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:f,onChange:z=>h(z.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]}),l.jsxs("select",{value:p,onChange:z=>g(z.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Priority"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"low",children:"Low"})]})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:k.map(z=>{var D,$;return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2",children:z.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:z.description})]}),l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>E(z),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Task",children:l.jsx(K2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>N(z.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Task",children:l.jsx(Vd,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${C(z.priority)}`,children:[z.priority.charAt(0).toUpperCase()+z.priority.slice(1)," Priority"]}),l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${A(z.status)}`,children:[R(z.status),l.jsx("span",{children:z.status.replace("_"," ").charAt(0).toUpperCase()+z.status.replace("_"," ").slice(1)})]})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(tt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Assigned to: ",(D=z.assigned_to_user)==null?void 0:D.full_name]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(tt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Created by: ",($=z.assigned_by_user)==null?void 0:$.full_name]})]}),z.patient&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(tt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Patient: ",z.patient.name]})]}),z.due_date&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pr,{className:"w-4 h-4"}),l.jsxs("span",{children:["Due: ",new Date(z.due_date).toLocaleDateString()]})]})]}),z.status!=="completed"&&z.status!=="cancelled"&&l.jsxs("div",{className:"flex space-x-2",children:[z.status==="pending"&&l.jsx("button",{onClick:()=>_(z.id,"in_progress"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Start Task"}),z.status==="in_progress"&&l.jsx("button",{onClick:()=>_(z.id,"completed"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Complete"}),l.jsx("button",{onClick:()=>_(z.id,"cancelled"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Cancel"})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:[l.jsxs("p",{children:["Created: ",new Date(z.created_at).toLocaleDateString()]}),z.completed_at&&l.jsxs("p",{children:["Completed: ",new Date(z.completed_at).toLocaleDateString()]})]})]},z.id)})}),k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(fl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:c||f!=="all"||p!=="all"?"No tasks found matching your filters.":"No tasks found."})]})]})},fH=()=>{const{user:e}=Ye(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,s]=x.useState(""),[c,d]=x.useState("all"),[f,h]=x.useState("all"),[p,g]=x.useState(!1),[y,w]=x.useState(null);x.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:A}=await ml(),R=(A||[]).filter(z=>{var D;return((D=z.assigned_to_user)==null?void 0:D.role)==="volunteer"});n(R)}finally{i(!1)}},S=async(A,R)=>{const{error:z}=await pl(A,{status:R});z||b()},j=async A=>{if(!window.confirm("Delete this task?"))return;const{error:R}=await Q2(A);R||b()},_=A=>{w(A),g(!0)},N=()=>{g(!1),w(null),b()},E=t.filter(A=>{var $;const R=A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())||(($=A.assigned_to_user)==null?void 0:$.full_name.toLowerCase().includes(a.toLowerCase())),z=c==="all"||A.status===c,D=f==="all"||A.priority===f;return R&&z&&D}),O=A=>{switch(A){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=A=>{switch(A){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=A=>{switch(A){case"completed":return l.jsx(fl,{className:"w-4 h-4"});case"in_progress":return l.jsx(Rc,{className:"w-4 h-4"});case"pending":return l.jsx(Ni,{className:"w-4 h-4"});default:return l.jsx(Rc,{className:"w-4 h-4"})}};return r?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):p?l.jsx(aO,{task:y,onClose:N,rolesFilter:["volunteer"]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Volunteer Tasks"}),(e==null?void 0:e.role)==="doctor"&&l.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[l.jsx(Wr,{className:"w-5 h-5"}),l.jsx("span",{children:"Assign Task"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(va,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search tasks...",value:a,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:c,onChange:A=>d(A.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]}),l.jsxs("select",{value:f,onChange:A=>h(A.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Priority"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"low",children:"Low"})]})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:E.map(A=>{var R;return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2",children:A.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:A.description})]}),l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>_(A),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Task",children:l.jsx(K2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>j(A.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Task",children:l.jsx(Vd,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(A.priority)}`,children:[A.priority.charAt(0).toUpperCase()+A.priority.slice(1)," Priority"]}),l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${k(A.status)}`,children:[C(A.status),l.jsx("span",{children:A.status.replace("_"," ").charAt(0).toUpperCase()+A.status.replace("_"," ").slice(1)})]})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(tt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Volunteer: ",(R=A.assigned_to_user)==null?void 0:R.full_name]})]}),A.patient&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(tt,{className:"w-4 h-4"}),l.jsxs("span",{children:["Patient: ",A.patient.name]})]}),A.due_date&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pr,{className:"w-4 h-4"}),l.jsxs("span",{children:["Due: ",new Date(A.due_date).toLocaleDateString()]})]}),A.report&&l.jsxs("div",{className:"text-gray-700 bg-gray-50 border border-gray-200 rounded p-3",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Volunteer Report"}),l.jsx("div",{children:A.report})]})]}),A.status!=="completed"&&A.status!=="cancelled"&&l.jsxs("div",{className:"flex space-x-2",children:[A.status==="pending"&&l.jsx("button",{onClick:()=>S(A.id,"in_progress"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Start"}),A.status==="in_progress"&&l.jsx("button",{onClick:()=>S(A.id,"completed"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Complete"}),l.jsx("button",{onClick:()=>S(A.id,"cancelled"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Cancel"})]})]},A.id)})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(fl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No volunteer tasks found."})]})]})},N1=e=>{if(!e)return!1;const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()},hH=()=>{const{user:e}=Ye(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,s]=x.useState("appointments"),[c,d]=x.useState(null),[f,h]=x.useState(""),[p,g]=x.useState({});x.useEffect(()=>{y()},[]);const y=async()=>{const{data:I}=await ml(e==null?void 0:e.id),F=(I||[]).filter(B=>B.assigned_to===(e==null?void 0:e.id));n(F),i(!1)},w=x.useMemo(()=>t.filter(I=>N1(I.due_date)&&!!I.patient),[t]),b=x.useMemo(()=>t.filter(I=>N1(I.due_date)&&!I.patient),[t]),S=I=>{if(!I)return!1;const F=new Date(I),B=new Date;return F.setHours(0,0,0,0)>B.setHours(0,0,0,0)},j=I=>{if(!I)return!1;const F=new Date(I),B=new Date;return F.setHours(0,0,0,0)<B.setHours(0,0,0,0)},_=x.useMemo(()=>t.filter(I=>!!I.patient&&S(I.due_date)&&I.status!=="completed"&&I.status!=="cancelled"),[t]),N=x.useMemo(()=>t.filter(I=>!!I.patient&&j(I.due_date)&&I.status!=="completed"&&I.status!=="cancelled"),[t]),E=x.useMemo(()=>t.filter(I=>!!I.patient&&I.status==="completed"),[t]),O=x.useMemo(()=>t.filter(I=>!I.patient&&S(I.due_date)&&I.status!=="completed"&&I.status!=="cancelled"),[t]),k=x.useMemo(()=>t.filter(I=>!I.patient&&j(I.due_date)&&I.status!=="completed"&&I.status!=="cancelled"),[t]),C=x.useMemo(()=>t.filter(I=>!I.patient&&I.status==="completed"),[t]),A=async I=>{await pl(I.id,{status:"in_progress"}),y()},R=I=>{d(I),h(I.report||""),g(I.form_responses||{})},z=async()=>{c&&(await pl(c.id,{status:"completed",report:f,form_responses:p}),d(null),h(""),g({}),y())},D=a==="appointments"?w:b,$=({title:I,items:F})=>l.jsxs("div",{className:"mt-8",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:I}),F.length===0?l.jsx("div",{className:"text-gray-500 text-sm",children:"No items."}):l.jsx("div",{className:"space-y-3",children:F.map(B=>l.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-900",children:B.title}),l.jsx("div",{className:"text-gray-600 mt-1",children:B.description}),l.jsxs("div",{className:"text-gray-700 mt-2",children:["Due ",B.due_date?new Date(B.due_date).toLocaleDateString():"—"," ",B.patient&&l.jsxs("span",{children:["• Patient: ",B.patient.name]})]})]}),l.jsx("div",{className:"flex gap-2",children:B.status!=="completed"&&B.status!=="cancelled"&&l.jsx("button",{onClick:()=>R(B),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Open"})})]})},B.id))})]});return r?l.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"})}):l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Tasks"}),l.jsxs("div",{className:"inline-flex rounded-lg overflow-hidden border border-gray-200",children:[l.jsxs("button",{className:`px-4 py-2 text-sm flex items-center gap-2 ${a==="appointments"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>s("appointments"),children:[l.jsx(ov,{className:"w-4 h-4"})," Today’s Appointments"]}),l.jsxs("button",{className:`px-4 py-2 text-sm border-l border-gray-200 flex items-center gap-2 ${a==="todos"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,onClick:()=>s("todos"),children:[l.jsx(PM,{className:"w-4 h-4"})," Today’s To‑Do"]})]})]}),D.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Ni,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),"No tasks for today in this tab."]}):l.jsx("div",{className:"space-y-4",children:D.map(I=>l.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:I.title}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:I.description}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-3",children:[l.jsx(pr,{className:"w-4 h-4"})," Due ",I.due_date?new Date(I.due_date).toLocaleDateString():"—",I.patient&&l.jsxs("span",{children:["• Patient: ",I.patient.name]})]}),I.report&&l.jsxs("div",{className:"text-gray-700 bg-gray-50 border border-gray-200 rounded p-3 mt-3",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Submitted report"}),l.jsx("div",{children:I.report})]})]}),l.jsxs("div",{className:"flex gap-2",children:[I.status==="pending"&&l.jsx("button",{onClick:()=>A(I),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Start"}),(I.status==="in_progress"||I.status==="pending")&&l.jsxs("button",{onClick:()=>R(I),className:"px-3 py-1 rounded-lg bg-green-600 text-white text-sm hover:bg-green-700 flex items-center gap-1",children:[l.jsx(fl,{className:"w-4 h-4"})," Complete"]})]})]})},I.id))}),a==="appointments"?l.jsxs(l.Fragment,{children:[l.jsx($,{title:"Upcoming Appointments",items:_}),l.jsx($,{title:"Overdue Appointments",items:N}),l.jsx($,{title:"Finished Appointments",items:E})]}):l.jsxs(l.Fragment,{children:[l.jsx($,{title:"Upcoming To‑Do",items:O}),l.jsx($,{title:"Overdue To‑Do",items:k}),l.jsx($,{title:"Finished To‑Do",items:C})]}),l.jsx(g0,{open:!!c,title:c?`Complete Task: ${c.title}`:"",onClose:()=>d(null),children:l.jsxs("div",{className:"space-y-4",children:[(c==null?void 0:c.form_fields)&&c.form_fields.length>0&&l.jsx("div",{className:"space-y-3",children:c.form_fields.map(I=>{const F=p[I.id]??"",B=K=>g(J=>({...J,[I.id]:K}));switch(I.type){case"textarea":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[I.label,I.required&&" *"]}),l.jsx("textarea",{rows:3,className:"w-full border border-gray-300 rounded-lg p-2",value:F,onChange:K=>B(K.target.value)})]},I.id);case"number":case"date":case"text":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[I.label,I.required&&" *"]}),l.jsx("input",{type:I.type,className:"w-full border border-gray-300 rounded-lg p-2",value:F,onChange:K=>B(K.target.value)})]},I.id);case"select":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[I.label,I.required&&" *"]}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2",value:F,onChange:K=>B(K.target.value),children:[l.jsx("option",{value:"",children:"Select…"}),(I.options||[]).map(K=>l.jsx("option",{value:K,children:K},K))]})]},I.id);case"checkbox":return l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-1",children:[I.label,I.required&&" *"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:(I.options||[]).map(K=>{const J=Array.isArray(F)?F:[],W=J.includes(K);return l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:W,onChange:Q=>{const G=new Set(J);Q.target.checked?G.add(K):G.delete(K),B(Array.from(G))}})," ",K]},K)})})]},I.id);case"radio":return l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-1",children:[I.label,I.required&&" *"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:(I.options||[]).map(K=>l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:I.id,checked:F===K,onChange:()=>B(K)})," ",K]},K))})]},I.id);default:return null}})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Report / Notes"}),l.jsx("textarea",{value:f,onChange:I=>h(I.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"Write your visit notes, actions taken, observations, etc."})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg",onClick:()=>d(null),children:"Cancel"}),l.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg",onClick:z,children:"Submit & Complete"})]})]})})]})},Yu=[13.793,100.321];function S1(e,t){const n=f=>f*Math.PI/180,i=n(t[0]-e[0]),a=n(t[1]-e[1]),s=n(e[0]),c=n(t[0]),d=Math.sin(i/2)*Math.sin(i/2)+Math.cos(s)*Math.cos(c)*Math.sin(a/2)*Math.sin(a/2);return 2*6371*Math.asin(Math.sqrt(d))}const mH=({onBack:e})=>{const{user:t}=Ye(),[n,r]=x.useState("all"),[i,a]=x.useState(10),[s,c]=x.useState([]),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(Yu),[w,b]=x.useState([]),[S,j]=x.useState("");x.useEffect(()=>{(async()=>{const{data:R}=await UM();c(R||[])})()},[]),x.useEffect(()=>{(async()=>{if((t==null?void 0:t.role)!=="volunteer")return;const{data:R}=await Zo(),z=t.full_name,D=(R||[]).filter(J=>typeof J.assigned_vhv_name=="string"&&J.assigned_vhv_name.toLowerCase().includes(z.toLowerCase())),I=((await Al()).data||[]).find(J=>J.user_id===t.id),F=J=>{if(!J)return"";const W=J.split(",").map(Q=>Q.trim()).filter(Boolean);return W.length>=3?W[W.length-3]:""},B=F(I==null?void 0:I.address);j(B);const K=D.filter(J=>F(J.address)===B);b(K)})()},[t]);const _=x.useMemo(()=>(s||[]).filter(R=>n!=="all"&&n!=="patients"&&R.type!==n?!1:S1(d||Yu,[R.lat,R.lng])<=i),[s,n,i,d]),N=x.useMemo(()=>{if((t==null?void 0:t.role)!=="volunteer")return[];const R=d||Yu,z=D=>{if(!D)return"";const $=D.split(",").map(I=>I.trim()).filter(Boolean);return $.length>=3?$[$.length-3]:""};return(w||[]).filter(D=>z(D.address)===S).filter(D=>typeof D.lat=="number"&&typeof D.lng=="number").filter(D=>S1(R,[D.lat,D.lng])<=i)},[w,S,d,i,t]),E=R=>R==="volunteer"?"#22c55e":R==="center"?"#0ea5e9":"#ef4444",O=x.useMemo(()=>Sd.divIcon({className:"custom-my-location-icon",html:'<div style="display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:#2563eb;border:2px solid #fff;box-shadow:0 0 0 3px rgba(37,99,235,0.25);color:#fff;font-size:16px;line-height:1">🧍</div>',iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),[]),k=()=>{if(p(null),!("geolocation"in navigator)){p("Geolocation not supported by this browser");return}navigator.geolocation.getCurrentPosition(R=>{const z=[R.coords.latitude,R.coords.longitude];f(z),y(z)},R=>{p(R.message||"Unable to get current location")},{enableHighAccuracy:!0,timeout:1e4})},C=()=>{y(Yu)},A=({center:R})=>{const z=rO();return x.useEffect(()=>{z.setView(R)},[R]),null};return l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsx("div",{className:"border-b border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:l.jsx(Zd,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:l.jsx(sv,{className:"w-6 h-6 text-green-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nearby Care Network"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{value:n,onChange:R=>r(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"volunteer",children:"Volunteers"}),l.jsx("option",{value:"center",children:"Centers"}),l.jsx("option",{value:"hospital",children:"Hospitals"}),(t==null?void 0:t.role)==="volunteer"&&l.jsx("option",{value:"patients",children:"My Patients"})]}),l.jsxs("select",{value:i,onChange:R=>a(parseInt(R.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:5,children:"5 km"}),l.jsx("option",{value:10,children:"10 km"}),l.jsx("option",{value:20,children:"20 km"})]}),l.jsx("button",{onClick:k,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50",children:"Use My Location"}),l.jsx("button",{onClick:C,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50",children:"Reset"})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"h-[600px] w-full border border-gray-200 rounded-lg overflow-hidden",children:l.jsxs(x0,{center:g,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[l.jsx(A,{center:g}),l.jsx(_0,{attribution:"© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.jsx(aH,{center:g,radius:i*1e3,pathOptions:{color:"#0ea5e9",weight:1}}),d&&l.jsx(kd,{position:d,icon:O,children:l.jsx(wm,{children:l.jsx("div",{className:"font-semibold",children:"You are here"})})}),_.map(R=>l.jsx(oH,{center:[R.lat,R.lng],radius:10,pathOptions:{color:E(R.type),weight:2,fillOpacity:.6},children:l.jsx(wm,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"font-semibold",children:R.name}),l.jsx("div",{className:"text-xs text-gray-600 capitalize",children:R.type}),R.address&&l.jsx("div",{className:"text-xs text-gray-700",children:R.address}),R.phone&&l.jsxs("div",{className:"text-xs text-gray-700",children:["📞 ",R.phone]})]})})},R.id)),(t==null?void 0:t.role)==="volunteer"&&(n==="all"||n==="patients")&&N.map(R=>l.jsx(kd,{position:[R.lat,R.lng],icon:Sd.divIcon({className:"custom-patient-icon",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#a21caf;border:2px solid #fff;box-shadow:0 0 0 3px rgba(162,28,175,0.25);color:#fff;font-size:14px;line-height:1">👤</div>',iconSize:[26,26],iconAnchor:[13,13],popupAnchor:[0,-13]}),children:l.jsx(wm,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"font-semibold",children:R.name}),l.jsx("div",{className:"text-xs text-gray-600",children:"Patient"}),l.jsxs("div",{className:"text-xs text-gray-700",children:["MRN: ",R.medical_record_number]}),R.phone_number&&l.jsxs("div",{className:"text-xs text-gray-700",children:["📞 ",R.phone_number]})]})})},`pat-${R.id}`))]})}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"About this map"}),l.jsxs("div",{className:"text-blue-700 text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Center:"})," Salaya, Nakhon Pathom"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Filters:"})," ",n," • ",i," km radius"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Legend:"})," ",l.jsx("span",{className:"text-green-700",children:"Volunteers"}),", ",l.jsx("span",{className:"text-sky-700",children:"Centers"}),", ",l.jsx("span",{className:"text-red-700",children:"Hospitals"})]}),h&&l.jsxs("p",{className:"text-red-700",children:["Location error: ",h]})]})]})]})]})})},pH=({record:e,patientId:t,onClose:n})=>{const{user:r}=Ye(),[i,a]=x.useState(!1),[s,c]=x.useState(null),[d,f]=x.useState([]),[h,p]=x.useState({patient_id:t||"",record_date:new Date().toISOString().split("T")[0],temperature:"",pulse:"",blood_pressure:"",weight:"",blood_sugar:"",oxygen_saturation:"",pain_level:0,fatigue_level:0,mood:"good",appetite:"good",sleep_quality:"good",symptoms_description:"",medications_taken:"",activities:"",notes:""});x.useEffect(()=>{(r==null?void 0:r.role)==="patient"?g():((r==null?void 0:r.role)==="doctor"||(r==null?void 0:r.role)==="volunteer")&&y(),e&&p({patient_id:e.patient_id,record_date:e.record_date,temperature:e.temperature||"",pulse:e.pulse||"",blood_pressure:e.blood_pressure||"",weight:e.weight||"",blood_sugar:e.blood_sugar||"",oxygen_saturation:e.oxygen_saturation||"",pain_level:e.pain_level||0,fatigue_level:e.fatigue_level||0,mood:e.mood||"good",appetite:e.appetite||"good",sleep_quality:e.sleep_quality||"good",symptoms_description:e.symptoms_description||"",medications_taken:e.medications_taken||"",activities:e.activities||"",notes:e.notes||""})},[e,r]);const g=async()=>{if(r)try{const{data:_,error:N}=await Tl(r.id);!N&&_&&(c(_),p(E=>({...E,patient_id:_.id})))}catch(_){console.error("Error fetching patient profile:",_)}},y=async()=>{try{const{data:_,error:N}=await Zo();!N&&_&&(f(_),t&&p(E=>({...E,patient_id:t})))}catch(_){console.error("Error fetching patients:",_)}},w=async _=>{_.preventDefault(),a(!0);try{const N=h.patient_id||t||(s==null?void 0:s.id);if(!N){alert("Please select a patient before saving the record."),a(!1);return}if(e){const{error:E}=await qM(e.id,h);if(E){console.error("Error updating daily record:",E);return}}else{const{error:E}=await GM({...h,patient_id:N,recorded_by:(r==null?void 0:r.id)||""});if(E){console.error("Error creating daily record:",E);return}}n()}catch(N){console.error("Error saving daily record:",N)}finally{a(!1)}},b=_=>{const{name:N,value:E,type:O}=_.target;p(O==="range"||O==="number"?{...h,[N]:parseInt(E)||0}:{...h,[N]:E})},S=_=>_===0?"None":_<=3?"Mild":_<=6?"Moderate":_<=8?"Severe":"Extreme",j=_=>_===0?"text-green-600":_<=3?"text-yellow-600":_<=6?"text-orange-600":_<=8?"text-red-600":"text-red-800";return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsx("div",{className:"border-b border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:l.jsx(Zd,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:l.jsx(Oo,{className:"w-6 h-6 text-green-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Daily Record":"New Daily Record"})]})]})}),l.jsxs("form",{onSubmit:w,className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 pb-2 border-b border-gray-200",children:"Basic Information"}),((r==null?void 0:r.role)==="doctor"||(r==null?void 0:r.role)==="volunteer")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Patient *"}),l.jsxs("select",{name:"patient_id",required:!0,value:h.patient_id,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"",children:"Choose a patient..."}),d.map(_=>l.jsxs("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Date *"}),l.jsx("input",{type:"date",name:"record_date",required:!0,value:h.record_date,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsx("h4",{className:"text-md font-semibold text-gray-800 mt-6",children:"Vital Signs"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),l.jsx("input",{type:"text",name:"temperature",value:h.temperature,onChange:b,placeholder:"e.g., 98.6°F",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pulse"}),l.jsx("input",{type:"text",name:"pulse",value:h.pulse,onChange:b,placeholder:"e.g., 72 bpm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Pressure"}),l.jsx("input",{type:"text",name:"blood_pressure",value:h.blood_pressure,onChange:b,placeholder:"e.g., 120/80 mmHg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),l.jsx("input",{type:"text",name:"weight",value:h.weight,onChange:b,placeholder:"e.g., 70 kg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Sugar"}),l.jsx("input",{type:"text",name:"blood_sugar",value:h.blood_sugar,onChange:b,placeholder:"e.g., 110 mg/dL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Oxygen Saturation"}),l.jsx("input",{type:"text",name:"oxygen_saturation",value:h.oxygen_saturation,onChange:b,placeholder:"e.g., 98%",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 pb-2 border-b border-gray-200",children:"Symptoms & Well-being"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pain Level: ",l.jsxs("span",{className:`font-semibold ${j(h.pain_level)}`,children:[h.pain_level," - ",S(h.pain_level)]})]}),l.jsx("input",{type:"range",name:"pain_level",min:"0",max:"10",value:h.pain_level,onChange:b,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"0 - No Pain"}),l.jsx("span",{children:"10 - Extreme Pain"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fatigue Level: ",l.jsxs("span",{className:`font-semibold ${j(h.fatigue_level)}`,children:[h.fatigue_level," - ",S(h.fatigue_level)]})]}),l.jsx("input",{type:"range",name:"fatigue_level",min:"0",max:"10",value:h.fatigue_level,onChange:b,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"0 - No Fatigue"}),l.jsx("span",{children:"10 - Extreme Fatigue"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood"}),l.jsxs("select",{name:"mood",value:h.mood,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"excellent",children:"Excellent"}),l.jsx("option",{value:"good",children:"Good"}),l.jsx("option",{value:"fair",children:"Fair"}),l.jsx("option",{value:"poor",children:"Poor"}),l.jsx("option",{value:"very_poor",children:"Very Poor"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appetite"}),l.jsxs("select",{name:"appetite",value:h.appetite,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"excellent",children:"Excellent"}),l.jsx("option",{value:"good",children:"Good"}),l.jsx("option",{value:"fair",children:"Fair"}),l.jsx("option",{value:"poor",children:"Poor"}),l.jsx("option",{value:"very_poor",children:"Very Poor"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sleep Quality"}),l.jsxs("select",{name:"sleep_quality",value:h.sleep_quality,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[l.jsx("option",{value:"excellent",children:"Excellent"}),l.jsx("option",{value:"good",children:"Good"}),l.jsx("option",{value:"fair",children:"Fair"}),l.jsx("option",{value:"poor",children:"Poor"}),l.jsx("option",{value:"very_poor",children:"Very Poor"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symptoms Description"}),l.jsx("textarea",{name:"symptoms_description",rows:3,value:h.symptoms_description,onChange:b,placeholder:"Describe any symptoms you're experiencing...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medications Taken"}),l.jsx("textarea",{name:"medications_taken",rows:2,value:h.medications_taken,onChange:b,placeholder:"List medications taken today...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activities"}),l.jsx("textarea",{name:"activities",rows:2,value:h.activities,onChange:b,placeholder:"Describe your activities today...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),l.jsx("textarea",{name:"notes",rows:3,value:h.notes,onChange:b,placeholder:"Any additional notes or observations...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Kd,{className:"w-5 h-5"}),l.jsx("span",{children:e?"Update Record":"Save Record"})]})})]})]})]})})},gH=()=>{const{user:e}=Ye(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,s]=x.useState(!0),[c,d]=x.useState(""),[f,h]=x.useState("all"),[p,g]=x.useState(!1),[y,w]=x.useState(null);x.useEffect(()=>{b(),(e==null?void 0:e.role)!=="patient"&&S()},[e]);const b=async()=>{try{const{data:C,error:A}=await VM(void 0,(e==null?void 0:e.role)==="patient"?e.id:void 0);A?console.error("Error fetching daily records:",A):n(C||[])}catch(C){console.error("Error fetching daily records:",C)}finally{s(!1)}},S=async()=>{try{const{data:C,error:A}=await Zo();A?console.error("Error fetching patients:",A):i(C||[])}catch(C){console.error("Error fetching patients:",C)}},j=C=>{w(C),g(!0)},_=async C=>{if(window.confirm("Are you sure you want to delete this daily record?"))try{const{error:A}=await YM(C);A?console.error("Error deleting record:",A):b()}catch(A){console.error("Error deleting record:",A)}},N=()=>{g(!1),w(null),b()},E=t.filter(C=>{var z,D,$;const A=((z=C.patient)==null?void 0:z.name.toLowerCase().includes(c.toLowerCase()))||((D=C.symptoms_description)==null?void 0:D.toLowerCase().includes(c.toLowerCase()))||(($=C.notes)==null?void 0:$.toLowerCase().includes(c.toLowerCase())),R=f==="all"||C.patient_id===f;return A&&R}),O=C=>{switch(C){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-orange-100 text-orange-800";case"very_poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=C=>!C||C===0?"text-green-600":C<=3?"text-yellow-600":C<=6?"text-orange-600":C<=8?"text-red-600":"text-red-800";return a?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full animate-spin"})})}):p?l.jsx(pH,{record:y,onClose:N}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Daily Records"}),l.jsxs("button",{onClick:()=>g(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2 transition-colors",children:[l.jsx(Wr,{className:"w-5 h-5"}),l.jsx("span",{children:"Add Record"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(va,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search records...",value:c,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(e==null?void 0:e.role)!=="patient"&&l.jsxs("select",{value:f,onChange:C=>h(C.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Patients"}),r.map(C=>l.jsxs("option",{value:C.id,children:[C.name," - ",C.medical_record_number]},C.id))]})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:E.map(C=>{var A,R,z,D;return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:l.jsx(Oo,{className:"w-5 h-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.role)==="patient"?"My Record":(A=C.patient)==null?void 0:A.name}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(pr,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(C.record_date).toLocaleDateString()})]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>j(C),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit Record",children:l.jsx(W2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>_(C.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Record",children:l.jsx(Vd,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vital Signs"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[C.temperature&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Temp:"}),l.jsx("span",{className:"ml-1 font-medium",children:C.temperature})]}),C.pulse&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Pulse:"}),l.jsx("span",{className:"ml-1 font-medium",children:C.pulse})]}),C.blood_pressure&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"BP:"}),l.jsx("span",{className:"ml-1 font-medium",children:C.blood_pressure})]}),C.weight&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Weight:"}),l.jsx("span",{className:"ml-1 font-medium",children:C.weight})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Mood:"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(C.mood)}`,children:((R=C.mood)==null?void 0:R.replace("_"," ").charAt(0).toUpperCase())+((z=C.mood)==null?void 0:z.replace("_"," ").slice(1))})]}),C.pain_level!==void 0&&C.pain_level>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Pain Level:"}),l.jsxs("span",{className:`font-medium ${k(C.pain_level)}`,children:[C.pain_level,"/10"]})]}),C.fatigue_level!==void 0&&C.fatigue_level>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Fatigue:"}),l.jsxs("span",{className:`font-medium ${k(C.fatigue_level)}`,children:[C.fatigue_level,"/10"]})]}),C.symptoms_description&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Symptoms:"}),l.jsx("p",{className:"text-sm text-gray-900 mt-1 line-clamp-2",children:C.symptoms_description})]}),C.notes&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Notes:"}),l.jsx("p",{className:"text-sm text-gray-900 mt-1 line-clamp-2",children:C.notes})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(tt,{className:"w-3 h-3"}),l.jsxs("span",{children:["Recorded by: ",(D=C.recorded_by_user)==null?void 0:D.full_name]})]}),l.jsxs("p",{className:"mt-1",children:["Created: ",new Date(C.created_at).toLocaleDateString()]})]})]},C.id)})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Oo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:c||f!=="all"?"No records found matching your filters.":"No daily records found."}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Start tracking daily symptoms and vital signs by creating your first record."})]})]})},vH=()=>{const{user:e}=Ye(),[t,n]=x.useState(!0),[r,i]=x.useState(null),[a,s]=x.useState([]),[c,d]=x.useState(!1),[f,h]=x.useState([]),[p,g]=x.useState({doctorId:"",date:"",message:""}),[y,w]=x.useState(!1);x.useEffect(()=>{(async()=>{try{if(!(e!=null&&e.id))return;const[{data:_},{data:N}]=await Promise.all([Tl(e.id),Di()]),E=(_==null?void 0:_.id)||null;i(E);const O=(N||[]).filter(A=>A.role==="doctor");h(O);const{data:k}=await ml(),C=(k||[]).filter(A=>A.patient_id===E);s(C)}finally{n(!1)}})()},[e]);const b=x.useMemo(()=>{const _=new Date;return _.setHours(0,0,0,0),_.getTime()},[]),S=x.useMemo(()=>{const _=[],N=[],E=[];for(const k of a){if(!k.due_date){E.push(k);continue}const C=new Date(k.due_date).getTime();!(k.status==="completed"||k.status==="cancelled")&&C<b?_.push(k):N.push(k)}const O=(k,C)=>{const A=k.due_date?new Date(k.due_date).getTime():0,R=C.due_date?new Date(C.due_date).getTime():0;return A-R};return{overdue:_.sort(O),upcoming:N.sort(O),undated:E}},[a,b]),j=async _=>{if(_.preventDefault(),!(!r||!(e!=null&&e.id))&&!(!p.doctorId||!p.date)){w(!0);try{await X2({title:"Appointment Request",description:p.message||"Patient requested an appointment",priority:"medium",status:"pending",assigned_to:p.doctorId,assigned_by:e.id,patient_id:r,due_date:p.date}),await lv({sender_id:e.id,recipient_id:p.doctorId,subject:"Appointment Request",content:`Patient requests an appointment on ${p.date}.

Message: ${p.message||"(no additional message)"}
`}),d(!1),g({doctorId:"",date:"",message:""});const{data:N}=await ml(),E=(N||[]).filter(O=>O.patient_id===r);s(E),alert("Appointment request sent")}finally{w(!1)}}};return t?l.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"})}):l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(ov,{className:"w-6 h-6 text-blue-600"})," Appointments"]}),l.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",onClick:()=>d(!0),children:[l.jsx(Wr,{className:"w-4 h-4"})," Request Appointment"]})]}),a.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(pr,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),"No appointments found."]}):l.jsxs("div",{className:"space-y-6",children:[S.overdue.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-red-700 mb-2",children:"Overdue"}),l.jsx("div",{className:"space-y-3",children:S.overdue.map(_=>l.jsx("div",{className:"bg-white border border-red-200 rounded-xl p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:_.title||"Appointment"}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:_.description}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[l.jsx(pr,{className:"w-4 h-4"})," ",_.due_date?new Date(_.due_date).toLocaleDateString():"—",_.assigned_to_user&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx(tt,{className:"w-4 h-4"})," ",_.assigned_to_user.full_name]})]})]}),l.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-red-50 text-red-800 border-red-200 h-fit",children:"Overdue"})]})},_.id))})]}),S.upcoming.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upcoming"}),l.jsx("div",{className:"space-y-3",children:S.upcoming.map(_=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:_.title||"Appointment"}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:_.description}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[l.jsx(pr,{className:"w-4 h-4"})," ",_.due_date?new Date(_.due_date).toLocaleDateString():"—",_.assigned_to_user&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx(tt,{className:"w-4 h-4"})," ",_.assigned_to_user.full_name]})]})]}),l.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-blue-50 text-blue-800 border-blue-200 h-fit",children:_.status.replace("_"," ")})]})},_.id))})]}),S.undated.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Other"}),l.jsx("div",{className:"space-y-3",children:S.undated.map(_=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:_.title||"Appointment"}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:_.description}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[l.jsx(pr,{className:"w-4 h-4"})," —",_.assigned_to_user&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx(tt,{className:"w-4 h-4"})," ",_.assigned_to_user.full_name]})]})]}),l.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium border bg-blue-50 text-blue-800 border-blue-200 h-fit",children:_.status.replace("_"," ")})]})},_.id))})]})]}),c&&l.jsxs("div",{className:"mt-8 bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-900 font-semibold",children:[l.jsx(yo,{className:"w-5 h-5 text-blue-600"})," New Appointment Request"]}),l.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor"}),l.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.doctorId,onChange:_=>g({...p,doctorId:_.target.value}),required:!0,children:[l.jsx("option",{value:"",children:"Select doctor…"}),f.map(_=>l.jsx("option",{value:_.id,children:_.full_name},_.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),l.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.date,onChange:_=>g({...p,date:_.target.value}),required:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (optional)"}),l.jsx("textarea",{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.message,onChange:_=>g({...p,message:_.target.value}),placeholder:"Additional details…"})]}),l.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2",children:[l.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg",onClick:()=>d(!1),children:"Cancel"}),l.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:y?"Sending…":"Send Request"})]})]})]})]})},yH=()=>{const{user:e}=Ye(),t=(e==null?void 0:e.role)==="doctor",[n,r]=x.useState([]),[i,a]=x.useState(!0),[s,c]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(null),g=async()=>{const{data:w}=await Al();r(w||[]),a(!1)};x.useEffect(()=>{g()},[]);const y=x.useMemo(()=>{const w=s.toLowerCase();return n.filter(b=>b.name.toLowerCase().includes(w)||(b.volunteer_code||"").toLowerCase().includes(w)||(b.email||"").toLowerCase().includes(w)||(b.phone||"").toLowerCase().includes(w))},[n,s]);return i?l.jsx("div",{className:"py-10 text-center",children:"Loading…"}):d?l.jsx(xH,{record:h,onClose:()=>{f(!1),p(null),g()}}):l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"relative w-full max-w-xl",children:[l.jsx(va,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{value:s,onChange:w=>c(w.target.value),placeholder:"Search",className:"w-full pl-10 pr-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t&&l.jsxs("button",{onClick:()=>f(!0),className:"ml-3 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-sky-100 text-sky-700 hover:bg-sky-200 border border-sky-200",children:[l.jsx(Wr,{className:"w-4 h-4"}),"create volunteer"]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-sky-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Volunteer ID"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Name"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Phone"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Address"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Action"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:y.map(w=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm",children:w.volunteer_code}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[w.photo_url?l.jsx("img",{src:w.photo_url,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100"}),l.jsx("span",{children:w.name})]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:w.email}),l.jsx("td",{className:"px-4 py-3 text-sm",children:w.phone||"-"}),l.jsx("td",{className:"px-4 py-3 text-sm",children:w.address||"-"}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsxs("button",{onClick:()=>{p(w),f(!0)},className:"text-sky-700 hover:underline inline-flex items-center gap-1",children:[l.jsx(H2,{className:"w-4 h-4"}),"View Detail"]})})]},w.id))})]})})})]})},xH=({record:e,onClose:t})=>{const n=!!e,[r,i]=x.useState(e),[a,s]=x.useState([]),[c,d]=x.useState(!1),[f,h]=x.useState(""),[p,g]=x.useState(""),[y,w]=x.useState(""),[b,S]=x.useState("");x.useEffect(()=>{if((async()=>{const{data:k}=await Di();s((k||[]).filter(C=>C.role==="volunteer"))})(),e!=null&&e.address){const k=(e.address||"").split(",").map(A=>A.trim()).filter(Boolean);h(k.slice(-1)[0]||""),g(k.slice(-2,-1)[0]||""),w(k.slice(-3,-2)[0]||"");const C=k.slice(0,-3).join(", ");S(C)}},[]);const j=async k=>{k.preventDefault(),d(!0);try{const C=[b,y,p,f].filter(Boolean).join(", ");if(n&&r)await RM(r.id,{...r,address:C});else{const A=(r==null?void 0:r.name)||"",R=(r==null?void 0:r.email)||"";let z=(a||[]).find($=>$.email===R);if(!z){const{data:$}=await BM(R,A);z=$}const D=await Y2();await IM({user_id:z.id,name:A,email:R,phone:r==null?void 0:r.phone,address:C,lat:r==null?void 0:r.lat,lng:r==null?void 0:r.lng,dob:r==null?void 0:r.dob,photo_url:r==null?void 0:r.photo_url,volunteer_code:D})}t()}finally{d(!1)}},_=x.useMemo(()=>Sd.divIcon({className:"vol-pin",html:'<div style="display:flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#22c55e;border:2px solid #fff;box-shadow:0 0 0 3px rgba(34,197,94,0.25);color:#fff;font-size:14px;line-height:1">🤝</div>',iconSize:[26,26],iconAnchor:[13,13]}),[]),N=r==null?void 0:r.lat,E=r==null?void 0:r.lng,O=typeof N=="number"&&typeof E=="number"?[N,E]:[13.793,100.321];return l.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:n?"Edit Volunteer":"Create Volunteer"}),l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",value:(r==null?void 0:r.name)||"",onChange:k=>i(C=>({...C||{},name:k.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",className:"w-full px-4 py-3 border rounded",value:(r==null?void 0:r.email)||"",onChange:k=>i(C=>({...C||{},email:k.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),l.jsx("input",{type:"date",className:"w-full px-4 py-3 border rounded",value:(r==null?void 0:r.dob)||"",onChange:k=>i(C=>({...C||{},dob:k.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var R;const C=(R=k.target.files)==null?void 0:R[0];if(!C)return;const A=new FileReader;A.onload=()=>i(z=>({...z||{},photo_url:String(A.result)})),A.readAsDataURL(C)}}),l.jsx("span",{className:"text-sm text-gray-500",children:"or"}),l.jsx("input",{placeholder:"Image URL",className:"flex-1 px-3 py-2 border rounded",value:(r==null?void 0:r.photo_url)||"",onChange:k=>i(C=>({...C||{},photo_url:k.target.value}))})]}),(r==null?void 0:r.photo_url)&&l.jsx("img",{src:r==null?void 0:r.photo_url,alt:"preview",className:"mt-2 w-20 h-20 rounded-full object-cover"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",value:(r==null?void 0:r.phone)||"",onChange:k=>i(C=>({...C||{},phone:k.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province"}),l.jsxs("select",{className:"w-full px-4 py-3 border rounded",value:f,onChange:k=>h(k.target.value),children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Nakhon Pathom",children:"Nakhon Pathom"}),l.jsx("option",{value:"Bangkok",children:"Bangkok"}),l.jsx("option",{value:"Nonthaburi",children:"Nonthaburi"}),l.jsx("option",{value:"Pathum Thani",children:"Pathum Thani"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District/ Area"}),l.jsxs("select",{className:"w-full px-4 py-3 border rounded",value:p,onChange:k=>g(k.target.value),children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Phutthamonthon",children:"Phutthamonthon"}),l.jsx("option",{value:"Salaya",children:"Salaya"}),l.jsx("option",{value:"Bang Khae",children:"Bang Khae"}),l.jsx("option",{value:"Mueang",children:"Mueang"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-District/ Sub-Area"}),l.jsxs("select",{className:"w-full px-4 py-3 border rounded",value:y,onChange:k=>w(k.target.value),children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Phra Khanong Tai",children:"Phra Khanong Tai"}),l.jsx("option",{value:"Maha Sawat",children:"Maha Sawat"}),l.jsx("option",{value:"Salaya",children:"Salaya"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",placeholder:"House number, street, village",value:b,onChange:k=>S(k.target.value)})]}),n&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volunteer ID"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded bg-gray-50",value:(r==null?void 0:r.volunteer_code)||"",readOnly:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (click map to set)"}),l.jsx("div",{className:"h-64 w-full border rounded overflow-hidden",children:l.jsxs(x0,{center:O,zoom:14,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[l.jsx(_0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),l.jsx(_H,{onSet:(k,C)=>i(A=>({...A||{},lat:k,lng:C}))}),typeof N=="number"&&typeof E=="number"&&l.jsx(kd,{position:[N,E],icon:_})]})}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700",children:"Latitude"}),l.jsx("input",{type:"number",step:"any",className:"w-full px-3 py-2 border rounded",value:(r==null?void 0:r.lat)??"",onChange:k=>i(C=>({...C||{},lat:parseFloat(k.target.value)}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700",children:"Longitude"}),l.jsx("input",{type:"number",step:"any",className:"w-full px-3 py-2 border rounded",value:(r==null?void 0:r.lng)??"",onChange:k=>i(C=>({...C||{},lng:parseFloat(k.target.value)}))})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded",children:c?"Saving…":"Save"})]})]})]})},_H=({onSet:e})=>(iO({click(t){e(t.latlng.lat,t.latlng.lng)}}),null),bH=()=>{const{user:e}=Ye(),[t,n]=x.useState((e==null?void 0:e.full_name)||""),[r,i]=x.useState((e==null?void 0:e.photo_url)||""),[a,s]=x.useState(!1),[c,d]=x.useState((e==null?void 0:e.email)||""),[f,h]=x.useState(""),[p,g]=x.useState(""),[y,w]=x.useState(""),[b,S]=x.useState(""),[j,_]=x.useState(""),[N,E]=x.useState("");x.useEffect(()=>{n((e==null?void 0:e.full_name)||""),i((e==null?void 0:e.photo_url)||""),d((e==null?void 0:e.email)||"")},[e]);const O=C=>{if(!C)return;const A=new FileReader;A.onload=()=>i(String(A.result)),A.readAsDataURL(C)},k=async()=>{e&&(s(!0),await FM(e.id,{full_name:t,photo_url:r,email:c,phone:y,gender:f,dob:p,address:b}),s(!1),alert("Profile updated"))};return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Profile"}),l.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100",children:r?l.jsx("img",{src:r,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"👤"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Role"}),l.jsx("div",{className:"font-medium text-gray-900 capitalize",children:e==null?void 0:e.role})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",value:t,onChange:C=>n(C.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var A;return O((A=C.target.files)==null?void 0:A[0])}}),l.jsx("span",{className:"text-sm text-gray-500",children:"or"}),l.jsx("input",{className:"w-full md:flex-1 px-3 py-2 border rounded",placeholder:"Image URL",value:r,onChange:C=>i(C.target.value)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",type:"email",value:c,onChange:C=>d(C.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",value:y,onChange:C=>w(C.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),l.jsxs("select",{className:"w-full px-4 py-3 border rounded",value:f,onChange:C=>h(C.target.value),children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",type:"date",value:p,onChange:C=>g(C.target.value)})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx("input",{className:"w-full px-4 py-3 border rounded",value:b,onChange:C=>S(C.target.value)})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx("button",{onClick:k,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded",children:a?"Saving…":"Save Changes"})}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Password"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),l.jsx("input",{type:"password",className:"w-full px-4 py-3 border rounded",value:j,onChange:C=>_(C.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsx("input",{type:"password",className:"w-full px-4 py-3 border rounded",value:N,onChange:C=>E(C.target.value)})]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx("button",{className:"px-4 py-2 border rounded",onClick:async()=>{if(!e)return;if(j.length<6)return alert("Password must be at least 6 characters");if(j!==N)return alert("Passwords do not match");const{error:C}=await av(e.id,j);if(C)return alert(C.message);_(""),E(""),alert("Password updated")},children:"Update Password"})})]})]})]})};function wH(){const{user:e,loading:t}=Ye(),[n,r]=x.useState("dashboard"),[i,a]=x.useState(!1);if(t)return l.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})});if(!e)return l.jsx(JM,{});const s=()=>{switch(n){case"dashboard":return l.jsx(Ka,{});case"patients":return e.role==="doctor"||e.role==="volunteer"?l.jsx(uH,{}):l.jsx(Ka,{});case"profile":return e.role==="patient"?l.jsx(cH,{}):l.jsx(Ka,{});case"messages":return l.jsx(dH,{});case"tasks":return e.role==="volunteer"?l.jsx(hH,{}):l.jsx(P1,{personalOnly:!0,title:"My Tasks"});case"volunteer-tasks":return e.role==="doctor"?l.jsx(fH,{}):l.jsx(P1,{});case"volunteers":return e.role==="doctor"?l.jsx(yH,{}):l.jsx(Ka,{});case"map":return l.jsx(mH,{onBack:()=>r("dashboard")});case"records":return l.jsx(gH,{});case"appointments":return e.role==="patient"?l.jsx(vH,{}):l.jsx(Ka,{});case"user-profile":return l.jsx(bH,{});default:return l.jsx(Ka,{})}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(tL,{currentView:n,onViewChange:r,mobileOpen:i,setMobileOpen:a}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[l.jsx(eL,{currentView:n,onViewChange:r,onMenuClick:()=>a(!0)}),l.jsx("main",{className:"p-4 md:p-6 max-w-7xl w-full mx-auto",children:s()})]})]})}function jH(){return l.jsx(vM,{children:l.jsx(wH,{})})}$2(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(jH,{})}));
